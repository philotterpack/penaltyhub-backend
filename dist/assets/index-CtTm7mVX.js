(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function l(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(r){if(r.ep)return;r.ep=!0;const d=l(r);fetch(r.href,d)}})();var ou={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function Jy(){if(zp)return Wl;zp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,d){var p=null;if(d!==void 0&&(p=""+d),r.key!==void 0&&(p=""+r.key),"key"in r){d={};for(var g in r)g!=="key"&&(d[g]=r[g])}else d=r;return r=d.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:d}}return Wl.Fragment=t,Wl.jsx=l,Wl.jsxs=l,Wl}var Bp;function Yy(){return Bp||(Bp=1,ou.exports=Jy()),ou.exports}var x=Yy(),au={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function Ky(){if(Op)return ye;Op=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),_=Symbol.iterator;function C(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,M={};function P(R,X,L){this.props=R,this.context=X,this.refs=M,this.updater=L||N}P.prototype.isReactComponent={},P.prototype.setState=function(R,X){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,X,"setState")},P.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function H(){}H.prototype=P.prototype;function F(R,X,L){this.props=R,this.context=X,this.refs=M,this.updater=L||N}var W=F.prototype=new H;W.constructor=F,w(W,P.prototype),W.isPureReactComponent=!0;var ne=Array.isArray;function q(){}var Y={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function Z(R,X,L){var J=L.ref;return{$$typeof:i,type:R,key:X,ref:J!==void 0?J:null,props:L}}function ie(R,X){return Z(R.type,X,R.props)}function fe(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function oe(R){var X={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(L){return X[L]})}var pe=/\/+/g;function B(R,X){return typeof R=="object"&&R!==null&&R.key!=null?oe(""+R.key):X.toString(36)}function re(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(q,q):(R.status="pending",R.then(function(X){R.status==="pending"&&(R.status="fulfilled",R.value=X)},function(X){R.status==="pending"&&(R.status="rejected",R.reason=X)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function k(R,X,L,J,Q){var ee=typeof R;(ee==="undefined"||ee==="boolean")&&(R=null);var se=!1;if(R===null)se=!0;else switch(ee){case"bigint":case"string":case"number":se=!0;break;case"object":switch(R.$$typeof){case i:case t:se=!0;break;case v:return se=R._init,k(se(R._payload),X,L,J,Q)}}if(se)return Q=Q(R),se=J===""?"."+B(R,0):J,ne(Q)?(L="",se!=null&&(L=se.replace(pe,"$&/")+"/"),k(Q,X,L,"",function(He){return He})):Q!=null&&(fe(Q)&&(Q=ie(Q,L+(Q.key==null||R&&R.key===Q.key?"":(""+Q.key).replace(pe,"$&/")+"/")+se)),X.push(Q)),1;se=0;var Ne=J===""?".":J+":";if(ne(R))for(var ce=0;ce<R.length;ce++)J=R[ce],ee=Ne+B(J,ce),se+=k(J,X,L,ee,Q);else if(ce=C(R),typeof ce=="function")for(R=ce.call(R),ce=0;!(J=R.next()).done;)J=J.value,ee=Ne+B(J,ce++),se+=k(J,X,L,ee,Q);else if(ee==="object"){if(typeof R.then=="function")return k(re(R),X,L,J,Q);throw X=String(R),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return se}function $(R,X,L){if(R==null)return R;var J=[],Q=0;return k(R,J,"","",function(ee){return X.call(L,ee,Q++)}),J}function ue(R){if(R._status===-1){var X=R._result;X=X(),X.then(function(L){(R._status===0||R._status===-1)&&(R._status=1,R._result=L)},function(L){(R._status===0||R._status===-1)&&(R._status=2,R._result=L)}),R._status===-1&&(R._status=0,R._result=X)}if(R._status===1)return R._result.default;throw R._result}var Ce=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Ie={map:$,forEach:function(R,X,L){$(R,function(){X.apply(this,arguments)},L)},count:function(R){var X=0;return $(R,function(){X++}),X},toArray:function(R){return $(R,function(X){return X})||[]},only:function(R){if(!fe(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ye.Activity=S,ye.Children=Ie,ye.Component=P,ye.Fragment=l,ye.Profiler=r,ye.PureComponent=F,ye.StrictMode=a,ye.Suspense=y,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ye.__COMPILER_RUNTIME={__proto__:null,c:function(R){return Y.H.useMemoCache(R)}},ye.cache=function(R){return function(){return R.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(R,X,L){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var J=w({},R.props),Q=R.key;if(X!=null)for(ee in X.key!==void 0&&(Q=""+X.key),X)!j.call(X,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&X.ref===void 0||(J[ee]=X[ee]);var ee=arguments.length-2;if(ee===1)J.children=L;else if(1<ee){for(var se=Array(ee),Ne=0;Ne<ee;Ne++)se[Ne]=arguments[Ne+2];J.children=se}return Z(R.type,Q,J)},ye.createContext=function(R){return R={$$typeof:p,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:d,_context:R},R},ye.createElement=function(R,X,L){var J,Q={},ee=null;if(X!=null)for(J in X.key!==void 0&&(ee=""+X.key),X)j.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(Q[J]=X[J]);var se=arguments.length-2;if(se===1)Q.children=L;else if(1<se){for(var Ne=Array(se),ce=0;ce<se;ce++)Ne[ce]=arguments[ce+2];Q.children=Ne}if(R&&R.defaultProps)for(J in se=R.defaultProps,se)Q[J]===void 0&&(Q[J]=se[J]);return Z(R,ee,Q)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(R){return{$$typeof:g,render:R}},ye.isValidElement=fe,ye.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:ue}},ye.memo=function(R,X){return{$$typeof:h,type:R,compare:X===void 0?null:X}},ye.startTransition=function(R){var X=Y.T,L={};Y.T=L;try{var J=R(),Q=Y.S;Q!==null&&Q(L,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(q,Ce)}catch(ee){Ce(ee)}finally{X!==null&&L.types!==null&&(X.types=L.types),Y.T=X}},ye.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ye.use=function(R){return Y.H.use(R)},ye.useActionState=function(R,X,L){return Y.H.useActionState(R,X,L)},ye.useCallback=function(R,X){return Y.H.useCallback(R,X)},ye.useContext=function(R){return Y.H.useContext(R)},ye.useDebugValue=function(){},ye.useDeferredValue=function(R,X){return Y.H.useDeferredValue(R,X)},ye.useEffect=function(R,X){return Y.H.useEffect(R,X)},ye.useEffectEvent=function(R){return Y.H.useEffectEvent(R)},ye.useId=function(){return Y.H.useId()},ye.useImperativeHandle=function(R,X,L){return Y.H.useImperativeHandle(R,X,L)},ye.useInsertionEffect=function(R,X){return Y.H.useInsertionEffect(R,X)},ye.useLayoutEffect=function(R,X){return Y.H.useLayoutEffect(R,X)},ye.useMemo=function(R,X){return Y.H.useMemo(R,X)},ye.useOptimistic=function(R,X){return Y.H.useOptimistic(R,X)},ye.useReducer=function(R,X,L){return Y.H.useReducer(R,X,L)},ye.useRef=function(R){return Y.H.useRef(R)},ye.useState=function(R){return Y.H.useState(R)},ye.useSyncExternalStore=function(R,X,L){return Y.H.useSyncExternalStore(R,X,L)},ye.useTransition=function(){return Y.H.useTransition()},ye.version="19.2.4",ye}var Fp;function Mu(){return Fp||(Fp=1,au.exports=Ky()),au.exports}var he=Mu(),su={exports:{}},jl={},ru={exports:{}},uu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function Xy(){return Jp||(Jp=1,(function(i){function t(k,$){var ue=k.length;k.push($);e:for(;0<ue;){var Ce=ue-1>>>1,Ie=k[Ce];if(0<r(Ie,$))k[Ce]=$,k[ue]=Ie,ue=Ce;else break e}}function l(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var $=k[0],ue=k.pop();if(ue!==$){k[0]=ue;e:for(var Ce=0,Ie=k.length,R=Ie>>>1;Ce<R;){var X=2*(Ce+1)-1,L=k[X],J=X+1,Q=k[J];if(0>r(L,ue))J<Ie&&0>r(Q,L)?(k[Ce]=Q,k[J]=ue,Ce=J):(k[Ce]=L,k[X]=ue,Ce=X);else if(J<Ie&&0>r(Q,ue))k[Ce]=Q,k[J]=ue,Ce=J;else break e}}return $}function r(k,$){var ue=k.sortIndex-$.sortIndex;return ue!==0?ue:k.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,S=null,_=3,C=!1,N=!1,w=!1,M=!1,P=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function W(k){for(var $=l(h);$!==null;){if($.callback===null)a(h);else if($.startTime<=k)a(h),$.sortIndex=$.expirationTime,t(y,$);else break;$=l(h)}}function ne(k){if(w=!1,W(k),!N)if(l(y)!==null)N=!0,q||(q=!0,oe());else{var $=l(h);$!==null&&re(ne,$.startTime-k)}}var q=!1,Y=-1,j=5,Z=-1;function ie(){return M?!0:!(i.unstable_now()-Z<j)}function fe(){if(M=!1,q){var k=i.unstable_now();Z=k;var $=!0;try{e:{N=!1,w&&(w=!1,H(Y),Y=-1),C=!0;var ue=_;try{t:{for(W(k),S=l(y);S!==null&&!(S.expirationTime>k&&ie());){var Ce=S.callback;if(typeof Ce=="function"){S.callback=null,_=S.priorityLevel;var Ie=Ce(S.expirationTime<=k);if(k=i.unstable_now(),typeof Ie=="function"){S.callback=Ie,W(k),$=!0;break t}S===l(y)&&a(y),W(k)}else a(y);S=l(y)}if(S!==null)$=!0;else{var R=l(h);R!==null&&re(ne,R.startTime-k),$=!1}}break e}finally{S=null,_=ue,C=!1}$=void 0}}finally{$?oe():q=!1}}}var oe;if(typeof F=="function")oe=function(){F(fe)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,B=pe.port2;pe.port1.onmessage=fe,oe=function(){B.postMessage(null)}}else oe=function(){P(fe,0)};function re(k,$){Y=P(function(){k(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(k){switch(_){case 1:case 2:case 3:var $=3;break;default:$=_}var ue=_;_=$;try{return k()}finally{_=ue}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(k,$){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ue=_;_=k;try{return $()}finally{_=ue}},i.unstable_scheduleCallback=function(k,$,ue){var Ce=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ce+ue:Ce):ue=Ce,k){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=ue+Ie,k={id:v++,callback:$,priorityLevel:k,startTime:ue,expirationTime:Ie,sortIndex:-1},ue>Ce?(k.sortIndex=ue,t(h,k),l(y)===null&&k===l(h)&&(w?(H(Y),Y=-1):w=!0,re(ne,ue-Ce))):(k.sortIndex=Ie,t(y,k),N||C||(N=!0,q||(q=!0,oe()))),k},i.unstable_shouldYield=ie,i.unstable_wrapCallback=function(k){var $=_;return function(){var ue=_;_=$;try{return k.apply(this,arguments)}finally{_=ue}}}})(uu)),uu}var Yp;function Qy(){return Yp||(Yp=1,ru.exports=Xy()),ru.exports}var cu={exports:{}},at={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function Zy(){if(Kp)return at;Kp=1;var i=Mu();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(y,h,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:y,containerInfo:h,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return at.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,at.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return d(y,h,null,v)},at.flushSync=function(y){var h=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=v,a.d.f()}},at.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},at.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},at.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,C=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:C}):v==="script"&&a.d.X(y,{crossOrigin:S,integrity:_,fetchPriority:C,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},at.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},at.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},at.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},at.requestFormReset=function(y){a.d.r(y)},at.unstable_batchedUpdates=function(y,h){return y(h)},at.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},at.useFormStatus=function(){return p.H.useHostTransitionStatus()},at.version="19.2.4",at}var Xp;function $y(){if(Xp)return cu.exports;Xp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),cu.exports=Zy(),cu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function Wy(){if(Qp)return jl;Qp=1;var i=Qy(),t=Mu(),l=$y();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(s=f.return,s!==null){o=s;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return y(f),e;if(m===s)return y(f),n;m=m.sibling}throw Error(a(188))}if(o.return!==s.return)o=f,s=m;else{for(var T=!1,E=f.child;E;){if(E===o){T=!0,o=f,s=m;break}if(E===s){T=!0,s=f,o=m;break}E=E.sibling}if(!T){for(E=m.child;E;){if(E===o){T=!0,o=m,s=f;break}if(E===s){T=!0,s=m,o=f;break}E=E.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,_=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=fe&&e[fe]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Symbol.for("react.client.reference");function B(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===pe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case P:return"Profiler";case M:return"StrictMode";case ne:return"Suspense";case q:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case F:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case W:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return n=e.displayName||null,n!==null?n:B(e.type)||"Memo";case j:n=e._payload,e=e._init;try{return B(e(n))}catch{}}return null}var re=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ce=[],Ie=-1;function R(e){return{current:e}}function X(e){0>Ie||(e.current=Ce[Ie],Ce[Ie]=null,Ie--)}function L(e,n){Ie++,Ce[Ie]=e.current,e.current=n}var J=R(null),Q=R(null),ee=R(null),se=R(null);function Ne(e,n){switch(L(ee,n),L(Q,e),L(J,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?cp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=cp(n),e=dp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(J),L(J,e)}function ce(){X(J),X(Q),X(ee)}function He(e){e.memoizedState!==null&&L(se,e);var n=J.current,o=dp(n,e.type);n!==o&&(L(Q,e),L(J,o))}function Yt(e){Q.current===e&&(X(J),X(Q)),se.current===e&&(X(se),Xl._currentValue=ue)}var Ye,Yn;function Kn(e){if(Ye===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Ye=n&&n[1]||"",Yn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ye+e+Yn}var Ba=!1;function Oa(e,n){if(!e||Ba)return"";Ba=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(V){var G=V}Reflect.construct(e,[],K)}else{try{K.call()}catch(V){G=V}e.call(K.prototype)}}else{try{throw Error()}catch(V){G=V}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(V){if(V&&G&&typeof V.stack=="string")return[V.stack,G.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),T=m[0],E=m[1];if(T&&E){var A=T.split(`
`),U=E.split(`
`);for(f=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(s===A.length||f===U.length)for(s=A.length-1,f=U.length-1;1<=s&&0<=f&&A[s]!==U[f];)f--;for(;1<=s&&0<=f;s--,f--)if(A[s]!==U[f]){if(s!==1||f!==1)do if(s--,f--,0>f||A[s]!==U[f]){var z=`
`+A[s].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=s&&0<=f);break}}}finally{Ba=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Kn(o):""}function _g(e,n){switch(e.tag){case 26:case 27:case 5:return Kn(e.type);case 16:return Kn("Lazy");case 13:return e.child!==n&&n!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return Oa(e.type,!1);case 11:return Oa(e.type.render,!1);case 1:return Oa(e.type,!0);case 31:return Kn("Activity");default:return""}}function Pu(e){try{var n="",o=null;do n+=_g(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Fa=Object.prototype.hasOwnProperty,Ja=i.unstable_scheduleCallback,Ya=i.unstable_cancelCallback,Eg=i.unstable_shouldYield,Cg=i.unstable_requestPaint,vt=i.unstable_now,Ag=i.unstable_getCurrentPriorityLevel,zu=i.unstable_ImmediatePriority,Bu=i.unstable_UserBlockingPriority,lo=i.unstable_NormalPriority,Ng=i.unstable_LowPriority,Ou=i.unstable_IdlePriority,bg=i.log,Rg=i.unstable_setDisableYieldValue,al=null,xt=null;function xn(e){if(typeof bg=="function"&&Rg(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(al,e)}catch{}}var Tt=Math.clz32?Math.clz32:Ig,Mg=Math.log,wg=Math.LN2;function Ig(e){return e>>>=0,e===0?32:31-(Mg(e)/wg|0)|0}var oo=256,ao=262144,so=4194304;function Xn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ro(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var f=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var E=s&134217727;return E!==0?(s=E&~m,s!==0?f=Xn(s):(T&=E,T!==0?f=Xn(T):o||(o=E&~e,o!==0&&(f=Xn(o))))):(E=s&~m,E!==0?f=Xn(E):T!==0?f=Xn(T):o||(o=s&~e,o!==0&&(f=Xn(o)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,o=n&-n,m>=o||m===32&&(o&4194048)!==0)?n:f}function sl(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Dg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fu(){var e=so;return so<<=1,(so&62914560)===0&&(so=4194304),e}function Ka(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function rl(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ug(e,n,o,s,f,m){var T=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var E=e.entanglements,A=e.expirationTimes,U=e.hiddenUpdates;for(o=T&~o;0<o;){var z=31-Tt(o),K=1<<z;E[z]=0,A[z]=-1;var G=U[z];if(G!==null)for(U[z]=null,z=0;z<G.length;z++){var V=G[z];V!==null&&(V.lane&=-536870913)}o&=~K}s!==0&&Ju(e,s,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~n))}function Ju(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Tt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function Yu(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-Tt(o),f=1<<s;f&n|e[s]&n&&(e[s]|=n),o&=~f}}function Ku(e,n){var o=n&-n;return o=(o&42)!==0?1:Xa(o),(o&(e.suspendedLanes|n))!==0?0:o}function Xa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xu(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:kp(e.type))}function Qu(e,n){var o=$.p;try{return $.p=e,n()}finally{$.p=o}}var Tn=Math.random().toString(36).slice(2),tt="__reactFiber$"+Tn,dt="__reactProps$"+Tn,mi="__reactContainer$"+Tn,Za="__reactEvents$"+Tn,kg="__reactListeners$"+Tn,Lg="__reactHandles$"+Tn,Zu="__reactResources$"+Tn,ul="__reactMarker$"+Tn;function $a(e){delete e[tt],delete e[dt],delete e[Za],delete e[kg],delete e[Lg]}function hi(e){var n=e[tt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[mi]||o[tt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=vp(e);e!==null;){if(o=e[tt])return o;e=vp(e)}return n}e=o,o=e.parentNode}return null}function gi(e){if(e=e[tt]||e[mi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cl(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function yi(e){var n=e[Zu];return n||(n=e[Zu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function We(e){e[ul]=!0}var $u=new Set,Wu={};function Qn(e,n){vi(e,n),vi(e+"Capture",n)}function vi(e,n){for(Wu[e]=n,e=0;e<n.length;e++)$u.add(n[e])}var Gg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ju={},ec={};function qg(e){return Fa.call(ec,e)?!0:Fa.call(ju,e)?!1:Gg.test(e)?ec[e]=!0:(ju[e]=!0,!1)}function uo(e,n,o){if(qg(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function co(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function $t(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function Rt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Hg(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,m.call(this,T)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wa(e){if(!e._valueTracker){var n=tc(e)?"checked":"value";e._valueTracker=Hg(e,n,""+e[n])}}function nc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=tc(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function fo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vg=/[\n"\\]/g;function Mt(e){return e.replace(Vg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ja(e,n,o,s,f,m,T,E){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Rt(n)):e.value!==""+Rt(n)&&(e.value=""+Rt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?es(e,T,Rt(n)):o!=null?es(e,T,Rt(o)):s!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Rt(E):e.removeAttribute("name")}function ic(e,n,o,s,f,m,T,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Wa(e);return}o=o!=null?""+Rt(o):"",n=n!=null?""+Rt(n):o,E||n===e.value||(e.value=n),e.defaultValue=n}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=E?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),Wa(e)}function es(e,n,o){n==="number"&&fo(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function xi(e,n,o,s){if(e=e.options,n){n={};for(var f=0;f<o.length;f++)n["$"+o[f]]=!0;for(o=0;o<e.length;o++)f=n.hasOwnProperty("$"+e[o].value),e[o].selected!==f&&(e[o].selected=f),f&&s&&(e[o].defaultSelected=!0)}else{for(o=""+Rt(o),n=null,f=0;f<e.length;f++){if(e[f].value===o){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function lc(e,n,o){if(n!=null&&(n=""+Rt(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+Rt(o):""}function oc(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(re(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=Rt(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),Wa(e)}function Ti(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var Pg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ac(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||Pg.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function sc(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var f in n)s=n[f],n.hasOwnProperty(f)&&o[f]!==s&&ac(e,f,s)}else for(var m in n)n.hasOwnProperty(m)&&ac(e,m,n[m])}function ts(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function po(e){return Bg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wt(){}var ns=null;function is(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Si=null,_i=null;function rc(e){var n=gi(e);if(n&&(e=n.stateNode)){var o=e[dt]||null;e:switch(e=n.stateNode,n.type){case"input":if(ja(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Mt(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var f=s[dt]||null;if(!f)throw Error(a(90));ja(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&nc(s)}break e;case"textarea":lc(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&xi(e,!!o.multiple,n,!1)}}}var ls=!1;function uc(e,n,o){if(ls)return e(n,o);ls=!0;try{var s=e(n);return s}finally{if(ls=!1,(Si!==null||_i!==null)&&(ea(),Si&&(n=Si,e=_i,_i=Si=null,rc(n),e)))for(n=0;n<e.length;n++)rc(e[n])}}function dl(e,n){var o=e.stateNode;if(o===null)return null;var s=o[dt]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),os=!1;if(jt)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){os=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{os=!1}var Sn=null,as=null,mo=null;function cc(){if(mo)return mo;var e,n=as,o=n.length,s,f="value"in Sn?Sn.value:Sn.textContent,m=f.length;for(e=0;e<o&&n[e]===f[e];e++);var T=o-e;for(s=1;s<=T&&n[o-s]===f[m-s];s++);return mo=f.slice(e,1<s?1-s:void 0)}function ho(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function go(){return!0}function dc(){return!1}function ft(e){function n(o,s,f,m,T){this._reactName=o,this._targetInst=f,this.type=s,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(o=e[E],this[E]=o?o(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?go:dc,this.isPropagationStopped=dc,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),n}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=ft(Zn),pl=S({},Zn,{view:0,detail:0}),Og=ft(pl),ss,rs,ml,vo=S({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ml&&(ml&&e.type==="mousemove"?(ss=e.screenX-ml.screenX,rs=e.screenY-ml.screenY):rs=ss=0,ml=e),ss)},movementY:function(e){return"movementY"in e?e.movementY:rs}}),fc=ft(vo),Fg=S({},vo,{dataTransfer:0}),Jg=ft(Fg),Yg=S({},pl,{relatedTarget:0}),us=ft(Yg),Kg=S({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Xg=ft(Kg),Qg=S({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zg=ft(Qg),$g=S({},Zn,{data:0}),pc=ft($g),Wg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=e0[e])?!!n[e]:!1}function cs(){return t0}var n0=S({},pl,{key:function(e){if(e.key){var n=Wg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(e){return e.type==="keypress"?ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),i0=ft(n0),l0=S({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mc=ft(l0),o0=S({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),a0=ft(o0),s0=S({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),r0=ft(s0),u0=S({},vo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),c0=ft(u0),d0=S({},Zn,{newState:0,oldState:0}),f0=ft(d0),p0=[9,13,27,32],ds=jt&&"CompositionEvent"in window,hl=null;jt&&"documentMode"in document&&(hl=document.documentMode);var m0=jt&&"TextEvent"in window&&!hl,hc=jt&&(!ds||hl&&8<hl&&11>=hl),gc=" ",yc=!1;function vc(e,n){switch(e){case"keyup":return p0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ei=!1;function h0(e,n){switch(e){case"compositionend":return xc(n);case"keypress":return n.which!==32?null:(yc=!0,gc);case"textInput":return e=n.data,e===gc&&yc?null:e;default:return null}}function g0(e,n){if(Ei)return e==="compositionend"||!ds&&vc(e,n)?(e=cc(),mo=as=Sn=null,Ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hc&&n.locale!=="ko"?null:n.data;default:return null}}var y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!y0[e.type]:n==="textarea"}function Sc(e,n,o,s){Si?_i?_i.push(s):_i=[s]:Si=s,n=sa(n,"onChange"),0<n.length&&(o=new yo("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var gl=null,yl=null;function v0(e){lp(e,0)}function xo(e){var n=cl(e);if(nc(n))return e}function _c(e,n){if(e==="change")return n}var Ec=!1;if(jt){var fs;if(jt){var ps="oninput"in document;if(!ps){var Cc=document.createElement("div");Cc.setAttribute("oninput","return;"),ps=typeof Cc.oninput=="function"}fs=ps}else fs=!1;Ec=fs&&(!document.documentMode||9<document.documentMode)}function Ac(){gl&&(gl.detachEvent("onpropertychange",Nc),yl=gl=null)}function Nc(e){if(e.propertyName==="value"&&xo(yl)){var n=[];Sc(n,yl,e,is(e)),uc(v0,n)}}function x0(e,n,o){e==="focusin"?(Ac(),gl=n,yl=o,gl.attachEvent("onpropertychange",Nc)):e==="focusout"&&Ac()}function T0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xo(yl)}function S0(e,n){if(e==="click")return xo(n)}function _0(e,n){if(e==="input"||e==="change")return xo(n)}function E0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var St=typeof Object.is=="function"?Object.is:E0;function vl(e,n){if(St(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var f=o[s];if(!Fa.call(n,f)||!St(e[f],n[f]))return!1}return!0}function bc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rc(e,n){var o=bc(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=bc(o)}}function Mc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Mc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fo(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=fo(e.document)}return n}function ms(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var C0=jt&&"documentMode"in document&&11>=document.documentMode,Ci=null,hs=null,xl=null,gs=!1;function Ic(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;gs||Ci==null||Ci!==fo(s)||(s=Ci,"selectionStart"in s&&ms(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),xl&&vl(xl,s)||(xl=s,s=sa(hs,"onSelect"),0<s.length&&(n=new yo("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=Ci)))}function $n(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Ai={animationend:$n("Animation","AnimationEnd"),animationiteration:$n("Animation","AnimationIteration"),animationstart:$n("Animation","AnimationStart"),transitionrun:$n("Transition","TransitionRun"),transitionstart:$n("Transition","TransitionStart"),transitioncancel:$n("Transition","TransitionCancel"),transitionend:$n("Transition","TransitionEnd")},ys={},Dc={};jt&&(Dc=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function Wn(e){if(ys[e])return ys[e];if(!Ai[e])return e;var n=Ai[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Dc)return ys[e]=n[o];return e}var Uc=Wn("animationend"),kc=Wn("animationiteration"),Lc=Wn("animationstart"),A0=Wn("transitionrun"),N0=Wn("transitionstart"),b0=Wn("transitioncancel"),Gc=Wn("transitionend"),qc=new Map,vs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vs.push("scrollEnd");function Pt(e,n){qc.set(e,n),Qn(n,[e])}var To=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wt=[],Ni=0,xs=0;function So(){for(var e=Ni,n=xs=Ni=0;n<e;){var o=wt[n];wt[n++]=null;var s=wt[n];wt[n++]=null;var f=wt[n];wt[n++]=null;var m=wt[n];if(wt[n++]=null,s!==null&&f!==null){var T=s.pending;T===null?f.next=f:(f.next=T.next,T.next=f),s.pending=f}m!==0&&Hc(o,f,m)}}function _o(e,n,o,s){wt[Ni++]=e,wt[Ni++]=n,wt[Ni++]=o,wt[Ni++]=s,xs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ts(e,n,o,s){return _o(e,n,o,s),Eo(e)}function jn(e,n){return _o(e,null,null,n),Eo(e)}function Hc(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var f=!1,m=e.return;m!==null;)m.childLanes|=o,s=m.alternate,s!==null&&(s.childLanes|=o),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&n!==null&&(f=31-Tt(o),e=m.hiddenUpdates,s=e[f],s===null?e[f]=[n]:s.push(n),n.lane=o|536870912),m):null}function Eo(e){if(50<zl)throw zl=0,Mr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var bi={};function R0(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,n,o,s){return new R0(e,n,o,s)}function Ss(e){return e=e.prototype,!(!e||!e.isReactComponent)}function en(e,n){var o=e.alternate;return o===null?(o=_t(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Vc(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Co(e,n,o,s,f,m){var T=0;if(s=e,typeof e=="function")Ss(e)&&(T=1);else if(typeof e=="string")T=Uy(e,o,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=_t(31,o,n,f),e.elementType=Z,e.lanes=m,e;case w:return ei(o.children,f,m,n);case M:T=8,f|=24;break;case P:return e=_t(12,o,n,f|2),e.elementType=P,e.lanes=m,e;case ne:return e=_t(13,o,n,f),e.elementType=ne,e.lanes=m,e;case q:return e=_t(19,o,n,f),e.elementType=q,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:T=10;break e;case H:T=9;break e;case W:T=11;break e;case Y:T=14;break e;case j:T=16,s=null;break e}T=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=_t(T,o,n,f),n.elementType=e,n.type=s,n.lanes=m,n}function ei(e,n,o,s){return e=_t(7,e,s,n),e.lanes=o,e}function _s(e,n,o){return e=_t(6,e,null,n),e.lanes=o,e}function Pc(e){var n=_t(18,null,null,0);return n.stateNode=e,n}function Es(e,n,o){return n=_t(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var zc=new WeakMap;function It(e,n){if(typeof e=="object"&&e!==null){var o=zc.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Pu(n)},zc.set(e,n),n)}return{value:e,source:n,stack:Pu(n)}}var Ri=[],Mi=0,Ao=null,Tl=0,Dt=[],Ut=0,_n=null,Kt=1,Xt="";function tn(e,n){Ri[Mi++]=Tl,Ri[Mi++]=Ao,Ao=e,Tl=n}function Bc(e,n,o){Dt[Ut++]=Kt,Dt[Ut++]=Xt,Dt[Ut++]=_n,_n=e;var s=Kt;e=Xt;var f=32-Tt(s)-1;s&=~(1<<f),o+=1;var m=32-Tt(n)+f;if(30<m){var T=f-f%5;m=(s&(1<<T)-1).toString(32),s>>=T,f-=T,Kt=1<<32-Tt(n)+f|o<<f|s,Xt=m+e}else Kt=1<<m|o<<f|s,Xt=e}function Cs(e){e.return!==null&&(tn(e,1),Bc(e,1,0))}function As(e){for(;e===Ao;)Ao=Ri[--Mi],Ri[Mi]=null,Tl=Ri[--Mi],Ri[Mi]=null;for(;e===_n;)_n=Dt[--Ut],Dt[Ut]=null,Xt=Dt[--Ut],Dt[Ut]=null,Kt=Dt[--Ut],Dt[Ut]=null}function Oc(e,n){Dt[Ut++]=Kt,Dt[Ut++]=Xt,Dt[Ut++]=_n,Kt=n.id,Xt=n.overflow,_n=e}var nt=null,Ve=null,Ae=!1,En=null,kt=!1,Ns=Error(a(519));function Cn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl(It(n,e)),Ns}function Fc(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[tt]=e,n[dt]=s,o){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(o=0;o<Ol.length;o++)Se(Ol[o],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":Se("invalid",n),ic(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Se("invalid",n);break;case"textarea":Se("invalid",n),oc(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||rp(n.textContent,o)?(s.popover!=null&&(Se("beforetoggle",n),Se("toggle",n)),s.onScroll!=null&&Se("scroll",n),s.onScrollEnd!=null&&Se("scrollend",n),s.onClick!=null&&(n.onclick=Wt),n=!0):n=!1,n||Cn(e,!0)}function Jc(e){for(nt=e.return;nt;)switch(nt.tag){case 5:case 31:case 13:kt=!1;return;case 27:case 3:kt=!0;return;default:nt=nt.return}}function wi(e){if(e!==nt)return!1;if(!Ae)return Jc(e),Ae=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Fr(e.type,e.memoizedProps)),o=!o),o&&Ve&&Cn(e),Jc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ve=yp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ve=yp(e)}else n===27?(n=Ve,Hn(e.type)?(e=Qr,Qr=null,Ve=e):Ve=n):Ve=nt?Gt(e.stateNode.nextSibling):null;return!0}function ti(){Ve=nt=null,Ae=!1}function bs(){var e=En;return e!==null&&(gt===null?gt=e:gt.push.apply(gt,e),En=null),e}function Sl(e){En===null?En=[e]:En.push(e)}var Rs=R(null),ni=null,nn=null;function An(e,n,o){L(Rs,n._currentValue),n._currentValue=o}function ln(e){e._currentValue=Rs.current,X(Rs)}function Ms(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function ws(e,n,o,s){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=f;for(var A=0;A<n.length;A++)if(E.context===n[A]){m.lanes|=o,E=m.alternate,E!==null&&(E.lanes|=o),Ms(m.return,o,e),s||(T=null);break e}m=E.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=o,m=T.alternate,m!==null&&(m.lanes|=o),Ms(T,o,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Ii(e,n,o,s){e=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var E=f.type;St(f.pendingProps.value,T.value)||(e!==null?e.push(E):e=[E])}}else if(f===se.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Xl):e=[Xl])}f=f.return}e!==null&&ws(n,e,o,s),n.flags|=262144}function No(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ii(e){ni=e,nn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return Yc(ni,e)}function bo(e,n){return ni===null&&ii(e),Yc(e,n)}function Yc(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},nn===null){if(e===null)throw Error(a(308));nn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else nn=nn.next=n;return o}var M0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},w0=i.unstable_scheduleCallback,I0=i.unstable_NormalPriority,Ke={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Is(){return{controller:new M0,data:new Map,refCount:0}}function _l(e){e.refCount--,e.refCount===0&&w0(I0,function(){e.controller.abort()})}var El=null,Ds=0,Di=0,Ui=null;function D0(e,n){if(El===null){var o=El=[];Ds=0,Di=Lr(),Ui={status:"pending",value:void 0,then:function(s){o.push(s)}}}return Ds++,n.then(Kc,Kc),n}function Kc(){if(--Ds===0&&El!==null){Ui!==null&&(Ui.status="fulfilled");var e=El;El=null,Di=0,Ui=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function U0(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var f=0;f<o.length;f++)(0,o[f])(n)},function(f){for(s.status="rejected",s.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),s}var Xc=k.S;k.S=function(e,n){Df=vt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&D0(e,n),Xc!==null&&Xc(e,n)};var li=R(null);function Us(){var e=li.current;return e!==null?e:qe.pooledCache}function Ro(e,n){n===null?L(li,li.current):L(li,n.pool)}function Qc(){var e=Us();return e===null?null:{parent:Ke._currentValue,pool:e}}var ki=Error(a(460)),ks=Error(a(474)),Mo=Error(a(542)),wo={then:function(){}};function Zc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $c(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(Wt,Wt),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,jc(e),e;default:if(typeof n.status=="string")n.then(Wt,Wt);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=s}},function(s){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,jc(e),e}throw ai=n,ki}}function oi(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ai=o,ki):o}}var ai=null;function Wc(){if(ai===null)throw Error(a(459));var e=ai;return ai=null,e}function jc(e){if(e===ki||e===Mo)throw Error(a(483))}var Li=null,Cl=0;function Io(e){var n=Cl;return Cl+=1,Li===null&&(Li=[]),$c(Li,e,n)}function Al(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Do(e,n){throw n.$$typeof===_?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ed(e){function n(I,b){if(e){var D=I.deletions;D===null?(I.deletions=[b],I.flags|=16):D.push(b)}}function o(I,b){if(!e)return null;for(;b!==null;)n(I,b),b=b.sibling;return null}function s(I){for(var b=new Map;I!==null;)I.key!==null?b.set(I.key,I):b.set(I.index,I),I=I.sibling;return b}function f(I,b){return I=en(I,b),I.index=0,I.sibling=null,I}function m(I,b,D){return I.index=D,e?(D=I.alternate,D!==null?(D=D.index,D<b?(I.flags|=67108866,b):D):(I.flags|=67108866,b)):(I.flags|=1048576,b)}function T(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function E(I,b,D,O){return b===null||b.tag!==6?(b=_s(D,I.mode,O),b.return=I,b):(b=f(b,D),b.return=I,b)}function A(I,b,D,O){var de=D.type;return de===w?z(I,b,D.props.children,O,D.key):b!==null&&(b.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===j&&oi(de)===b.type)?(b=f(b,D.props),Al(b,D),b.return=I,b):(b=Co(D.type,D.key,D.props,null,I.mode,O),Al(b,D),b.return=I,b)}function U(I,b,D,O){return b===null||b.tag!==4||b.stateNode.containerInfo!==D.containerInfo||b.stateNode.implementation!==D.implementation?(b=Es(D,I.mode,O),b.return=I,b):(b=f(b,D.children||[]),b.return=I,b)}function z(I,b,D,O,de){return b===null||b.tag!==7?(b=ei(D,I.mode,O,de),b.return=I,b):(b=f(b,D),b.return=I,b)}function K(I,b,D){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=_s(""+b,I.mode,D),b.return=I,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case C:return D=Co(b.type,b.key,b.props,null,I.mode,D),Al(D,b),D.return=I,D;case N:return b=Es(b,I.mode,D),b.return=I,b;case j:return b=oi(b),K(I,b,D)}if(re(b)||oe(b))return b=ei(b,I.mode,D,null),b.return=I,b;if(typeof b.then=="function")return K(I,Io(b),D);if(b.$$typeof===F)return K(I,bo(I,b),D);Do(I,b)}return null}function G(I,b,D,O){var de=b!==null?b.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return de!==null?null:E(I,b,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case C:return D.key===de?A(I,b,D,O):null;case N:return D.key===de?U(I,b,D,O):null;case j:return D=oi(D),G(I,b,D,O)}if(re(D)||oe(D))return de!==null?null:z(I,b,D,O,null);if(typeof D.then=="function")return G(I,b,Io(D),O);if(D.$$typeof===F)return G(I,b,bo(I,D),O);Do(I,D)}return null}function V(I,b,D,O,de){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return I=I.get(D)||null,E(b,I,""+O,de);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return I=I.get(O.key===null?D:O.key)||null,A(b,I,O,de);case N:return I=I.get(O.key===null?D:O.key)||null,U(b,I,O,de);case j:return O=oi(O),V(I,b,D,O,de)}if(re(O)||oe(O))return I=I.get(D)||null,z(b,I,O,de,null);if(typeof O.then=="function")return V(I,b,D,Io(O),de);if(O.$$typeof===F)return V(I,b,D,bo(b,O),de);Do(b,O)}return null}function le(I,b,D,O){for(var de=null,be=null,ae=b,xe=b=0,Ee=null;ae!==null&&xe<D.length;xe++){ae.index>xe?(Ee=ae,ae=null):Ee=ae.sibling;var Re=G(I,ae,D[xe],O);if(Re===null){ae===null&&(ae=Ee);break}e&&ae&&Re.alternate===null&&n(I,ae),b=m(Re,b,xe),be===null?de=Re:be.sibling=Re,be=Re,ae=Ee}if(xe===D.length)return o(I,ae),Ae&&tn(I,xe),de;if(ae===null){for(;xe<D.length;xe++)ae=K(I,D[xe],O),ae!==null&&(b=m(ae,b,xe),be===null?de=ae:be.sibling=ae,be=ae);return Ae&&tn(I,xe),de}for(ae=s(ae);xe<D.length;xe++)Ee=V(ae,I,xe,D[xe],O),Ee!==null&&(e&&Ee.alternate!==null&&ae.delete(Ee.key===null?xe:Ee.key),b=m(Ee,b,xe),be===null?de=Ee:be.sibling=Ee,be=Ee);return e&&ae.forEach(function(On){return n(I,On)}),Ae&&tn(I,xe),de}function me(I,b,D,O){if(D==null)throw Error(a(151));for(var de=null,be=null,ae=b,xe=b=0,Ee=null,Re=D.next();ae!==null&&!Re.done;xe++,Re=D.next()){ae.index>xe?(Ee=ae,ae=null):Ee=ae.sibling;var On=G(I,ae,Re.value,O);if(On===null){ae===null&&(ae=Ee);break}e&&ae&&On.alternate===null&&n(I,ae),b=m(On,b,xe),be===null?de=On:be.sibling=On,be=On,ae=Ee}if(Re.done)return o(I,ae),Ae&&tn(I,xe),de;if(ae===null){for(;!Re.done;xe++,Re=D.next())Re=K(I,Re.value,O),Re!==null&&(b=m(Re,b,xe),be===null?de=Re:be.sibling=Re,be=Re);return Ae&&tn(I,xe),de}for(ae=s(ae);!Re.done;xe++,Re=D.next())Re=V(ae,I,xe,Re.value,O),Re!==null&&(e&&Re.alternate!==null&&ae.delete(Re.key===null?xe:Re.key),b=m(Re,b,xe),be===null?de=Re:be.sibling=Re,be=Re);return e&&ae.forEach(function(Fy){return n(I,Fy)}),Ae&&tn(I,xe),de}function Ge(I,b,D,O){if(typeof D=="object"&&D!==null&&D.type===w&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case C:e:{for(var de=D.key;b!==null;){if(b.key===de){if(de=D.type,de===w){if(b.tag===7){o(I,b.sibling),O=f(b,D.props.children),O.return=I,I=O;break e}}else if(b.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===j&&oi(de)===b.type){o(I,b.sibling),O=f(b,D.props),Al(O,D),O.return=I,I=O;break e}o(I,b);break}else n(I,b);b=b.sibling}D.type===w?(O=ei(D.props.children,I.mode,O,D.key),O.return=I,I=O):(O=Co(D.type,D.key,D.props,null,I.mode,O),Al(O,D),O.return=I,I=O)}return T(I);case N:e:{for(de=D.key;b!==null;){if(b.key===de)if(b.tag===4&&b.stateNode.containerInfo===D.containerInfo&&b.stateNode.implementation===D.implementation){o(I,b.sibling),O=f(b,D.children||[]),O.return=I,I=O;break e}else{o(I,b);break}else n(I,b);b=b.sibling}O=Es(D,I.mode,O),O.return=I,I=O}return T(I);case j:return D=oi(D),Ge(I,b,D,O)}if(re(D))return le(I,b,D,O);if(oe(D)){if(de=oe(D),typeof de!="function")throw Error(a(150));return D=de.call(D),me(I,b,D,O)}if(typeof D.then=="function")return Ge(I,b,Io(D),O);if(D.$$typeof===F)return Ge(I,b,bo(I,D),O);Do(I,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,b!==null&&b.tag===6?(o(I,b.sibling),O=f(b,D),O.return=I,I=O):(o(I,b),O=_s(D,I.mode,O),O.return=I,I=O),T(I)):o(I,b)}return function(I,b,D,O){try{Cl=0;var de=Ge(I,b,D,O);return Li=null,de}catch(ae){if(ae===ki||ae===Mo)throw ae;var be=_t(29,ae,null,I.mode);return be.lanes=O,be.return=I,be}finally{}}}var si=ed(!0),td=ed(!1),Nn=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rn(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(we&2)!==0){var f=s.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),s.pending=n,n=Eo(e),Hc(e,null,o),n}return _o(e,s,n,o),Eo(e)}function Nl(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Yu(e,o)}}function qs(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,o=o.next}while(o!==null);m===null?f=m=n:m=m.next=n}else f=m=n;o={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Hs=!1;function bl(){if(Hs){var e=Ui;if(e!==null)throw e}}function Rl(e,n,o,s){Hs=!1;var f=e.updateQueue;Nn=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var A=E,U=A.next;A.next=null,T===null?m=U:T.next=U,T=A;var z=e.alternate;z!==null&&(z=z.updateQueue,E=z.lastBaseUpdate,E!==T&&(E===null?z.firstBaseUpdate=U:E.next=U,z.lastBaseUpdate=A))}if(m!==null){var K=f.baseState;T=0,z=U=A=null,E=m;do{var G=E.lane&-536870913,V=G!==E.lane;if(V?(_e&G)===G:(s&G)===G){G!==0&&G===Di&&(Hs=!0),z!==null&&(z=z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=e,me=E;G=n;var Ge=o;switch(me.tag){case 1:if(le=me.payload,typeof le=="function"){K=le.call(Ge,K,G);break e}K=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=me.payload,G=typeof le=="function"?le.call(Ge,K,G):le,G==null)break e;K=S({},K,G);break e;case 2:Nn=!0}}G=E.callback,G!==null&&(e.flags|=64,V&&(e.flags|=8192),V=f.callbacks,V===null?f.callbacks=[G]:V.push(G))}else V={lane:G,tag:E.tag,payload:E.payload,callback:E.callback,next:null},z===null?(U=z=V,A=K):z=z.next=V,T|=G;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;V=E,E=V.next,V.next=null,f.lastBaseUpdate=V,f.shared.pending=null}}while(!0);z===null&&(A=K),f.baseState=A,f.firstBaseUpdate=U,f.lastBaseUpdate=z,m===null&&(f.shared.lanes=0),Un|=T,e.lanes=T,e.memoizedState=K}}function nd(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function id(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)nd(o[e],n)}var Gi=R(null),Uo=R(0);function ld(e,n){e=pn,L(Uo,e),L(Gi,n),pn=e|n.baseLanes}function Vs(){L(Uo,pn),L(Gi,Gi.current)}function Ps(){pn=Uo.current,X(Gi),X(Uo)}var Et=R(null),Lt=null;function Mn(e){var n=e.alternate;L(Fe,Fe.current&1),L(Et,e),Lt===null&&(n===null||Gi.current!==null||n.memoizedState!==null)&&(Lt=e)}function zs(e){L(Fe,Fe.current),L(Et,e),Lt===null&&(Lt=e)}function od(e){e.tag===22?(L(Fe,Fe.current),L(Et,e),Lt===null&&(Lt=e)):wn()}function wn(){L(Fe,Fe.current),L(Et,Et.current)}function Ct(e){X(Et),Lt===e&&(Lt=null),X(Fe)}var Fe=R(0);function ko(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Kr(o)||Xr(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var on=0,ve=null,ke=null,Xe=null,Lo=!1,qi=!1,ri=!1,Go=0,Ml=0,Hi=null,k0=0;function Be(){throw Error(a(321))}function Bs(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!St(e[o],n[o]))return!1;return!0}function Os(e,n,o,s,f,m){return on=m,ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=e===null||e.memoizedState===null?Bd:lr,ri=!1,m=o(s,f),ri=!1,qi&&(m=sd(n,o,s,f)),ad(e),m}function ad(e){k.H=Dl;var n=ke!==null&&ke.next!==null;if(on=0,Xe=ke=ve=null,Lo=!1,Ml=0,Hi=null,n)throw Error(a(300));e===null||Qe||(e=e.dependencies,e!==null&&No(e)&&(Qe=!0))}function sd(e,n,o,s){ve=e;var f=0;do{if(qi&&(Hi=null),Ml=0,qi=!1,25<=f)throw Error(a(301));if(f+=1,Xe=ke=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}k.H=Od,m=n(o,s)}while(qi);return m}function L0(){var e=k.H,n=e.useState()[0];return n=typeof n.then=="function"?wl(n):n,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(ve.flags|=1024),n}function Fs(){var e=Go!==0;return Go=0,e}function Js(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function Ys(e){if(Lo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lo=!1}on=0,Xe=ke=ve=null,qi=!1,Ml=Go=0,Hi=null}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ve.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Je(){if(ke===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var n=Xe===null?ve.memoizedState:Xe.next;if(n!==null)Xe=n,ke=e;else{if(e===null)throw ve.alternate===null?Error(a(467)):Error(a(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Xe===null?ve.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function qo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(e){var n=Ml;return Ml+=1,Hi===null&&(Hi=[]),e=$c(Hi,e,n),n=ve,(Xe===null?n.memoizedState:Xe.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?Bd:lr),e}function Ho(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wl(e);if(e.$$typeof===F)return it(e)}throw Error(a(438,String(e)))}function Ks(e){var n=null,o=ve.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=ve.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=qo(),ve.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=ie;return n.index++,o}function an(e,n){return typeof n=="function"?n(e):n}function Vo(e){var n=Je();return Xs(n,ke,e)}function Xs(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var f=e.baseQueue,m=s.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}n.baseQueue=f=m,s.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{n=f.next;var E=T=null,A=null,U=n,z=!1;do{var K=U.lane&-536870913;if(K!==U.lane?(_e&K)===K:(on&K)===K){var G=U.revertLane;if(G===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),K===Di&&(z=!0);else if((on&G)===G){U=U.next,G===Di&&(z=!0);continue}else K={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(E=A=K,T=m):A=A.next=K,ve.lanes|=G,Un|=G;K=U.action,ri&&o(m,K),m=U.hasEagerState?U.eagerState:o(m,K)}else G={lane:K,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(E=A=G,T=m):A=A.next=G,ve.lanes|=K,Un|=K;U=U.next}while(U!==null&&U!==n);if(A===null?T=m:A.next=E,!St(m,e.memoizedState)&&(Qe=!0,z&&(o=Ui,o!==null)))throw o;e.memoizedState=m,e.baseState=T,e.baseQueue=A,s.lastRenderedState=m}return f===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Qs(e){var n=Je(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,f=o.pending,m=n.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do m=e(m,T.action),T=T.next;while(T!==f);St(m,n.memoizedState)||(Qe=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),o.lastRenderedState=m}return[m,s]}function rd(e,n,o){var s=ve,f=Je(),m=Ae;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=n();var T=!St((ke||f).memoizedState,o);if(T&&(f.memoizedState=o,Qe=!0),f=f.queue,Ws(dd.bind(null,s,f,e),[e]),f.getSnapshot!==n||T||Xe!==null&&Xe.memoizedState.tag&1){if(s.flags|=2048,Vi(9,{destroy:void 0},cd.bind(null,s,f,o,n),null),qe===null)throw Error(a(349));m||(on&127)!==0||ud(s,n,o)}return o}function ud(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=ve.updateQueue,n===null?(n=qo(),ve.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function cd(e,n,o,s){n.value=o,n.getSnapshot=s,fd(n)&&pd(e)}function dd(e,n,o){return o(function(){fd(n)&&pd(e)})}function fd(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!St(e,o)}catch{return!0}}function pd(e){var n=jn(e,2);n!==null&&yt(n,e,2)}function Zs(e){var n=rt();if(typeof e=="function"){var o=e;if(e=o(),ri){xn(!0);try{o()}finally{xn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:e},n}function md(e,n,o,s){return e.baseState=o,Xs(e,ke,typeof s=="function"?s:an)}function G0(e,n,o,s,f){if(Bo(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};k.T!==null?o(!0):m.isTransition=!1,s(m),o=n.pending,o===null?(m.next=n.pending=m,hd(n,m)):(m.next=o.next,n.pending=o.next=m)}}function hd(e,n){var o=n.action,s=n.payload,f=e.state;if(n.isTransition){var m=k.T,T={};k.T=T;try{var E=o(f,s),A=k.S;A!==null&&A(T,E),gd(e,n,E)}catch(U){$s(e,n,U)}finally{m!==null&&T.types!==null&&(m.types=T.types),k.T=m}}else try{m=o(f,s),gd(e,n,m)}catch(U){$s(e,n,U)}}function gd(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){yd(e,n,s)},function(s){return $s(e,n,s)}):yd(e,n,o)}function yd(e,n,o){n.status="fulfilled",n.value=o,vd(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,hd(e,o)))}function $s(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,vd(n),n=n.next;while(n!==s)}e.action=null}function vd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function xd(e,n){return n}function Td(e,n){if(Ae){var o=qe.formState;if(o!==null){e:{var s=ve;if(Ae){if(Ve){t:{for(var f=Ve,m=kt;f.nodeType!==8;){if(!m){f=null;break t}if(f=Gt(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Ve=Gt(f.nextSibling),s=f.data==="F!";break e}}Cn(s)}s=!1}s&&(n=o[0])}}return o=rt(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:n},o.queue=s,o=Vd.bind(null,ve,s),s.dispatch=o,s=Zs(!1),m=ir.bind(null,ve,!1,s.queue),s=rt(),f={state:n,dispatch:null,action:e,pending:null},s.queue=f,o=G0.bind(null,ve,f,m,o),f.dispatch=o,s.memoizedState=e,[n,o,!1]}function Sd(e){var n=Je();return _d(n,ke,e)}function _d(e,n,o){if(n=Xs(e,n,xd)[0],e=Vo(an)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=wl(n)}catch(T){throw T===ki?Mo:T}else s=n;n=Je();var f=n.queue,m=f.dispatch;return o!==n.memoizedState&&(ve.flags|=2048,Vi(9,{destroy:void 0},q0.bind(null,f,o),null)),[s,m,e]}function q0(e,n){e.action=n}function Ed(e){var n=Je(),o=ke;if(o!==null)return _d(n,o,e);Je(),n=n.memoizedState,o=Je();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function Vi(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=ve.updateQueue,n===null&&(n=qo(),ve.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function Cd(){return Je().memoizedState}function Po(e,n,o,s){var f=rt();ve.flags|=e,f.memoizedState=Vi(1|n,{destroy:void 0},o,s===void 0?null:s)}function zo(e,n,o,s){var f=Je();s=s===void 0?null:s;var m=f.memoizedState.inst;ke!==null&&s!==null&&Bs(s,ke.memoizedState.deps)?f.memoizedState=Vi(n,m,o,s):(ve.flags|=e,f.memoizedState=Vi(1|n,m,o,s))}function Ad(e,n){Po(8390656,8,e,n)}function Ws(e,n){zo(2048,8,e,n)}function H0(e){ve.flags|=4;var n=ve.updateQueue;if(n===null)n=qo(),ve.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function Nd(e){var n=Je().memoizedState;return H0({ref:n,nextImpl:e}),function(){if((we&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function bd(e,n){return zo(4,2,e,n)}function Rd(e,n){return zo(4,4,e,n)}function Md(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wd(e,n,o){o=o!=null?o.concat([e]):null,zo(4,4,Md.bind(null,n,e),o)}function js(){}function Id(e,n){var o=Je();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&Bs(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function Dd(e,n){var o=Je();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&Bs(n,s[1]))return s[0];if(s=e(),ri){xn(!0);try{e()}finally{xn(!1)}}return o.memoizedState=[s,n],s}function er(e,n,o){return o===void 0||(on&1073741824)!==0&&(_e&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=kf(),ve.lanes|=e,Un|=e,o)}function Ud(e,n,o,s){return St(o,n)?o:Gi.current!==null?(e=er(e,o,s),St(e,n)||(Qe=!0),e):(on&42)===0||(on&1073741824)!==0&&(_e&261930)===0?(Qe=!0,e.memoizedState=o):(e=kf(),ve.lanes|=e,Un|=e,n)}function kd(e,n,o,s,f){var m=$.p;$.p=m!==0&&8>m?m:8;var T=k.T,E={};k.T=E,ir(e,!1,n,o);try{var A=f(),U=k.S;if(U!==null&&U(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var z=U0(A,s);Il(e,n,z,bt(e))}else Il(e,n,s,bt(e))}catch(K){Il(e,n,{then:function(){},status:"rejected",reason:K},bt())}finally{$.p=m,T!==null&&E.types!==null&&(T.types=E.types),k.T=T}}function V0(){}function tr(e,n,o,s){if(e.tag!==5)throw Error(a(476));var f=Ld(e).queue;kd(e,f,n,ue,o===null?V0:function(){return Gd(e),o(s)})}function Ld(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:ue},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Gd(e){var n=Ld(e);n.next===null&&(n=e.alternate.memoizedState),Il(e,n.next.queue,{},bt())}function nr(){return it(Xl)}function qd(){return Je().memoizedState}function Hd(){return Je().memoizedState}function P0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=bt();e=bn(o);var s=Rn(n,e,o);s!==null&&(yt(s,n,o),Nl(s,n,o)),n={cache:Is()},e.payload=n;return}n=n.return}}function z0(e,n,o){var s=bt();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bo(e)?Pd(n,o):(o=Ts(e,n,o,s),o!==null&&(yt(o,e,s),zd(o,n,s)))}function Vd(e,n,o){var s=bt();Il(e,n,o,s)}function Il(e,n,o,s){var f={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Bo(e))Pd(n,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,E=m(T,o);if(f.hasEagerState=!0,f.eagerState=E,St(E,T))return _o(e,n,f,0),qe===null&&So(),!1}catch{}finally{}if(o=Ts(e,n,f,s),o!==null)return yt(o,e,s),zd(o,n,s),!0}return!1}function ir(e,n,o,s){if(s={lane:2,revertLane:Lr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Bo(e)){if(n)throw Error(a(479))}else n=Ts(e,o,s,2),n!==null&&yt(n,e,2)}function Bo(e){var n=e.alternate;return e===ve||n!==null&&n===ve}function Pd(e,n){qi=Lo=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function zd(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Yu(e,o)}}var Dl={readContext:it,use:Ho,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};Dl.useEffectEvent=Be;var Bd={readContext:it,use:Ho,useCallback:function(e,n){return rt().memoizedState=[e,n===void 0?null:n],e},useContext:it,useEffect:Ad,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Po(4194308,4,Md.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Po(4194308,4,e,n)},useInsertionEffect:function(e,n){Po(4,2,e,n)},useMemo:function(e,n){var o=rt();n=n===void 0?null:n;var s=e();if(ri){xn(!0);try{e()}finally{xn(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=rt();if(o!==void 0){var f=o(n);if(ri){xn(!0);try{o(n)}finally{xn(!1)}}}else f=n;return s.memoizedState=s.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},s.queue=e,e=e.dispatch=z0.bind(null,ve,e),[s.memoizedState,e]},useRef:function(e){var n=rt();return e={current:e},n.memoizedState=e},useState:function(e){e=Zs(e);var n=e.queue,o=Vd.bind(null,ve,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:js,useDeferredValue:function(e,n){var o=rt();return er(o,e,n)},useTransition:function(){var e=Zs(!1);return e=kd.bind(null,ve,e.queue,!0,!1),rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=ve,f=rt();if(Ae){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),qe===null)throw Error(a(349));(_e&127)!==0||ud(s,n,o)}f.memoizedState=o;var m={value:o,getSnapshot:n};return f.queue=m,Ad(dd.bind(null,s,m,e),[e]),s.flags|=2048,Vi(9,{destroy:void 0},cd.bind(null,s,m,o,n),null),o},useId:function(){var e=rt(),n=qe.identifierPrefix;if(Ae){var o=Xt,s=Kt;o=(s&~(1<<32-Tt(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=Go++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=k0++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:nr,useFormState:Td,useActionState:Td,useOptimistic:function(e){var n=rt();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=ir.bind(null,ve,!0,o),o.dispatch=n,[e,n]},useMemoCache:Ks,useCacheRefresh:function(){return rt().memoizedState=P0.bind(null,ve)},useEffectEvent:function(e){var n=rt(),o={impl:e};return n.memoizedState=o,function(){if((we&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},lr={readContext:it,use:Ho,useCallback:Id,useContext:it,useEffect:Ws,useImperativeHandle:wd,useInsertionEffect:bd,useLayoutEffect:Rd,useMemo:Dd,useReducer:Vo,useRef:Cd,useState:function(){return Vo(an)},useDebugValue:js,useDeferredValue:function(e,n){var o=Je();return Ud(o,ke.memoizedState,e,n)},useTransition:function(){var e=Vo(an)[0],n=Je().memoizedState;return[typeof e=="boolean"?e:wl(e),n]},useSyncExternalStore:rd,useId:qd,useHostTransitionStatus:nr,useFormState:Sd,useActionState:Sd,useOptimistic:function(e,n){var o=Je();return md(o,ke,e,n)},useMemoCache:Ks,useCacheRefresh:Hd};lr.useEffectEvent=Nd;var Od={readContext:it,use:Ho,useCallback:Id,useContext:it,useEffect:Ws,useImperativeHandle:wd,useInsertionEffect:bd,useLayoutEffect:Rd,useMemo:Dd,useReducer:Qs,useRef:Cd,useState:function(){return Qs(an)},useDebugValue:js,useDeferredValue:function(e,n){var o=Je();return ke===null?er(o,e,n):Ud(o,ke.memoizedState,e,n)},useTransition:function(){var e=Qs(an)[0],n=Je().memoizedState;return[typeof e=="boolean"?e:wl(e),n]},useSyncExternalStore:rd,useId:qd,useHostTransitionStatus:nr,useFormState:Ed,useActionState:Ed,useOptimistic:function(e,n){var o=Je();return ke!==null?md(o,ke,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Ks,useCacheRefresh:Hd};Od.useEffectEvent=Nd;function or(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:S({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var ar={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=bt(),f=bn(s);f.payload=n,o!=null&&(f.callback=o),n=Rn(e,f,s),n!==null&&(yt(n,e,s),Nl(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=bt(),f=bn(s);f.tag=1,f.payload=n,o!=null&&(f.callback=o),n=Rn(e,f,s),n!==null&&(yt(n,e,s),Nl(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=bt(),s=bn(o);s.tag=2,n!=null&&(s.callback=n),n=Rn(e,s,o),n!==null&&(yt(n,e,o),Nl(n,e,o))}};function Fd(e,n,o,s,f,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,T):n.prototype&&n.prototype.isPureReactComponent?!vl(o,s)||!vl(f,m):!0}function Jd(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&ar.enqueueReplaceState(n,n.state,null)}function ui(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=S({},o));for(var f in e)o[f]===void 0&&(o[f]=e[f])}return o}function Yd(e){To(e)}function Kd(e){console.error(e)}function Xd(e){To(e)}function Oo(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Qd(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function sr(e,n,o){return o=bn(o),o.tag=3,o.payload={element:null},o.callback=function(){Oo(e,n)},o}function Zd(e){return e=bn(e),e.tag=3,e}function $d(e,n,o,s){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=s.value;e.payload=function(){return f(m)},e.callback=function(){Qd(n,o,s)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Qd(n,o,s),typeof f!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})})}function B0(e,n,o,s,f){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&Ii(n,o,f,!0),o=Et.current,o!==null){switch(o.tag){case 31:case 13:return Lt===null?ta():o.alternate===null&&Oe===0&&(Oe=3),o.flags&=-257,o.flags|=65536,o.lanes=f,s===wo?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),Dr(e,s,f)),!1;case 22:return o.flags|=65536,s===wo?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),Dr(e,s,f)),!1}throw Error(a(435,o.tag))}return Dr(e,s,f),ta(),!1}if(Ae)return n=Et.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,s!==Ns&&(e=Error(a(422),{cause:s}),Sl(It(e,o)))):(s!==Ns&&(n=Error(a(423),{cause:s}),Sl(It(n,o))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,s=It(s,o),f=sr(e.stateNode,s,f),qs(e,f),Oe!==4&&(Oe=2)),!1;var m=Error(a(520),{cause:s});if(m=It(m,o),Pl===null?Pl=[m]:Pl.push(m),Oe!==4&&(Oe=2),n===null)return!0;s=It(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=f&-f,o.lanes|=e,e=sr(o.stateNode,s,e),qs(o,e),!1;case 1:if(n=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(kn===null||!kn.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Zd(f),$d(f,e,o,s),qs(o,f),!1}o=o.return}while(o!==null);return!1}var rr=Error(a(461)),Qe=!1;function lt(e,n,o,s){n.child=e===null?td(n,null,o,s):si(n,e.child,o,s)}function Wd(e,n,o,s,f){o=o.render;var m=n.ref;if("ref"in s){var T={};for(var E in s)E!=="ref"&&(T[E]=s[E])}else T=s;return ii(n),s=Os(e,n,o,T,m,f),E=Fs(),e!==null&&!Qe?(Js(e,n,f),sn(e,n,f)):(Ae&&E&&Cs(n),n.flags|=1,lt(e,n,s,f),n.child)}function jd(e,n,o,s,f){if(e===null){var m=o.type;return typeof m=="function"&&!Ss(m)&&m.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=m,ef(e,n,m,s,f)):(e=Co(o.type,null,s,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!gr(e,f)){var T=m.memoizedProps;if(o=o.compare,o=o!==null?o:vl,o(T,s)&&e.ref===n.ref)return sn(e,n,f)}return n.flags|=1,e=en(m,s),e.ref=n.ref,e.return=n,n.child=e}function ef(e,n,o,s,f){if(e!==null){var m=e.memoizedProps;if(vl(m,s)&&e.ref===n.ref)if(Qe=!1,n.pendingProps=s=m,gr(e,f))(e.flags&131072)!==0&&(Qe=!0);else return n.lanes=e.lanes,sn(e,n,f)}return ur(e,n,o,s,f)}function tf(e,n,o,s){var f=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,e!==null){for(s=n.child=e.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~m}else s=0,n.child=null;return nf(e,n,m,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ro(n,m!==null?m.cachePool:null),m!==null?ld(n,m):Vs(),od(n);else return s=n.lanes=536870912,nf(e,n,m!==null?m.baseLanes|o:o,o,s)}else m!==null?(Ro(n,m.cachePool),ld(n,m),wn(),n.memoizedState=null):(e!==null&&Ro(n,null),Vs(),wn());return lt(e,n,f,o),n.child}function Ul(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function nf(e,n,o,s,f){var m=Us();return m=m===null?null:{parent:Ke._currentValue,pool:m},n.memoizedState={baseLanes:o,cachePool:m},e!==null&&Ro(n,null),Vs(),od(n),e!==null&&Ii(e,n,s,!0),n.childLanes=f,null}function Fo(e,n){return n=Yo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function lf(e,n,o){return si(n,e.child,null,o),e=Fo(n,n.pendingProps),e.flags|=2,Ct(n),n.memoizedState=null,e}function O0(e,n,o){var s=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ae){if(s.mode==="hidden")return e=Fo(n,s),n.lanes=536870912,Ul(null,e);if(zs(n),(e=Ve)?(e=gp(e,kt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_n!==null?{id:Kt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},o=Pc(e),o.return=n,n.child=o,nt=n,Ve=null)):e=null,e===null)throw Cn(n);return n.lanes=536870912,null}return Fo(n,s)}var m=e.memoizedState;if(m!==null){var T=m.dehydrated;if(zs(n),f)if(n.flags&256)n.flags&=-257,n=lf(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Qe||Ii(e,n,o,!1),f=(o&e.childLanes)!==0,Qe||f){if(s=qe,s!==null&&(T=Ku(s,o),T!==0&&T!==m.retryLane))throw m.retryLane=T,jn(e,T),yt(s,e,T),rr;ta(),n=lf(e,n,o)}else e=m.treeContext,Ve=Gt(T.nextSibling),nt=n,Ae=!0,En=null,kt=!1,e!==null&&Oc(n,e),n=Fo(n,s),n.flags|=4096;return n}return e=en(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Jo(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function ur(e,n,o,s,f){return ii(n),o=Os(e,n,o,s,void 0,f),s=Fs(),e!==null&&!Qe?(Js(e,n,f),sn(e,n,f)):(Ae&&s&&Cs(n),n.flags|=1,lt(e,n,o,f),n.child)}function of(e,n,o,s,f,m){return ii(n),n.updateQueue=null,o=sd(n,s,o,f),ad(e),s=Fs(),e!==null&&!Qe?(Js(e,n,m),sn(e,n,m)):(Ae&&s&&Cs(n),n.flags|=1,lt(e,n,o,m),n.child)}function af(e,n,o,s,f){if(ii(n),n.stateNode===null){var m=bi,T=o.contextType;typeof T=="object"&&T!==null&&(m=it(T)),m=new o(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ar,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},Ls(n),T=o.contextType,m.context=typeof T=="object"&&T!==null?it(T):bi,m.state=n.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(or(n,o,T,s),m.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&ar.enqueueReplaceState(m,m.state,null),Rl(n,s,m,f),bl(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var E=n.memoizedProps,A=ui(o,E);m.props=A;var U=m.context,z=o.contextType;T=bi,typeof z=="object"&&z!==null&&(T=it(z));var K=o.getDerivedStateFromProps;z=typeof K=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||U!==T)&&Jd(n,m,s,T),Nn=!1;var G=n.memoizedState;m.state=G,Rl(n,s,m,f),bl(),U=n.memoizedState,E||G!==U||Nn?(typeof K=="function"&&(or(n,o,K,s),U=n.memoizedState),(A=Nn||Fd(n,o,A,s,G,U,T))?(z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=U),m.props=s,m.state=U,m.context=T,s=A):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,Gs(e,n),T=n.memoizedProps,z=ui(o,T),m.props=z,K=n.pendingProps,G=m.context,U=o.contextType,A=bi,typeof U=="object"&&U!==null&&(A=it(U)),E=o.getDerivedStateFromProps,(U=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==K||G!==A)&&Jd(n,m,s,A),Nn=!1,G=n.memoizedState,m.state=G,Rl(n,s,m,f),bl();var V=n.memoizedState;T!==K||G!==V||Nn||e!==null&&e.dependencies!==null&&No(e.dependencies)?(typeof E=="function"&&(or(n,o,E,s),V=n.memoizedState),(z=Nn||Fd(n,o,z,s,G,V,A)||e!==null&&e.dependencies!==null&&No(e.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,V,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,V,A)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=V),m.props=s,m.state=V,m.context=A,s=z):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,Jo(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=si(n,e.child,null,f),n.child=si(n,null,o,f)):lt(e,n,o,f),n.memoizedState=m.state,e=n.child):e=sn(e,n,f),e}function sf(e,n,o,s){return ti(),n.flags|=256,lt(e,n,o,s),n.child}var cr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dr(e){return{baseLanes:e,cachePool:Qc()}}function fr(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=Nt),e}function rf(e,n,o){var s=n.pendingProps,f=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),T&&(f=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ae){if(f?Mn(n):wn(),(e=Ve)?(e=gp(e,kt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_n!==null?{id:Kt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},o=Pc(e),o.return=n,n.child=o,nt=n,Ve=null)):e=null,e===null)throw Cn(n);return Xr(e)?n.lanes=32:n.lanes=536870912,null}var E=s.children;return s=s.fallback,f?(wn(),f=n.mode,E=Yo({mode:"hidden",children:E},f),s=ei(s,f,o,null),E.return=n,s.return=n,E.sibling=s,n.child=E,s=n.child,s.memoizedState=dr(o),s.childLanes=fr(e,T,o),n.memoizedState=cr,Ul(null,s)):(Mn(n),pr(n,E))}var A=e.memoizedState;if(A!==null&&(E=A.dehydrated,E!==null)){if(m)n.flags&256?(Mn(n),n.flags&=-257,n=mr(e,n,o)):n.memoizedState!==null?(wn(),n.child=e.child,n.flags|=128,n=null):(wn(),E=s.fallback,f=n.mode,s=Yo({mode:"visible",children:s.children},f),E=ei(E,f,o,null),E.flags|=2,s.return=n,E.return=n,s.sibling=E,n.child=s,si(n,e.child,null,o),s=n.child,s.memoizedState=dr(o),s.childLanes=fr(e,T,o),n.memoizedState=cr,n=Ul(null,s));else if(Mn(n),Xr(E)){if(T=E.nextSibling&&E.nextSibling.dataset,T)var U=T.dgst;T=U,s=Error(a(419)),s.stack="",s.digest=T,Sl({value:s,source:null,stack:null}),n=mr(e,n,o)}else if(Qe||Ii(e,n,o,!1),T=(o&e.childLanes)!==0,Qe||T){if(T=qe,T!==null&&(s=Ku(T,o),s!==0&&s!==A.retryLane))throw A.retryLane=s,jn(e,s),yt(T,e,s),rr;Kr(E)||ta(),n=mr(e,n,o)}else Kr(E)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,Ve=Gt(E.nextSibling),nt=n,Ae=!0,En=null,kt=!1,e!==null&&Oc(n,e),n=pr(n,s.children),n.flags|=4096);return n}return f?(wn(),E=s.fallback,f=n.mode,A=e.child,U=A.sibling,s=en(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,U!==null?E=en(U,E):(E=ei(E,f,o,null),E.flags|=2),E.return=n,s.return=n,s.sibling=E,n.child=s,Ul(null,s),s=n.child,E=e.child.memoizedState,E===null?E=dr(o):(f=E.cachePool,f!==null?(A=Ke._currentValue,f=f.parent!==A?{parent:A,pool:A}:f):f=Qc(),E={baseLanes:E.baseLanes|o,cachePool:f}),s.memoizedState=E,s.childLanes=fr(e,T,o),n.memoizedState=cr,Ul(e.child,s)):(Mn(n),o=e.child,e=o.sibling,o=en(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=o,n.memoizedState=null,o)}function pr(e,n){return n=Yo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yo(e,n){return e=_t(22,e,null,n),e.lanes=0,e}function mr(e,n,o){return si(n,e.child,null,o),e=pr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function uf(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Ms(e.return,n,o)}function hr(e,n,o,s,f,m){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:f,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=o,T.tailMode=f,T.treeForkCount=m)}function cf(e,n,o){var s=n.pendingProps,f=s.revealOrder,m=s.tail;s=s.children;var T=Fe.current,E=(T&2)!==0;if(E?(T=T&1|2,n.flags|=128):T&=1,L(Fe,T),lt(e,n,s,o),s=Ae?Tl:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uf(e,o,n);else if(e.tag===19)uf(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(o=n.child,f=null;o!==null;)e=o.alternate,e!==null&&ko(e)===null&&(f=o),o=o.sibling;o=f,o===null?(f=n.child,n.child=null):(f=o.sibling,o.sibling=null),hr(n,!1,f,o,m,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&ko(e)===null){n.child=f;break}e=f.sibling,f.sibling=o,o=f,f=e}hr(n,!0,o,null,m,s);break;case"together":hr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function sn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Un|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Ii(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=en(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=en(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function gr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&No(e)))}function F0(e,n,o){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),An(n,Ke,e.memoizedState.cache),ti();break;case 27:case 5:He(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:An(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,zs(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Mn(n),n.flags|=128,null):(o&n.child.childLanes)!==0?rf(e,n,o):(Mn(n),e=sn(e,n,o),e!==null?e.sibling:null);Mn(n);break;case 19:var f=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(Ii(e,n,o,!1),s=(o&n.childLanes)!==0),f){if(s)return cf(e,n,o);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),L(Fe,Fe.current),s)break;return null;case 22:return n.lanes=0,tf(e,n,o,n.pendingProps);case 24:An(n,Ke,e.memoizedState.cache)}return sn(e,n,o)}function df(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)Qe=!0;else{if(!gr(e,o)&&(n.flags&128)===0)return Qe=!1,F0(e,n,o);Qe=(e.flags&131072)!==0}else Qe=!1,Ae&&(n.flags&1048576)!==0&&Bc(n,Tl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=oi(n.elementType),n.type=e,typeof e=="function")Ss(e)?(s=ui(e,s),n.tag=1,n=af(null,n,e,s,o)):(n.tag=0,n=ur(null,n,e,s,o));else{if(e!=null){var f=e.$$typeof;if(f===W){n.tag=11,n=Wd(null,n,e,s,o);break e}else if(f===Y){n.tag=14,n=jd(null,n,e,s,o);break e}}throw n=B(e)||e,Error(a(306,n,""))}}return n;case 0:return ur(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,f=ui(s,n.pendingProps),af(e,n,s,f,o);case 3:e:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;f=m.element,Gs(e,n),Rl(n,s,null,o);var T=n.memoizedState;if(s=T.cache,An(n,Ke,s),s!==m.cache&&ws(n,[Ke],o,!0),bl(),s=T.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=sf(e,n,s,o);break e}else if(s!==f){f=It(Error(a(424)),n),Sl(f),n=sf(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=Gt(e.firstChild),nt=n,Ae=!0,En=null,kt=!0,o=td(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ti(),s===f){n=sn(e,n,o);break e}lt(e,n,s,o)}n=n.child}return n;case 26:return Jo(e,n),e===null?(o=_p(n.type,null,n.pendingProps,null))?n.memoizedState=o:Ae||(o=n.type,e=n.pendingProps,s=ra(ee.current).createElement(o),s[tt]=n,s[dt]=e,ot(s,o,e),We(s),n.stateNode=s):n.memoizedState=_p(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return He(n),e===null&&Ae&&(s=n.stateNode=xp(n.type,n.pendingProps,ee.current),nt=n,kt=!0,f=Ve,Hn(n.type)?(Qr=f,Ve=Gt(s.firstChild)):Ve=f),lt(e,n,n.pendingProps.children,o),Jo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ae&&((f=s=Ve)&&(s=Ty(s,n.type,n.pendingProps,kt),s!==null?(n.stateNode=s,nt=n,Ve=Gt(s.firstChild),kt=!1,f=!0):f=!1),f||Cn(n)),He(n),f=n.type,m=n.pendingProps,T=e!==null?e.memoizedProps:null,s=m.children,Fr(f,m)?s=null:T!==null&&Fr(f,T)&&(n.flags|=32),n.memoizedState!==null&&(f=Os(e,n,L0,null,null,o),Xl._currentValue=f),Jo(e,n),lt(e,n,s,o),n.child;case 6:return e===null&&Ae&&((e=o=Ve)&&(o=Sy(o,n.pendingProps,kt),o!==null?(n.stateNode=o,nt=n,Ve=null,e=!0):e=!1),e||Cn(n)),null;case 13:return rf(e,n,o);case 4:return Ne(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=si(n,null,s,o):lt(e,n,s,o),n.child;case 11:return Wd(e,n,n.type,n.pendingProps,o);case 7:return lt(e,n,n.pendingProps,o),n.child;case 8:return lt(e,n,n.pendingProps.children,o),n.child;case 12:return lt(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,An(n,n.type,s.value),lt(e,n,s.children,o),n.child;case 9:return f=n.type._context,s=n.pendingProps.children,ii(n),f=it(f),s=s(f),n.flags|=1,lt(e,n,s,o),n.child;case 14:return jd(e,n,n.type,n.pendingProps,o);case 15:return ef(e,n,n.type,n.pendingProps,o);case 19:return cf(e,n,o);case 31:return O0(e,n,o);case 22:return tf(e,n,o,n.pendingProps);case 24:return ii(n),s=it(Ke),e===null?(f=Us(),f===null&&(f=qe,m=Is(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),n.memoizedState={parent:s,cache:f},Ls(n),An(n,Ke,f)):((e.lanes&o)!==0&&(Gs(e,n),Rl(n,null,null,o),bl()),f=e.memoizedState,m=n.memoizedState,f.parent!==s?(f={parent:s,cache:s},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),An(n,Ke,s)):(s=m.cache,An(n,Ke,s),s!==f.cache&&ws(n,[Ke],o,!0))),lt(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function rn(e){e.flags|=4}function yr(e,n,o,s,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Hf())e.flags|=8192;else throw ai=wo,ks}else e.flags&=-16777217}function ff(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bp(n))if(Hf())e.flags|=8192;else throw ai=wo,ks}function Ko(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Fu():536870912,e.lanes|=n,Oi|=n)}function kl(e,n){if(!Ae)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Pe(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var f=e.child;f!==null;)o|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)o|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function J0(e,n,o){var s=n.pendingProps;switch(As(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(n),null;case 1:return Pe(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ln(Ke),ce(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(wi(n)?rn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,bs())),Pe(n),null;case 26:var f=n.type,m=n.memoizedState;return e===null?(rn(n),m!==null?(Pe(n),ff(n,m)):(Pe(n),yr(n,f,null,s,o))):m?m!==e.memoizedState?(rn(n),Pe(n),ff(n,m)):(Pe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&rn(n),Pe(n),yr(n,f,e,s,o)),null;case 27:if(Yt(n),o=ee.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&rn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Pe(n),null}e=J.current,wi(n)?Fc(n):(e=xp(f,s,o),n.stateNode=e,rn(n))}return Pe(n),null;case 5:if(Yt(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&rn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Pe(n),null}if(m=J.current,wi(n))Fc(n);else{var T=ra(ee.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?T.createElement(f,{is:s.is}):T.createElement(f)}}m[tt]=n,m[dt]=s;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(ot(m,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&rn(n)}}return Pe(n),yr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&rn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=ee.current,wi(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,f=nt,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}e[tt]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||rp(e.nodeValue,o)),e||Cn(n,!0)}else e=ra(e).createTextNode(s),e[tt]=n,n.stateNode=e}return Pe(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=wi(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[tt]=n}else ti(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),e=!1}else o=bs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(Ct(n),n):(Ct(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Pe(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=wi(n),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[tt]=n}else ti(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),f=!1}else f=bs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Ct(n),n):(Ct(n),null)}return Ct(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==f&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),Ko(n,n.updateQueue),Pe(n),null);case 4:return ce(),e===null&&Vr(n.stateNode.containerInfo),Pe(n),null;case 10:return ln(n.type),Pe(n),null;case 19:if(X(Fe),s=n.memoizedState,s===null)return Pe(n),null;if(f=(n.flags&128)!==0,m=s.rendering,m===null)if(f)kl(s,!1);else{if(Oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=ko(e),m!==null){for(n.flags|=128,kl(s,!1),e=m.updateQueue,n.updateQueue=e,Ko(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Vc(o,e),o=o.sibling;return L(Fe,Fe.current&1|2),Ae&&tn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&vt()>Wo&&(n.flags|=128,f=!0,kl(s,!1),n.lanes=4194304)}else{if(!f)if(e=ko(m),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Ko(n,e),kl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!Ae)return Pe(n),null}else 2*vt()-s.renderingStartTime>Wo&&o!==536870912&&(n.flags|=128,f=!0,kl(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vt(),e.sibling=null,o=Fe.current,L(Fe,f?o&1|2:o&1),Ae&&tn(n,s.treeForkCount),e):(Pe(n),null);case 22:case 23:return Ct(n),Ps(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(Pe(n),n.subtreeFlags&6&&(n.flags|=8192)):Pe(n),o=n.updateQueue,o!==null&&Ko(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&X(li),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ln(Ke),Pe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Y0(e,n){switch(As(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ln(Ke),ce(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Yt(n),null;case 31:if(n.memoizedState!==null){if(Ct(n),n.alternate===null)throw Error(a(340));ti()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ct(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ti()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(Fe),null;case 4:return ce(),null;case 10:return ln(n.type),null;case 22:case 23:return Ct(n),Ps(),e!==null&&X(li),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ln(Ke),null;case 25:return null;default:return null}}function pf(e,n){switch(As(n),n.tag){case 3:ln(Ke),ce();break;case 26:case 27:case 5:Yt(n);break;case 4:ce();break;case 31:n.memoizedState!==null&&Ct(n);break;case 13:Ct(n);break;case 19:X(Fe);break;case 10:ln(n.type);break;case 22:case 23:Ct(n),Ps(),e!==null&&X(li);break;case 24:ln(Ke)}}function Ll(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var f=s.next;o=f;do{if((o.tag&e)===e){s=void 0;var m=o.create,T=o.inst;s=m(),T.destroy=s}o=o.next}while(o!==f)}}catch(E){Ue(n,n.return,E)}}function In(e,n,o){try{var s=n.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var m=f.next;s=m;do{if((s.tag&e)===e){var T=s.inst,E=T.destroy;if(E!==void 0){T.destroy=void 0,f=n;var A=o,U=E;try{U()}catch(z){Ue(f,A,z)}}}s=s.next}while(s!==m)}}catch(z){Ue(n,n.return,z)}}function mf(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{id(n,o)}catch(s){Ue(e,e.return,s)}}}function hf(e,n,o){o.props=ui(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){Ue(e,n,s)}}function Gl(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(f){Ue(e,n,f)}}function Qt(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(f){Ue(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Ue(e,n,f)}else o.current=null}function gf(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(f){Ue(e,e.return,f)}}function vr(e,n,o){try{var s=e.stateNode;my(s,e.type,o,n),s[dt]=n}catch(f){Ue(e,e.return,f)}}function yf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hn(e.type)||e.tag===4}function xr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tr(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Wt));else if(s!==4&&(s===27&&Hn(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Tr(e,n,o),e=e.sibling;e!==null;)Tr(e,n,o),e=e.sibling}function Xo(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&Hn(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Xo(e,n,o),e=e.sibling;e!==null;)Xo(e,n,o),e=e.sibling}function vf(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);ot(n,s,o),n[tt]=e,n[dt]=o}catch(m){Ue(e,e.return,m)}}var un=!1,Ze=!1,Sr=!1,xf=typeof WeakSet=="function"?WeakSet:Set,je=null;function K0(e,n){if(e=e.containerInfo,Br=ha,e=wc(e),ms(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var f=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var T=0,E=-1,A=-1,U=0,z=0,K=e,G=null;t:for(;;){for(var V;K!==o||f!==0&&K.nodeType!==3||(E=T+f),K!==m||s!==0&&K.nodeType!==3||(A=T+s),K.nodeType===3&&(T+=K.nodeValue.length),(V=K.firstChild)!==null;)G=K,K=V;for(;;){if(K===e)break t;if(G===o&&++U===f&&(E=T),G===m&&++z===s&&(A=T),(V=K.nextSibling)!==null)break;K=G,G=K.parentNode}K=V}o=E===-1||A===-1?null:{start:E,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(Or={focusedElem:e,selectionRange:o},ha=!1,je=n;je!==null;)if(n=je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,je=e;else for(;je!==null;){switch(n=je,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)f=e[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,o=n,f=m.memoizedProps,m=m.memoizedState,s=o.stateNode;try{var le=ui(o.type,f);e=s.getSnapshotBeforeUpdate(le,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(me){Ue(o,o.return,me)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)Yr(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,je=e;break}je=n.return}}function Tf(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:dn(e,o),s&4&&Ll(5,o);break;case 1:if(dn(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(T){Ue(o,o.return,T)}else{var f=ui(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Ue(o,o.return,T)}}s&64&&mf(o),s&512&&Gl(o,o.return);break;case 3:if(dn(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{id(e,n)}catch(T){Ue(o,o.return,T)}}break;case 27:n===null&&s&4&&vf(o);case 26:case 5:dn(e,o),n===null&&s&4&&gf(o),s&512&&Gl(o,o.return);break;case 12:dn(e,o);break;case 31:dn(e,o),s&4&&Ef(e,o);break;case 13:dn(e,o),s&4&&Cf(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=ny.bind(null,o),_y(e,o))));break;case 22:if(s=o.memoizedState!==null||un,!s){n=n!==null&&n.memoizedState!==null||Ze,f=un;var m=Ze;un=s,(Ze=n)&&!m?fn(e,o,(o.subtreeFlags&8772)!==0):dn(e,o),un=f,Ze=m}break;case 30:break;default:dn(e,o)}}function Sf(e){var n=e.alternate;n!==null&&(e.alternate=null,Sf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$a(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,pt=!1;function cn(e,n,o){for(o=o.child;o!==null;)_f(e,n,o),o=o.sibling}function _f(e,n,o){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(al,o)}catch{}switch(o.tag){case 26:Ze||Qt(o,n),cn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ze||Qt(o,n);var s=ze,f=pt;Hn(o.type)&&(ze=o.stateNode,pt=!1),cn(e,n,o),Jl(o.stateNode),ze=s,pt=f;break;case 5:Ze||Qt(o,n);case 6:if(s=ze,f=pt,ze=null,cn(e,n,o),ze=s,pt=f,ze!==null)if(pt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(o.stateNode)}catch(m){Ue(o,n,m)}else try{ze.removeChild(o.stateNode)}catch(m){Ue(o,n,m)}break;case 18:ze!==null&&(pt?(e=ze,mp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),$i(e)):mp(ze,o.stateNode));break;case 4:s=ze,f=pt,ze=o.stateNode.containerInfo,pt=!0,cn(e,n,o),ze=s,pt=f;break;case 0:case 11:case 14:case 15:In(2,o,n),Ze||In(4,o,n),cn(e,n,o);break;case 1:Ze||(Qt(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&hf(o,n,s)),cn(e,n,o);break;case 21:cn(e,n,o);break;case 22:Ze=(s=Ze)||o.memoizedState!==null,cn(e,n,o),Ze=s;break;default:cn(e,n,o)}}function Ef(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$i(e)}catch(o){Ue(n,n.return,o)}}}function Cf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$i(e)}catch(o){Ue(n,n.return,o)}}function X0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new xf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new xf),n;default:throw Error(a(435,e.tag))}}function Qo(e,n){var o=X0(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var f=iy.bind(null,e,s);s.then(f,f)}})}function mt(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var f=o[s],m=e,T=n,E=T;e:for(;E!==null;){switch(E.tag){case 27:if(Hn(E.type)){ze=E.stateNode,pt=!1;break e}break;case 5:ze=E.stateNode,pt=!1;break e;case 3:case 4:ze=E.stateNode.containerInfo,pt=!0;break e}E=E.return}if(ze===null)throw Error(a(160));_f(m,T,f),ze=null,pt=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Af(n,e),n=n.sibling}var zt=null;function Af(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mt(n,e),ht(e),s&4&&(In(3,e,e.return),Ll(3,e),In(5,e,e.return));break;case 1:mt(n,e),ht(e),s&512&&(Ze||o===null||Qt(o,o.return)),s&64&&un&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var f=zt;if(mt(n,e),ht(e),s&512&&(Ze||o===null||Qt(o,o.return)),s&4){var m=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,f=f.ownerDocument||f;t:switch(s){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ul]||m[tt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(s),f.head.insertBefore(m,f.querySelector("head > title"))),ot(m,s,o),m[tt]=e,We(m),s=m;break e;case"link":var T=Ap("link","href",f).get(s+(o.href||""));if(T){for(var E=0;E<T.length;E++)if(m=T[E],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(E,1);break t}}m=f.createElement(s),ot(m,s,o),f.head.appendChild(m);break;case"meta":if(T=Ap("meta","content",f).get(s+(o.content||""))){for(E=0;E<T.length;E++)if(m=T[E],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(E,1);break t}}m=f.createElement(s),ot(m,s,o),f.head.appendChild(m);break;default:throw Error(a(468,s))}m[tt]=e,We(m),s=m}e.stateNode=s}else Np(f,e.type,e.stateNode);else e.stateNode=Cp(f,s,e.memoizedProps);else m!==s?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,s===null?Np(f,e.type,e.stateNode):Cp(f,s,e.memoizedProps)):s===null&&e.stateNode!==null&&vr(e,e.memoizedProps,o.memoizedProps)}break;case 27:mt(n,e),ht(e),s&512&&(Ze||o===null||Qt(o,o.return)),o!==null&&s&4&&vr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(mt(n,e),ht(e),s&512&&(Ze||o===null||Qt(o,o.return)),e.flags&32){f=e.stateNode;try{Ti(f,"")}catch(le){Ue(e,e.return,le)}}s&4&&e.stateNode!=null&&(f=e.memoizedProps,vr(e,f,o!==null?o.memoizedProps:f)),s&1024&&(Sr=!0);break;case 6:if(mt(n,e),ht(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(le){Ue(e,e.return,le)}}break;case 3:if(da=null,f=zt,zt=ua(n.containerInfo),mt(n,e),zt=f,ht(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{$i(n.containerInfo)}catch(le){Ue(e,e.return,le)}Sr&&(Sr=!1,Nf(e));break;case 4:s=zt,zt=ua(e.stateNode.containerInfo),mt(n,e),ht(e),zt=s;break;case 12:mt(n,e),ht(e);break;case 31:mt(n,e),ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Qo(e,s)));break;case 13:mt(n,e),ht(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($o=vt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Qo(e,s)));break;case 22:f=e.memoizedState!==null;var A=o!==null&&o.memoizedState!==null,U=un,z=Ze;if(un=U||f,Ze=z||A,mt(n,e),Ze=z,un=U,ht(e),s&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(o===null||A||un||Ze||ci(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){A=o=n;try{if(m=A.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{E=A.stateNode;var K=A.memoizedProps.style,G=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(le){Ue(A,A.return,le)}}}else if(n.tag===6){if(o===null){A=n;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(le){Ue(A,A.return,le)}}}else if(n.tag===18){if(o===null){A=n;try{var V=A.stateNode;f?hp(V,!0):hp(A.stateNode,!1)}catch(le){Ue(A,A.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,Qo(e,o))));break;case 19:mt(n,e),ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Qo(e,s)));break;case 30:break;case 21:break;default:mt(n,e),ht(e)}}function ht(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(yf(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,m=xr(e);Xo(e,m,f);break;case 5:var T=o.stateNode;o.flags&32&&(Ti(T,""),o.flags&=-33);var E=xr(e);Xo(e,E,T);break;case 3:case 4:var A=o.stateNode.containerInfo,U=xr(e);Tr(e,U,A);break;default:throw Error(a(161))}}catch(z){Ue(e,e.return,z)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Nf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Nf(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function dn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Tf(e,n.alternate,n),n=n.sibling}function ci(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:In(4,n,n.return),ci(n);break;case 1:Qt(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&hf(n,n.return,o),ci(n);break;case 27:Jl(n.stateNode);case 26:case 5:Qt(n,n.return),ci(n);break;case 22:n.memoizedState===null&&ci(n);break;case 30:ci(n);break;default:ci(n)}e=e.sibling}}function fn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,f=e,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:fn(f,m,o),Ll(4,m);break;case 1:if(fn(f,m,o),s=m,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){Ue(s,s.return,U)}if(s=m,f=s.updateQueue,f!==null){var E=s.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)nd(A[f],E)}catch(U){Ue(s,s.return,U)}}o&&T&64&&mf(m),Gl(m,m.return);break;case 27:vf(m);case 26:case 5:fn(f,m,o),o&&s===null&&T&4&&gf(m),Gl(m,m.return);break;case 12:fn(f,m,o);break;case 31:fn(f,m,o),o&&T&4&&Ef(f,m);break;case 13:fn(f,m,o),o&&T&4&&Cf(f,m);break;case 22:m.memoizedState===null&&fn(f,m,o),Gl(m,m.return);break;case 30:break;default:fn(f,m,o)}n=n.sibling}}function _r(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&_l(o))}function Er(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_l(e))}function Bt(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bf(e,n,o,s),n=n.sibling}function bf(e,n,o,s){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Bt(e,n,o,s),f&2048&&Ll(9,n);break;case 1:Bt(e,n,o,s);break;case 3:Bt(e,n,o,s),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_l(e)));break;case 12:if(f&2048){Bt(e,n,o,s),e=n.stateNode;try{var m=n.memoizedProps,T=m.id,E=m.onPostCommit;typeof E=="function"&&E(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Ue(n,n.return,A)}}else Bt(e,n,o,s);break;case 31:Bt(e,n,o,s);break;case 13:Bt(e,n,o,s);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?Bt(e,n,o,s):ql(e,n):m._visibility&2?Bt(e,n,o,s):(m._visibility|=2,Pi(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),f&2048&&_r(T,n);break;case 24:Bt(e,n,o,s),f&2048&&Er(n.alternate,n);break;default:Bt(e,n,o,s)}}function Pi(e,n,o,s,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,T=n,E=o,A=s,U=T.flags;switch(T.tag){case 0:case 11:case 15:Pi(m,T,E,A,f),Ll(8,T);break;case 23:break;case 22:var z=T.stateNode;T.memoizedState!==null?z._visibility&2?Pi(m,T,E,A,f):ql(m,T):(z._visibility|=2,Pi(m,T,E,A,f)),f&&U&2048&&_r(T.alternate,T);break;case 24:Pi(m,T,E,A,f),f&&U&2048&&Er(T.alternate,T);break;default:Pi(m,T,E,A,f)}n=n.sibling}}function ql(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,f=s.flags;switch(s.tag){case 22:ql(o,s),f&2048&&_r(s.alternate,s);break;case 24:ql(o,s),f&2048&&Er(s.alternate,s);break;default:ql(o,s)}n=n.sibling}}var Hl=8192;function zi(e,n,o){if(e.subtreeFlags&Hl)for(e=e.child;e!==null;)Rf(e,n,o),e=e.sibling}function Rf(e,n,o){switch(e.tag){case 26:zi(e,n,o),e.flags&Hl&&e.memoizedState!==null&&ky(o,zt,e.memoizedState,e.memoizedProps);break;case 5:zi(e,n,o);break;case 3:case 4:var s=zt;zt=ua(e.stateNode.containerInfo),zi(e,n,o),zt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Hl,Hl=16777216,zi(e,n,o),Hl=s):zi(e,n,o));break;default:zi(e,n,o)}}function Mf(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Vl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];je=s,If(s,e)}Mf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wf(e),e=e.sibling}function wf(e){switch(e.tag){case 0:case 11:case 15:Vl(e),e.flags&2048&&In(9,e,e.return);break;case 3:Vl(e);break;case 12:Vl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zo(e)):Vl(e);break;default:Vl(e)}}function Zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];je=s,If(s,e)}Mf(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:In(8,n,n.return),Zo(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Zo(n));break;default:Zo(n)}e=e.sibling}}function If(e,n){for(;je!==null;){var o=je;switch(o.tag){case 0:case 11:case 15:In(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:_l(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,je=s;else e:for(o=e;je!==null;){s=je;var f=s.sibling,m=s.return;if(Sf(s),s===o){je=null;break e}if(f!==null){f.return=m,je=f;break e}je=m}}}var Q0={getCacheForType:function(e){var n=it(Ke),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return it(Ke).controller.signal}},Z0=typeof WeakMap=="function"?WeakMap:Map,we=0,qe=null,Te=null,_e=0,De=0,At=null,Dn=!1,Bi=!1,Cr=!1,pn=0,Oe=0,Un=0,di=0,Ar=0,Nt=0,Oi=0,Pl=null,gt=null,Nr=!1,$o=0,Df=0,Wo=1/0,jo=null,kn=null,$e=0,Ln=null,Fi=null,mn=0,br=0,Rr=null,Uf=null,zl=0,Mr=null;function bt(){return(we&2)!==0&&_e!==0?_e&-_e:k.T!==null?Lr():Xu()}function kf(){if(Nt===0)if((_e&536870912)===0||Ae){var e=ao;ao<<=1,(ao&3932160)===0&&(ao=262144),Nt=e}else Nt=536870912;return e=Et.current,e!==null&&(e.flags|=32),Nt}function yt(e,n,o){(e===qe&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(Ji(e,0),Gn(e,_e,Nt,!1)),rl(e,o),((we&2)===0||e!==qe)&&(e===qe&&((we&2)===0&&(di|=o),Oe===4&&Gn(e,_e,Nt,!1)),Zt(e))}function Lf(e,n,o){if((we&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||sl(e,n),f=s?j0(e,n):Ir(e,n,!0),m=s;do{if(f===0){Bi&&!s&&Gn(e,n,0,!1);break}else{if(o=e.current.alternate,m&&!$0(o)){f=Ir(e,n,!1),m=!1;continue}if(f===2){if(m=n,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var E=e;f=Pl;var A=E.current.memoizedState.isDehydrated;if(A&&(Ji(E,T).flags|=256),T=Ir(E,T,!1),T!==2){if(Cr&&!A){E.errorRecoveryDisabledLanes|=m,di|=m,f=4;break e}m=gt,gt=f,m!==null&&(gt===null?gt=m:gt.push.apply(gt,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){Ji(e,0),Gn(e,n,0,!0);break}e:{switch(s=e,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Gn(s,n,Nt,!Dn);break e;case 2:gt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=$o+300-vt(),10<f)){if(Gn(s,n,Nt,!Dn),ro(s,0,!0)!==0)break e;mn=n,s.timeoutHandle=fp(Gf.bind(null,s,o,gt,jo,Nr,n,Nt,di,Oi,Dn,m,"Throttled",-0,0),f);break e}Gf(s,o,gt,jo,Nr,n,Nt,di,Oi,Dn,m,null,-0,0)}}break}while(!0);Zt(e)}function Gf(e,n,o,s,f,m,T,E,A,U,z,K,G,V){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wt},Rf(n,m,K);var le=(m&62914560)===m?$o-vt():(m&4194048)===m?Df-vt():0;if(le=Ly(K,le),le!==null){mn=m,e.cancelPendingCommit=le(Ff.bind(null,e,n,m,o,s,f,T,E,A,z,K,null,G,V)),Gn(e,m,T,!U);return}}Ff(e,n,m,o,s,f,T,E,A)}function $0(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var f=o[s],m=f.getSnapshot;f=f.value;try{if(!St(m(),f))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gn(e,n,o,s){n&=~Ar,n&=~di,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var f=n;0<f;){var m=31-Tt(f),T=1<<m;s[m]=-1,f&=~T}o!==0&&Ju(e,o,n)}function ea(){return(we&6)===0?(Bl(0),!1):!0}function wr(){if(Te!==null){if(De===0)var e=Te.return;else e=Te,nn=ni=null,Ys(e),Li=null,Cl=0,e=Te;for(;e!==null;)pf(e.alternate,e),e=e.return;Te=null}}function Ji(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,yy(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),mn=0,wr(),qe=e,Te=o=en(e.current,null),_e=n,De=0,At=null,Dn=!1,Bi=sl(e,n),Cr=!1,Oi=Nt=Ar=di=Un=Oe=0,gt=Pl=null,Nr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var f=31-Tt(s),m=1<<f;n|=e[f],s&=~m}return pn=n,So(),o}function qf(e,n){ve=null,k.H=Dl,n===ki||n===Mo?(n=Wc(),De=3):n===ks?(n=Wc(),De=4):De=n===rr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,At=n,Te===null&&(Oe=1,Oo(e,It(n,e.current)))}function Hf(){var e=Et.current;return e===null?!0:(_e&4194048)===_e?Lt===null:(_e&62914560)===_e||(_e&536870912)!==0?e===Lt:!1}function Vf(){var e=k.H;return k.H=Dl,e===null?Dl:e}function Pf(){var e=k.A;return k.A=Q0,e}function ta(){Oe=4,Dn||(_e&4194048)!==_e&&Et.current!==null||(Bi=!0),(Un&134217727)===0&&(di&134217727)===0||qe===null||Gn(qe,_e,Nt,!1)}function Ir(e,n,o){var s=we;we|=2;var f=Vf(),m=Pf();(qe!==e||_e!==n)&&(jo=null,Ji(e,n)),n=!1;var T=Oe;e:do try{if(De!==0&&Te!==null){var E=Te,A=At;switch(De){case 8:wr(),T=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(n=!0);var U=De;if(De=0,At=null,Yi(e,E,A,U),o&&Bi){T=0;break e}break;default:U=De,De=0,At=null,Yi(e,E,A,U)}}W0(),T=Oe;break}catch(z){qf(e,z)}while(!0);return n&&e.shellSuspendCounter++,nn=ni=null,we=s,k.H=f,k.A=m,Te===null&&(qe=null,_e=0,So()),T}function W0(){for(;Te!==null;)zf(Te)}function j0(e,n){var o=we;we|=2;var s=Vf(),f=Pf();qe!==e||_e!==n?(jo=null,Wo=vt()+500,Ji(e,n)):Bi=sl(e,n);e:do try{if(De!==0&&Te!==null){n=Te;var m=At;t:switch(De){case 1:De=0,At=null,Yi(e,n,m,1);break;case 2:case 9:if(Zc(m)){De=0,At=null,Bf(n);break}n=function(){De!==2&&De!==9||qe!==e||(De=7),Zt(e)},m.then(n,n);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Zc(m)?(De=0,At=null,Bf(n)):(De=0,At=null,Yi(e,n,m,7));break;case 5:var T=null;switch(Te.tag){case 26:T=Te.memoizedState;case 5:case 27:var E=Te;if(T?bp(T):E.stateNode.complete){De=0,At=null;var A=E.sibling;if(A!==null)Te=A;else{var U=E.return;U!==null?(Te=U,na(U)):Te=null}break t}}De=0,At=null,Yi(e,n,m,5);break;case 6:De=0,At=null,Yi(e,n,m,6);break;case 8:wr(),Oe=6;break e;default:throw Error(a(462))}}ey();break}catch(z){qf(e,z)}while(!0);return nn=ni=null,k.H=s,k.A=f,we=o,Te!==null?0:(qe=null,_e=0,So(),Oe)}function ey(){for(;Te!==null&&!Eg();)zf(Te)}function zf(e){var n=df(e.alternate,e,pn);e.memoizedProps=e.pendingProps,n===null?na(e):Te=n}function Bf(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=of(o,n,n.pendingProps,n.type,void 0,_e);break;case 11:n=of(o,n,n.pendingProps,n.type.render,n.ref,_e);break;case 5:Ys(n);default:pf(o,n),n=Te=Vc(n,pn),n=df(o,n,pn)}e.memoizedProps=e.pendingProps,n===null?na(e):Te=n}function Yi(e,n,o,s){nn=ni=null,Ys(n),Li=null,Cl=0;var f=n.return;try{if(B0(e,f,n,o,_e)){Oe=1,Oo(e,It(o,e.current)),Te=null;return}}catch(m){if(f!==null)throw Te=f,m;Oe=1,Oo(e,It(o,e.current)),Te=null;return}n.flags&32768?(Ae||s===1?e=!0:Bi||(_e&536870912)!==0?e=!1:(Dn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Et.current,s!==null&&s.tag===13&&(s.flags|=16384))),Of(n,e)):na(n)}function na(e){var n=e;do{if((n.flags&32768)!==0){Of(n,Dn);return}e=n.return;var o=J0(n.alternate,n,pn);if(o!==null){Te=o;return}if(n=n.sibling,n!==null){Te=n;return}Te=n=e}while(n!==null);Oe===0&&(Oe=5)}function Of(e,n){do{var o=Y0(e.alternate,e);if(o!==null){o.flags&=32767,Te=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){Te=e;return}Te=e=o}while(e!==null);Oe=6,Te=null}function Ff(e,n,o,s,f,m,T,E,A){e.cancelPendingCommit=null;do ia();while($e!==0);if((we&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=xs,Ug(e,o,m,T,E,A),e===qe&&(Te=qe=null,_e=0),Fi=n,Ln=e,mn=o,br=m,Rr=f,Uf=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ly(lo,function(){return Qf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=k.T,k.T=null,f=$.p,$.p=2,T=we,we|=4;try{K0(e,n,o)}finally{we=T,$.p=f,k.T=s}}$e=1,Jf(),Yf(),Kf()}}function Jf(){if($e===1){$e=0;var e=Ln,n=Fi,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=k.T,k.T=null;var s=$.p;$.p=2;var f=we;we|=4;try{Af(n,e);var m=Or,T=wc(e.containerInfo),E=m.focusedElem,A=m.selectionRange;if(T!==E&&E&&E.ownerDocument&&Mc(E.ownerDocument.documentElement,E)){if(A!==null&&ms(E)){var U=A.start,z=A.end;if(z===void 0&&(z=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(z,E.value.length);else{var K=E.ownerDocument||document,G=K&&K.defaultView||window;if(G.getSelection){var V=G.getSelection(),le=E.textContent.length,me=Math.min(A.start,le),Ge=A.end===void 0?me:Math.min(A.end,le);!V.extend&&me>Ge&&(T=Ge,Ge=me,me=T);var I=Rc(E,me),b=Rc(E,Ge);if(I&&b&&(V.rangeCount!==1||V.anchorNode!==I.node||V.anchorOffset!==I.offset||V.focusNode!==b.node||V.focusOffset!==b.offset)){var D=K.createRange();D.setStart(I.node,I.offset),V.removeAllRanges(),me>Ge?(V.addRange(D),V.extend(b.node,b.offset)):(D.setEnd(b.node,b.offset),V.addRange(D))}}}}for(K=[],V=E;V=V.parentNode;)V.nodeType===1&&K.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var O=K[E];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}ha=!!Br,Or=Br=null}finally{we=f,$.p=s,k.T=o}}e.current=n,$e=2}}function Yf(){if($e===2){$e=0;var e=Ln,n=Fi,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=k.T,k.T=null;var s=$.p;$.p=2;var f=we;we|=4;try{Tf(e,n.alternate,n)}finally{we=f,$.p=s,k.T=o}}$e=3}}function Kf(){if($e===4||$e===3){$e=0,Cg();var e=Ln,n=Fi,o=mn,s=Uf;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$e=5:($e=0,Fi=Ln=null,Xf(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(kn=null),Qa(o),n=n.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(al,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=k.T,f=$.p,$.p=2,k.T=null;try{for(var m=e.onRecoverableError,T=0;T<s.length;T++){var E=s[T];m(E.value,{componentStack:E.stack})}}finally{k.T=n,$.p=f}}(mn&3)!==0&&ia(),Zt(e),f=e.pendingLanes,(o&261930)!==0&&(f&42)!==0?e===Mr?zl++:(zl=0,Mr=e):zl=0,Bl(0)}}function Xf(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,_l(n)))}function ia(){return Jf(),Yf(),Kf(),Qf()}function Qf(){if($e!==5)return!1;var e=Ln,n=br;br=0;var o=Qa(mn),s=k.T,f=$.p;try{$.p=32>o?32:o,k.T=null,o=Rr,Rr=null;var m=Ln,T=mn;if($e=0,Fi=Ln=null,mn=0,(we&6)!==0)throw Error(a(331));var E=we;if(we|=4,wf(m.current),bf(m,m.current,T,o),we=E,Bl(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(al,m)}catch{}return!0}finally{$.p=f,k.T=s,Xf(e,n)}}function Zf(e,n,o){n=It(o,n),n=sr(e.stateNode,n,2),e=Rn(e,n,2),e!==null&&(rl(e,2),Zt(e))}function Ue(e,n,o){if(e.tag===3)Zf(e,e,o);else for(;n!==null;){if(n.tag===3){Zf(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(kn===null||!kn.has(s))){e=It(o,e),o=Zd(2),s=Rn(n,o,2),s!==null&&($d(o,s,n,e),rl(s,2),Zt(s));break}}n=n.return}}function Dr(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new Z0;var f=new Set;s.set(n,f)}else f=s.get(n),f===void 0&&(f=new Set,s.set(n,f));f.has(o)||(Cr=!0,f.add(o),e=ty.bind(null,e,n,o),n.then(e,e))}function ty(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,qe===e&&(_e&o)===o&&(Oe===4||Oe===3&&(_e&62914560)===_e&&300>vt()-$o?(we&2)===0&&Ji(e,0):Ar|=o,Oi===_e&&(Oi=0)),Zt(e)}function $f(e,n){n===0&&(n=Fu()),e=jn(e,n),e!==null&&(rl(e,n),Zt(e))}function ny(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),$f(e,o)}function iy(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(o=f.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),$f(e,o)}function ly(e,n){return Ja(e,n)}var la=null,Ki=null,Ur=!1,oa=!1,kr=!1,qn=0;function Zt(e){e!==Ki&&e.next===null&&(Ki===null?la=Ki=e:Ki=Ki.next=e),oa=!0,Ur||(Ur=!0,ay())}function Bl(e,n){if(!kr&&oa){kr=!0;do for(var o=!1,s=la;s!==null;){if(e!==0){var f=s.pendingLanes;if(f===0)var m=0;else{var T=s.suspendedLanes,E=s.pingedLanes;m=(1<<31-Tt(42|e)+1)-1,m&=f&~(T&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,tp(s,m))}else m=_e,m=ro(s,s===qe?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||sl(s,m)||(o=!0,tp(s,m));s=s.next}while(o);kr=!1}}function oy(){Wf()}function Wf(){oa=Ur=!1;var e=0;qn!==0&&gy()&&(e=qn);for(var n=vt(),o=null,s=la;s!==null;){var f=s.next,m=jf(s,n);m===0?(s.next=null,o===null?la=f:o.next=f,f===null&&(Ki=o)):(o=s,(e!==0||(m&3)!==0)&&(oa=!0)),s=f}$e!==0&&$e!==5||Bl(e),qn!==0&&(qn=0)}function jf(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-Tt(m),E=1<<T,A=f[T];A===-1?((E&o)===0||(E&s)!==0)&&(f[T]=Dg(E,n)):A<=n&&(e.expiredLanes|=E),m&=~E}if(n=qe,o=_e,o=ro(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(De===2||De===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Ya(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||sl(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&Ya(s),Qa(o)){case 2:case 8:o=Bu;break;case 32:o=lo;break;case 268435456:o=Ou;break;default:o=lo}return s=ep.bind(null,e),o=Ja(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&Ya(s),e.callbackPriority=2,e.callbackNode=null,2}function ep(e,n){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(ia()&&e.callbackNode!==o)return null;var s=_e;return s=ro(e,e===qe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Lf(e,s,n),jf(e,vt()),e.callbackNode!=null&&e.callbackNode===o?ep.bind(null,e):null)}function tp(e,n){if(ia())return null;Lf(e,n,!0)}function ay(){vy(function(){(we&6)!==0?Ja(zu,oy):Wf()})}function Lr(){if(qn===0){var e=Di;e===0&&(e=oo,oo<<=1,(oo&261888)===0&&(oo=256)),qn=e}return qn}function np(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:po(""+e)}function ip(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function sy(e,n,o,s,f){if(n==="submit"&&o&&o.stateNode===f){var m=np((f[dt]||null).action),T=s.submitter;T&&(n=(n=T[dt]||null)?np(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var E=new yo("action","action",null,s,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(qn!==0){var A=T?ip(f,T):new FormData(f);tr(o,{pending:!0,data:A,method:f.method,action:m},null,A)}}else typeof m=="function"&&(E.preventDefault(),A=T?ip(f,T):new FormData(f),tr(o,{pending:!0,data:A,method:f.method,action:m},m,A))},currentTarget:f}]})}}for(var Gr=0;Gr<vs.length;Gr++){var qr=vs[Gr],ry=qr.toLowerCase(),uy=qr[0].toUpperCase()+qr.slice(1);Pt(ry,"on"+uy)}Pt(Uc,"onAnimationEnd"),Pt(kc,"onAnimationIteration"),Pt(Lc,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(A0,"onTransitionRun"),Pt(N0,"onTransitionStart"),Pt(b0,"onTransitionCancel"),Pt(Gc,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function lp(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],f=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var T=s.length-1;0<=T;T--){var E=s[T],A=E.instance,U=E.currentTarget;if(E=E.listener,A!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=U;try{m(f)}catch(z){To(z)}f.currentTarget=null,m=A}else for(T=0;T<s.length;T++){if(E=s[T],A=E.instance,U=E.currentTarget,E=E.listener,A!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=U;try{m(f)}catch(z){To(z)}f.currentTarget=null,m=A}}}}function Se(e,n){var o=n[Za];o===void 0&&(o=n[Za]=new Set);var s=e+"__bubble";o.has(s)||(op(n,e,2,!1),o.add(s))}function Hr(e,n,o){var s=0;n&&(s|=4),op(o,e,s,n)}var aa="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[aa]){e[aa]=!0,$u.forEach(function(o){o!=="selectionchange"&&(cy.has(o)||Hr(o,!1,e),Hr(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[aa]||(n[aa]=!0,Hr("selectionchange",!1,n))}}function op(e,n,o,s){switch(kp(n)){case 2:var f=Hy;break;case 8:f=Vy;break;default:f=eu}o=f.bind(null,n,o,e),f=void 0,!os||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(n,o,{capture:!0,passive:f}):e.addEventListener(n,o,!0):f!==void 0?e.addEventListener(n,o,{passive:f}):e.addEventListener(n,o,!1)}function Pr(e,n,o,s,f){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var E=s.stateNode.containerInfo;if(E===f)break;if(T===4)for(T=s.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;E!==null;){if(T=hi(E),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){s=m=T;continue e}E=E.parentNode}}s=s.return}uc(function(){var U=m,z=is(o),K=[];e:{var G=qc.get(e);if(G!==void 0){var V=yo,le=e;switch(e){case"keypress":if(ho(o)===0)break e;case"keydown":case"keyup":V=i0;break;case"focusin":le="focus",V=us;break;case"focusout":le="blur",V=us;break;case"beforeblur":case"afterblur":V=us;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Jg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=a0;break;case Uc:case kc:case Lc:V=Xg;break;case Gc:V=r0;break;case"scroll":case"scrollend":V=Og;break;case"wheel":V=c0;break;case"copy":case"cut":case"paste":V=Zg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=mc;break;case"toggle":case"beforetoggle":V=f0}var me=(n&4)!==0,Ge=!me&&(e==="scroll"||e==="scrollend"),I=me?G!==null?G+"Capture":null:G;me=[];for(var b=U,D;b!==null;){var O=b;if(D=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||D===null||I===null||(O=dl(b,I),O!=null&&me.push(Fl(b,O,D))),Ge)break;b=b.return}0<me.length&&(G=new V(G,le,null,o,z),K.push({event:G,listeners:me}))}}if((n&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",G&&o!==ns&&(le=o.relatedTarget||o.fromElement)&&(hi(le)||le[mi]))break e;if((V||G)&&(G=z.window===z?z:(G=z.ownerDocument)?G.defaultView||G.parentWindow:window,V?(le=o.relatedTarget||o.toElement,V=U,le=le?hi(le):null,le!==null&&(Ge=d(le),me=le.tag,le!==Ge||me!==5&&me!==27&&me!==6)&&(le=null)):(V=null,le=U),V!==le)){if(me=fc,O="onMouseLeave",I="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(me=mc,O="onPointerLeave",I="onPointerEnter",b="pointer"),Ge=V==null?G:cl(V),D=le==null?G:cl(le),G=new me(O,b+"leave",V,o,z),G.target=Ge,G.relatedTarget=D,O=null,hi(z)===U&&(me=new me(I,b+"enter",le,o,z),me.target=D,me.relatedTarget=Ge,O=me),Ge=O,V&&le)t:{for(me=dy,I=V,b=le,D=0,O=I;O;O=me(O))D++;O=0;for(var de=b;de;de=me(de))O++;for(;0<D-O;)I=me(I),D--;for(;0<O-D;)b=me(b),O--;for(;D--;){if(I===b||b!==null&&I===b.alternate){me=I;break t}I=me(I),b=me(b)}me=null}else me=null;V!==null&&ap(K,G,V,me,!1),le!==null&&Ge!==null&&ap(K,Ge,le,me,!0)}}e:{if(G=U?cl(U):window,V=G.nodeName&&G.nodeName.toLowerCase(),V==="select"||V==="input"&&G.type==="file")var be=_c;else if(Tc(G))if(Ec)be=_0;else{be=T0;var ae=x0}else V=G.nodeName,!V||V.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&ts(U.elementType)&&(be=_c):be=S0;if(be&&(be=be(e,U))){Sc(K,be,o,z);break e}ae&&ae(e,G,U),e==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&es(G,"number",G.value)}switch(ae=U?cl(U):window,e){case"focusin":(Tc(ae)||ae.contentEditable==="true")&&(Ci=ae,hs=U,xl=null);break;case"focusout":xl=hs=Ci=null;break;case"mousedown":gs=!0;break;case"contextmenu":case"mouseup":case"dragend":gs=!1,Ic(K,o,z);break;case"selectionchange":if(C0)break;case"keydown":case"keyup":Ic(K,o,z)}var xe;if(ds)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ei?vc(e,o)&&(Ee="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(hc&&o.locale!=="ko"&&(Ei||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ei&&(xe=cc()):(Sn=z,as="value"in Sn?Sn.value:Sn.textContent,Ei=!0)),ae=sa(U,Ee),0<ae.length&&(Ee=new pc(Ee,e,null,o,z),K.push({event:Ee,listeners:ae}),xe?Ee.data=xe:(xe=xc(o),xe!==null&&(Ee.data=xe)))),(xe=m0?h0(e,o):g0(e,o))&&(Ee=sa(U,"onBeforeInput"),0<Ee.length&&(ae=new pc("onBeforeInput","beforeinput",null,o,z),K.push({event:ae,listeners:Ee}),ae.data=xe)),sy(K,e,U,o,z)}lp(K,n)})}function Fl(e,n,o){return{instance:e,listener:n,currentTarget:o}}function sa(e,n){for(var o=n+"Capture",s=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=dl(e,o),f!=null&&s.unshift(Fl(e,f,m)),f=dl(e,n),f!=null&&s.push(Fl(e,f,m))),e.tag===3)return s;e=e.return}return[]}function dy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ap(e,n,o,s,f){for(var m=n._reactName,T=[];o!==null&&o!==s;){var E=o,A=E.alternate,U=E.stateNode;if(E=E.tag,A!==null&&A===s)break;E!==5&&E!==26&&E!==27||U===null||(A=U,f?(U=dl(o,m),U!=null&&T.unshift(Fl(o,U,A))):f||(U=dl(o,m),U!=null&&T.push(Fl(o,U,A)))),o=o.return}T.length!==0&&e.push({event:n,listeners:T})}var fy=/\r\n?/g,py=/\u0000|\uFFFD/g;function sp(e){return(typeof e=="string"?e:""+e).replace(fy,`
`).replace(py,"")}function rp(e,n){return n=sp(n),sp(e)===n}function Le(e,n,o,s,f,m){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Ti(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Ti(e,""+s);break;case"className":co(e,"class",s);break;case"tabIndex":co(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":co(e,o,s);break;case"style":sc(e,s,m);break;case"data":if(n!=="object"){co(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=po(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(n!=="input"&&Le(e,n,"name",f.name,f,null),Le(e,n,"formEncType",f.formEncType,f,null),Le(e,n,"formMethod",f.formMethod,f,null),Le(e,n,"formTarget",f.formTarget,f,null)):(Le(e,n,"encType",f.encType,f,null),Le(e,n,"method",f.method,f,null),Le(e,n,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=po(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=Wt);break;case"onScroll":s!=null&&Se("scroll",e);break;case"onScrollEnd":s!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=po(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":Se("beforetoggle",e),Se("toggle",e),uo(e,"popover",s);break;case"xlinkActuate":$t(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":$t(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":$t(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":$t(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":$t(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":$t(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":$t(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":$t(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":$t(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":uo(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=zg.get(o)||o,uo(e,o,s))}}function zr(e,n,o,s,f,m){switch(o){case"style":sc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?Ti(e,s):(typeof s=="number"||typeof s=="bigint")&&Ti(e,""+s);break;case"onScroll":s!=null&&Se("scroll",e);break;case"onScrollEnd":s!=null&&Se("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Wt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wu.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),n=o.slice(2,f?o.length-7:void 0),m=e[dt]||null,m=m!=null?m[o]:null,typeof m=="function"&&e.removeEventListener(n,m,f),typeof s=="function")){typeof m!="function"&&m!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,f);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):uo(e,o,s)}}}function ot(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var s=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var T=o[m];if(T!=null)switch(m){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Le(e,n,m,T,o,null)}}f&&Le(e,n,"srcSet",o.srcSet,o,null),s&&Le(e,n,"src",o.src,o,null);return;case"input":Se("invalid",e);var E=m=T=f=null,A=null,U=null;for(s in o)if(o.hasOwnProperty(s)){var z=o[s];if(z!=null)switch(s){case"name":f=z;break;case"type":T=z;break;case"checked":A=z;break;case"defaultChecked":U=z;break;case"value":m=z;break;case"defaultValue":E=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Le(e,n,s,z,o,null)}}ic(e,m,E,A,U,T,f,!1);return;case"select":Se("invalid",e),s=T=m=null;for(f in o)if(o.hasOwnProperty(f)&&(E=o[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":T=E;break;case"multiple":s=E;default:Le(e,n,f,E,o,null)}n=m,o=T,e.multiple=!!s,n!=null?xi(e,!!s,n,!1):o!=null&&xi(e,!!s,o,!0);return;case"textarea":Se("invalid",e),m=f=s=null;for(T in o)if(o.hasOwnProperty(T)&&(E=o[T],E!=null))switch(T){case"value":s=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Le(e,n,T,E,o,null)}oc(e,s,f,m);return;case"option":for(A in o)if(o.hasOwnProperty(A)&&(s=o[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Le(e,n,A,s,o,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(s=0;s<Ol.length;s++)Se(Ol[s],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in o)if(o.hasOwnProperty(U)&&(s=o[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Le(e,n,U,s,o,null)}return;default:if(ts(n)){for(z in o)o.hasOwnProperty(z)&&(s=o[z],s!==void 0&&zr(e,n,z,s,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(s=o[E],s!=null&&Le(e,n,E,s,o,null))}function my(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,E=null,A=null,U=null,z=null;for(V in o){var K=o[V];if(o.hasOwnProperty(V)&&K!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":A=K;default:s.hasOwnProperty(V)||Le(e,n,V,null,s,K)}}for(var G in s){var V=s[G];if(K=o[G],s.hasOwnProperty(G)&&(V!=null||K!=null))switch(G){case"type":m=V;break;case"name":f=V;break;case"checked":U=V;break;case"defaultChecked":z=V;break;case"value":T=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,n));break;default:V!==K&&Le(e,n,G,V,s,K)}}ja(e,T,E,A,U,z,m,f);return;case"select":V=T=E=G=null;for(m in o)if(A=o[m],o.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":V=A;default:s.hasOwnProperty(m)||Le(e,n,m,null,s,A)}for(f in s)if(m=s[f],A=o[f],s.hasOwnProperty(f)&&(m!=null||A!=null))switch(f){case"value":G=m;break;case"defaultValue":E=m;break;case"multiple":T=m;default:m!==A&&Le(e,n,f,m,s,A)}n=E,o=T,s=V,G!=null?xi(e,!!o,G,!1):!!s!=!!o&&(n!=null?xi(e,!!o,n,!0):xi(e,!!o,o?[]:"",!1));return;case"textarea":V=G=null;for(E in o)if(f=o[E],o.hasOwnProperty(E)&&f!=null&&!s.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Le(e,n,E,null,s,f)}for(T in s)if(f=s[T],m=o[T],s.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":G=f;break;case"defaultValue":V=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Le(e,n,T,f,s,m)}lc(e,G,V);return;case"option":for(var le in o)if(G=o[le],o.hasOwnProperty(le)&&G!=null&&!s.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:Le(e,n,le,null,s,G)}for(A in s)if(G=s[A],V=o[A],s.hasOwnProperty(A)&&G!==V&&(G!=null||V!=null))switch(A){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Le(e,n,A,G,s,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in o)G=o[me],o.hasOwnProperty(me)&&G!=null&&!s.hasOwnProperty(me)&&Le(e,n,me,null,s,G);for(U in s)if(G=s[U],V=o[U],s.hasOwnProperty(U)&&G!==V&&(G!=null||V!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Le(e,n,U,G,s,V)}return;default:if(ts(n)){for(var Ge in o)G=o[Ge],o.hasOwnProperty(Ge)&&G!==void 0&&!s.hasOwnProperty(Ge)&&zr(e,n,Ge,void 0,s,G);for(z in s)G=s[z],V=o[z],!s.hasOwnProperty(z)||G===V||G===void 0&&V===void 0||zr(e,n,z,G,s,V);return}}for(var I in o)G=o[I],o.hasOwnProperty(I)&&G!=null&&!s.hasOwnProperty(I)&&Le(e,n,I,null,s,G);for(K in s)G=s[K],V=o[K],!s.hasOwnProperty(K)||G===V||G==null&&V==null||Le(e,n,K,G,s,V)}function up(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var f=o[s],m=f.transferSize,T=f.initiatorType,E=f.duration;if(m&&E&&up(T)){for(T=0,E=f.responseEnd,s+=1;s<o.length;s++){var A=o[s],U=A.startTime;if(U>E)break;var z=A.transferSize,K=A.initiatorType;z&&up(K)&&(A=A.responseEnd,T+=z*(A<E?1:(E-U)/(A-U)))}if(--s,n+=8*(m+T)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Br=null,Or=null;function ra(e){return e.nodeType===9?e:e.ownerDocument}function cp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Fr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jr=null;function gy(){var e=window.event;return e&&e.type==="popstate"?e===Jr?!1:(Jr=e,!0):(Jr=null,!1)}var fp=typeof setTimeout=="function"?setTimeout:void 0,yy=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,vy=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(e){return pp.resolve(null).then(e).catch(xy)}:fp;function xy(e){setTimeout(function(){throw e})}function Hn(e){return e==="head"}function mp(e,n){var o=n,s=0;do{var f=o.nextSibling;if(e.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(f),$i(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")Jl(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Jl(o);for(var m=o.firstChild;m;){var T=m.nextSibling,E=m.nodeName;m[ul]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=T}}else o==="body"&&Jl(e.ownerDocument.body);o=f}while(o);$i(n)}function hp(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function Yr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Yr(o),$a(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Ty(e,n,o,s){for(;e.nodeType===1;){var f=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ul])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function Sy(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Gt(e.nextSibling),e===null))return null;return e}function gp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gt(e.nextSibling),e===null))return null;return e}function Kr(e){return e.data==="$?"||e.data==="$~"}function Xr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _y(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Gt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Qr=null;function yp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return Gt(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function vp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function xp(e,n,o){switch(n=ra(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Jl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$a(e)}var qt=new Map,Tp=new Set;function ua(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hn=$.d;$.d={f:Ey,r:Cy,D:Ay,C:Ny,L:by,m:Ry,X:wy,S:My,M:Iy};function Ey(){var e=hn.f(),n=ea();return e||n}function Cy(e){var n=gi(e);n!==null&&n.tag===5&&n.type==="form"?Gd(n):hn.r(e)}var Xi=typeof document>"u"?null:document;function Sp(e,n,o){var s=Xi;if(s&&typeof n=="string"&&n){var f=Mt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Tp.has(f)||(Tp.add(f),e={rel:e,crossOrigin:o,href:n},s.querySelector(f)===null&&(n=s.createElement("link"),ot(n,"link",e),We(n),s.head.appendChild(n)))}}function Ay(e){hn.D(e),Sp("dns-prefetch",e,null)}function Ny(e,n){hn.C(e,n),Sp("preconnect",e,n)}function by(e,n,o){hn.L(e,n,o);var s=Xi;if(s&&e&&n){var f='link[rel="preload"][as="'+Mt(n)+'"]';n==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Mt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Mt(o.imageSizes)+'"]')):f+='[href="'+Mt(e)+'"]';var m=f;switch(n){case"style":m=Qi(e);break;case"script":m=Zi(e)}qt.has(m)||(e=S({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),qt.set(m,e),s.querySelector(f)!==null||n==="style"&&s.querySelector(Yl(m))||n==="script"&&s.querySelector(Kl(m))||(n=s.createElement("link"),ot(n,"link",e),We(n),s.head.appendChild(n)))}}function Ry(e,n){hn.m(e,n);var o=Xi;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Mt(s)+'"][href="'+Mt(e)+'"]',m=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Zi(e)}if(!qt.has(m)&&(e=S({rel:"modulepreload",href:e},n),qt.set(m,e),o.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Kl(m)))return}s=o.createElement("link"),ot(s,"link",e),We(s),o.head.appendChild(s)}}}function My(e,n,o){hn.S(e,n,o);var s=Xi;if(s&&e){var f=yi(s).hoistableStyles,m=Qi(e);n=n||"default";var T=f.get(m);if(!T){var E={loading:0,preload:null};if(T=s.querySelector(Yl(m)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},o),(o=qt.get(m))&&Zr(e,o);var A=T=s.createElement("link");We(A),ot(A,"link",e),A._p=new Promise(function(U,z){A.onload=U,A.onerror=z}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ca(T,n,s)}T={type:"stylesheet",instance:T,count:1,state:E},f.set(m,T)}}}function wy(e,n){hn.X(e,n);var o=Xi;if(o&&e){var s=yi(o).hoistableScripts,f=Zi(e),m=s.get(f);m||(m=o.querySelector(Kl(f)),m||(e=S({src:e,async:!0},n),(n=qt.get(f))&&$r(e,n),m=o.createElement("script"),We(m),ot(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(f,m))}}function Iy(e,n){hn.M(e,n);var o=Xi;if(o&&e){var s=yi(o).hoistableScripts,f=Zi(e),m=s.get(f);m||(m=o.querySelector(Kl(f)),m||(e=S({src:e,async:!0,type:"module"},n),(n=qt.get(f))&&$r(e,n),m=o.createElement("script"),We(m),ot(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(f,m))}}function _p(e,n,o,s){var f=(f=ee.current)?ua(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Qi(o.href),o=yi(f).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Qi(o.href);var m=yi(f).hoistableStyles,T=m.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=f.querySelector(Yl(e)))&&!m._p&&(T.instance=m,T.state.loading=5),qt.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},qt.set(e,o),m||Dy(f,e,o,T.state))),n&&s===null)throw Error(a(528,""));return T}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Zi(o),o=yi(f).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Qi(e){return'href="'+Mt(e)+'"'}function Yl(e){return'link[rel="stylesheet"]['+e+"]"}function Ep(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Dy(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),ot(n,"link",o),We(n),e.head.appendChild(n))}function Zi(e){return'[src="'+Mt(e)+'"]'}function Kl(e){return"script[async]"+e}function Cp(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Mt(o.href)+'"]');if(s)return n.instance=s,We(s),s;var f=S({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),We(s),ot(s,"style",f),ca(s,o.precedence,e),n.instance=s;case"stylesheet":f=Qi(o.href);var m=e.querySelector(Yl(f));if(m)return n.state.loading|=4,n.instance=m,We(m),m;s=Ep(o),(f=qt.get(f))&&Zr(s,f),m=(e.ownerDocument||e).createElement("link"),We(m);var T=m;return T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),ot(m,"link",s),n.state.loading|=4,ca(m,o.precedence,e),n.instance=m;case"script":return m=Zi(o.src),(f=e.querySelector(Kl(m)))?(n.instance=f,We(f),f):(s=o,(f=qt.get(m))&&(s=S({},o),$r(s,f)),e=e.ownerDocument||e,f=e.createElement("script"),We(f),ot(f,"link",s),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,ca(s,o.precedence,e));return n.instance}function ca(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,m=f,T=0;T<s.length;T++){var E=s[T];if(E.dataset.precedence===n)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function Zr(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function $r(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var da=null;function Ap(e,n,o){if(da===null){var s=new Map,f=da=new Map;f.set(o,s)}else f=da,s=f.get(o),s||(s=new Map,f.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),f=0;f<o.length;f++){var m=o[f];if(!(m[ul]||m[tt]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=e+T;var E=s.get(T);E?E.push(m):s.set(T,[m])}}return s}function Np(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function Uy(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function bp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ky(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Qi(s.href),m=n.querySelector(Yl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=fa.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=m,We(m);return}m=n.ownerDocument||n,s=Ep(s),(f=qt.get(f))&&Zr(s,f),m=m.createElement("link"),We(m);var T=m;T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),ot(m,"link",s),o.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=fa.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var Wr=0;function Ly(e,n){return e.stylesheets&&e.count===0&&ma(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&ma(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&Wr===0&&(Wr=62500*hy());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ma(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>Wr?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function fa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ma(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pa=null;function ma(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pa=new Map,n.forEach(Gy,e),pa=null,fa.call(e))}function Gy(e,n){if(!(n.state.loading&4)){var o=pa.get(e);if(o)var s=o.get(null);else{o=new Map,pa.set(e,o);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),s=T)}s&&o.set(null,s)}f=n.instance,T=f.getAttribute("data-precedence"),m=o.get(T)||s,m===s&&o.set(null,f),o.set(T,f),this.count++,s=fa.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Xl={$$typeof:F,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function qy(e,n,o,s,f,m,T,E,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ka(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.hiddenUpdates=Ka(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Rp(e,n,o,s,f,m,T,E,A,U,z,K){return e=new qy(e,n,o,T,A,U,z,K,E),n=1,m===!0&&(n|=24),m=_t(3,null,null,n),e.current=m,m.stateNode=e,n=Is(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:o,cache:n},Ls(m),e}function Mp(e){return e?(e=bi,e):bi}function wp(e,n,o,s,f,m){f=Mp(f),s.context===null?s.context=f:s.pendingContext=f,s=bn(n),s.payload={element:o},m=m===void 0?null:m,m!==null&&(s.callback=m),o=Rn(e,s,n),o!==null&&(yt(o,e,n),Nl(o,e,n))}function Ip(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function jr(e,n){Ip(e,n),(e=e.alternate)&&Ip(e,n)}function Dp(e){if(e.tag===13||e.tag===31){var n=jn(e,67108864);n!==null&&yt(n,e,67108864),jr(e,67108864)}}function Up(e){if(e.tag===13||e.tag===31){var n=bt();n=Xa(n);var o=jn(e,n);o!==null&&yt(o,e,n),jr(e,n)}}var ha=!0;function Hy(e,n,o,s){var f=k.T;k.T=null;var m=$.p;try{$.p=2,eu(e,n,o,s)}finally{$.p=m,k.T=f}}function Vy(e,n,o,s){var f=k.T;k.T=null;var m=$.p;try{$.p=8,eu(e,n,o,s)}finally{$.p=m,k.T=f}}function eu(e,n,o,s){if(ha){var f=tu(s);if(f===null)Pr(e,n,s,ga,o),Lp(e,s);else if(zy(f,e,n,o,s))s.stopPropagation();else if(Lp(e,s),n&4&&-1<Py.indexOf(e)){for(;f!==null;){var m=gi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Xn(m.pendingLanes);if(T!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;T;){var A=1<<31-Tt(T);E.entanglements[1]|=A,T&=~A}Zt(m),(we&6)===0&&(Wo=vt()+500,Bl(0))}}break;case 31:case 13:E=jn(m,2),E!==null&&yt(E,m,2),ea(),jr(m,2)}if(m=tu(s),m===null&&Pr(e,n,s,ga,o),m===f)break;f=m}f!==null&&s.stopPropagation()}else Pr(e,n,s,null,o)}}function tu(e){return e=is(e),nu(e)}var ga=null;function nu(e){if(ga=null,e=hi(e),e!==null){var n=d(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=p(n),e!==null)return e;e=null}else if(o===31){if(e=g(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ga=e,null}function kp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ag()){case zu:return 2;case Bu:return 8;case lo:case Ng:return 32;case Ou:return 268435456;default:return 32}default:return 32}}var iu=!1,Vn=null,Pn=null,zn=null,Ql=new Map,Zl=new Map,Bn=[],Py="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lp(e,n){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Ql.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(n.pointerId)}}function $l(e,n,o,s,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:m,targetContainers:[f]},n!==null&&(n=gi(n),n!==null&&Dp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function zy(e,n,o,s,f){switch(n){case"focusin":return Vn=$l(Vn,e,n,o,s,f),!0;case"dragenter":return Pn=$l(Pn,e,n,o,s,f),!0;case"mouseover":return zn=$l(zn,e,n,o,s,f),!0;case"pointerover":var m=f.pointerId;return Ql.set(m,$l(Ql.get(m)||null,e,n,o,s,f)),!0;case"gotpointercapture":return m=f.pointerId,Zl.set(m,$l(Zl.get(m)||null,e,n,o,s,f)),!0}return!1}function Gp(e){var n=hi(e.target);if(n!==null){var o=d(n);if(o!==null){if(n=o.tag,n===13){if(n=p(o),n!==null){e.blockedOn=n,Qu(e.priority,function(){Up(o)});return}}else if(n===31){if(n=g(o),n!==null){e.blockedOn=n,Qu(e.priority,function(){Up(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ya(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=tu(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);ns=s,o.target.dispatchEvent(s),ns=null}else return n=gi(o),n!==null&&Dp(n),e.blockedOn=o,!1;n.shift()}return!0}function qp(e,n,o){ya(e)&&o.delete(n)}function By(){iu=!1,Vn!==null&&ya(Vn)&&(Vn=null),Pn!==null&&ya(Pn)&&(Pn=null),zn!==null&&ya(zn)&&(zn=null),Ql.forEach(qp),Zl.forEach(qp)}function va(e,n){e.blockedOn===n&&(e.blockedOn=null,iu||(iu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,By)))}var xa=null;function Hp(e){xa!==e&&(xa=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){xa===e&&(xa=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],f=e[n+2];if(typeof s!="function"){if(nu(s||o)===null)continue;break}var m=gi(o);m!==null&&(e.splice(n,3),n-=3,tr(m,{pending:!0,data:f,method:o.method,action:s},s,f))}}))}function $i(e){function n(A){return va(A,e)}Vn!==null&&va(Vn,e),Pn!==null&&va(Pn,e),zn!==null&&va(zn,e),Ql.forEach(n),Zl.forEach(n);for(var o=0;o<Bn.length;o++){var s=Bn[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Bn.length&&(o=Bn[0],o.blockedOn===null);)Gp(o),o.blockedOn===null&&Bn.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var f=o[s],m=o[s+1],T=f[dt]||null;if(typeof m=="function")T||Hp(o);else if(T){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[dt]||null)E=T.formAction;else if(nu(f)!==null)continue}else E=T.action;typeof E=="function"?o[s+1]=E:(o.splice(s,3),s-=3),Hp(o)}}}function Vp(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function lu(e){this._internalRoot=e}Ta.prototype.render=lu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=bt();wp(o,s,e,n,null,null)},Ta.prototype.unmount=lu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;wp(e.current,2,null,e,null,null),ea(),n[mi]=null}};function Ta(e){this._internalRoot=e}Ta.prototype.unstable_scheduleHydration=function(e){if(e){var n=Xu();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Bn.length&&n!==0&&n<Bn[o].priority;o++);Bn.splice(o,0,e),o===0&&Gp(e)}};var Pp=t.version;if(Pp!=="19.2.4")throw Error(a(527,Pp,"19.2.4"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Oy={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sa.isDisabled&&Sa.supportsFiber)try{al=Sa.inject(Oy),xt=Sa}catch{}}return jl.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",f=Yd,m=Kd,T=Xd;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Rp(e,1,!1,null,null,o,s,null,f,m,T,Vp),e[mi]=n.current,Vr(e),new lu(n)},jl.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,f="",m=Yd,T=Kd,E=Xd,A=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(A=o.formState)),n=Rp(e,1,!0,n,o??null,s,f,A,m,T,E,Vp),n.context=Mp(null),o=n.current,s=bt(),s=Xa(s),f=bn(s),f.callback=null,Rn(o,f,s),o=s,n.current.lanes=o,rl(n,o),Zt(n),e[mi]=n.current,Vr(e),new Ta(n)},jl.version="19.2.4",jl}var Zp;function jy(){if(Zp)return su.exports;Zp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),su.exports=Wy(),su.exports}var ev=jy(),tv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nv,iv;function lv(){return{geminiUrl:nv,vertexUrl:iv}}function ov(i,t,l,a){var r,d;if(!(i!=null&&i.baseUrl)){const p=lv();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:l:(d=p.geminiUrl)!==null&&d!==void 0?d:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yn{}function te(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const d=t[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,l){for(let d=0;d<t.length-1;d++){const p=t[d];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(l))for(let h=0;h<y.length;h++){const v=y[h];c(v,t.slice(d+1),l[h])}else for(const h of y)c(h,t.slice(d+1),l)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(d+1),l);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in i){const p=i[d];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function av(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),d=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&d.length>g)for(let y=g;y<d.length;y++){const h=d[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}mu(i,r,d,0,p)}}function mu(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const d=t[a];if(d.endsWith("[]")){const p=d.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])mu(y,t,l,a+1,r)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,v]of Object.entries(y)){const S=[];for(const _ of l.slice(a))_==="*"?S.push(h):S.push(_);c(p,S,v)}for(const h of g)delete p[h]}}else{const p=i;d in p&&mu(p[d],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sv(i){const t={},l=u(i,["operationName"]);l!=null&&c(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function rv(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],cv(p)),t}function uv(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],dv(p)),t}function cv(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>fv(p))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function dv(i){const t={},l=u(i,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>pv(p))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function fv(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],xv(l)),t}function pv(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],Tv(l)),t}function mv(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function hv(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function gv(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],yv(p)),t}function yv(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function wh(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],vv(p)),t}function vv(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function xv(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],wu(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function Tv(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],wu(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $p;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($p||($p={}));var Wp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Wp||(Wp={}));var jp;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(jp||(jp={}));var Fn;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Fn||(Fn={}));var em;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(em||(em={}));var tm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(tm||(tm={}));var nm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(nm||(nm={}));var im;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(im||(im={}));var lm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(lm||(lm={}));var om;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(om||(om={}));var am;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(am||(am={}));var sm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(sm||(sm={}));var rm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(rm||(rm={}));var um;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(um||(um={}));var cm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(cm||(cm={}));var dm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(dm||(dm={}));var fm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(fm||(fm={}));var pm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(pm||(pm={}));var mm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(mm||(mm={}));var hm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(hm||(hm={}));var gm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(gm||(gm={}));var wa;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(wa||(wa={}));var ym;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ym||(ym={}));var vm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(vm||(vm={}));var xm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(xm||(xm={}));var hu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(hu||(hu={}));var Tm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Tm||(Tm={}));var Sm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Sm||(Sm={}));var gu;(function(i){i.COLLECTION="COLLECTION"})(gu||(gu={}));var _m;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(_m||(_m={}));var Em;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Em||(Em={}));var Cm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Cm||(Cm={}));var Am;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Am||(Am={}));var Nm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Nm||(Nm={}));var bm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(bm||(bm={}));var Rm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Rm||(Rm={}));var Mm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Mm||(Mm={}));var wm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(wm||(wm={}));var Im;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Im||(Im={}));var Dm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Dm||(Dm={}));var Um;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Um||(Um={}));var km;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(km||(km={}));var Lm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Lm||(Lm={}));var Gm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Gm||(Gm={}));var qm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(qm||(qm={}));var Hm;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Hm||(Hm={}));var Vm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Vm||(Vm={}));var Pm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Pm||(Pm={}));var zm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(zm||(zm={}));var Bm;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(Bm||(Bm={}));var Om;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Om||(Om={}));var Fm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Fm||(Fm={}));var Jm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Jm||(Jm={}));var Ym;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ym||(Ym={}));var Km;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Km||(Km={}));var Xm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Xm||(Xm={}));var ji;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(ji||(ji={}));class yu{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class eo{get text(){var t,l,a,r,d,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const S=[];for(const _ of(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,N]of Object.entries(_))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(N!==null||N!==void 0)&&S.push(C);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,h+=_.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,l,a,r,d,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const S of(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,C]of Object.entries(S))_!=="inlineData"&&(C!==null||C!==void 0)&&v.push(_);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,l,a,r,d,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,l,a,r,d,p,g,y,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,l,a,r,d,p,g,y,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Qm{}class Zm{}class Sv{}class _v{}class Ev{}class Cv{}class $m{}class Wm{}class jm{}class Av{}class Ia{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Ia;let r;const d=t;return l?r=uv(d):r=rv(d),Object.assign(a,r),a}}class eh{}class th{}class nh{}class ih{}class Nv{}class bv{}class Rv{}class Iu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Iu,d=gv(t);return Object.assign(a,d),a}}class Mv{}class wv{}class Iv{}class lh{}class Dv{get text(){var t,l,a;let r="",d=!1;const p=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var t,l,a;let r="";const d=[];for(const p of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&d.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Uv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Du{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Du,d=wh(t);return Object.assign(a,d),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Me(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Ih(i,t){const l=Me(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function Dh(i){return Array.isArray(i)?i.map(t=>Da(t)):[Da(i)]}function Da(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Uh(i){const t=Da(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function kh(i){const t=Da(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function oh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Lh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>oh(t)):[oh(i)]}function vu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function ah(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function sh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function st(i){if(i==null)throw new Error("ContentUnion is required");return vu(i)?i:{role:"user",parts:Lh(i)}}function Uu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=st(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=st(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>st(l)):[st(t)]}function Ht(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(ah(i)||sh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[st(i)]}const t=[],l=[],a=vu(i[0]);for(const r of i){const d=vu(r);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(r);else{if(ah(r)||sh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:Lh(l)}),t}function kv(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(Fn).includes(l[0].toUpperCase())?l[0].toUpperCase():Fn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(Fn).includes(a.toUpperCase())?a.toUpperCase():Fn.TYPE_UNSPECIFIED})}}function tl(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,i=d[1]):d[1].type==="null"&&(t.nullable=!0,i=d[0])),i.type instanceof Array&&kv(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Fn).includes(g.toUpperCase())?g.toUpperCase():Fn.TYPE_UNSPECIFIED}else if(l.includes(p))t[p]=tl(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(tl(h))}t[p]=y}else if(r.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=tl(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function ku(i){return tl(i)}function Lu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Gu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function il(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=tl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=tl(t.response));return i}function ll(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function Lv(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function vn(i,t){if(typeof t!="string")throw new Error("name must be a string");return Lv(i,t,"cachedContents")}function Gh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Jn(i){return wu(i)}function Gv(i){return i!=null&&typeof i=="object"&&"name"in i}function qv(i){return i!=null&&typeof i=="object"&&"video"in i}function Hv(i){return i!=null&&typeof i=="object"&&"uri"in i}function qh(i){var t;let l;if(Gv(i)&&(l=i.name),!(Hv(i)&&(l=i.uri,l===void 0))&&!(qv(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function Hh(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function Vh(i){for(const t of["models","tunedModels","publisherModels"])if(Vv(i,t))return i[t];return[]}function Vv(i,t){return i!==null&&typeof i=="object"&&t in i}function Pv(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function zv(i,t={}){const l=[],a=new Set;for(const r of i){const d=r.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const p=Pv(r,t);p.functionDeclarations&&l.push(...p.functionDeclarations)}return{functionDeclarations:l}}function Ph(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function Bv(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function zh(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let d=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function ol(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function Bh(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ov(i){const t={},l=u(i,["responsesFile"]);l!=null&&c(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>Ex(p))),c(t,["inlinedResponses"],d)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["inlinedEmbedContentResponses"],d)}return t}function Fv(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function Jv(i){const t={},l=u(i,["format"]);l!=null&&c(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ra(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],Bh(r));const d=u(i,["metadata","createTime"]);d!=null&&c(t,["createTime"],d);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],Ov(zh(h))),t}function xu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],Bh(r));const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const S=u(i,["inputConfig"]);S!=null&&c(t,["src"],Yv(S));const _=u(i,["outputConfig"]);_!=null&&c(t,["dest"],Fv(zh(_)));const C=u(i,["completionStats"]);return C!=null&&c(t,["completionStats"],C),t}function Yv(i){const t={},l=u(i,["instancesFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function Kv(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>_x(i,p))),c(l,["requests","requests"],d)}return l}function Xv(i){const t={},l=u(i,["format"]);l!=null&&c(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Qv(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Zv(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ol(i,a)),l}function $v(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ol(i,a)),l}function Wv(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],jv(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(C=>C)),c(t,["safetyRatings"],_)}const S=u(i,["urlContextMetadata"]);return S!=null&&c(t,["urlContextMetadata"],S),t}function jv(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function Oh(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>wx(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function ex(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function tx(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],Jv(Bv(r))),l}function rh(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],Kv(i,Ph(i,r)));const d=u(t,["config"]);return d!=null&&ex(d,l),l}function nx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Me(i,a));const r=u(t,["src"]);r!=null&&c(l,["inputConfig"],Xv(Ph(i,r)));const d=u(t,["config"]);return d!=null&&tx(d,l),l}function ix(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),l}function lx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],dx(i,r));const d=u(t,["config"]);return d!=null&&ix(d,l),l}function ox(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ol(i,a)),l}function ax(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ol(i,a)),l}function sx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function rx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function ux(i,t){const l={},a=u(t,["contents"]);if(a!=null){let d=Uu(i,a);Array.isArray(d)&&(d=d.map(p=>p)),c(l,["requests[]","request","content"],d)}const r=u(t,["config"]);return r!=null&&(c(l,["_self"],cx(r,l)),av(l,{"requests[].*":"requests[].request.*"})),l}function cx(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function dx(i,t){const l={},a=u(t,["fileName"]);a!=null&&c(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(l,["requests"],ux(i,r)),l}function fx(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function px(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function mx(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function hx(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Oh(st(r)));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const N=u(t,["frequencyPenalty"]);N!=null&&c(a,["frequencyPenalty"],N);const w=u(t,["seed"]);w!=null&&c(a,["seed"],w);const M=u(t,["responseMimeType"]);M!=null&&c(a,["responseMimeType"],M);const P=u(t,["responseSchema"]);P!=null&&c(a,["responseSchema"],ku(P));const H=u(t,["responseJsonSchema"]);if(H!=null&&c(a,["responseJsonSchema"],H),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(l!==void 0&&F!=null){let pe=F;Array.isArray(pe)&&(pe=pe.map(B=>Ix(B))),c(l,["safetySettings"],pe)}const W=u(t,["tools"]);if(l!==void 0&&W!=null){let pe=ll(W);Array.isArray(pe)&&(pe=pe.map(B=>Ux(il(B)))),c(l,["tools"],pe)}const ne=u(t,["toolConfig"]);if(l!==void 0&&ne!=null&&c(l,["toolConfig"],Dx(ne)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=u(t,["cachedContent"]);l!==void 0&&q!=null&&c(l,["cachedContent"],vn(i,q));const Y=u(t,["responseModalities"]);Y!=null&&c(a,["responseModalities"],Y);const j=u(t,["mediaResolution"]);j!=null&&c(a,["mediaResolution"],j);const Z=u(t,["speechConfig"]);if(Z!=null&&c(a,["speechConfig"],Lu(Z)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=u(t,["thinkingConfig"]);ie!=null&&c(a,["thinkingConfig"],ie);const fe=u(t,["imageConfig"]);fe!=null&&c(a,["imageConfig"],Sx(fe));const oe=u(t,["enableEnhancedCivicAnswers"]);if(oe!=null&&c(a,["enableEnhancedCivicAnswers"],oe),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function gx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>Wv(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function yx(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ol(i,a)),l}function vx(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ol(i,a)),l}function xx(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function Tx(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function Sx(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function _x(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["request","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let g=Ht(r);Array.isArray(g)&&(g=g.map(y=>Oh(y))),c(l,["request","contents"],g)}const d=u(t,["metadata"]);d!=null&&c(l,["metadata"],d);const p=u(t,["config"]);return p!=null&&c(l,["request","generationConfig"],hx(i,p,u(l,["request"],{}))),l}function Ex(i){const t={},l=u(i,["response"]);l!=null&&c(t,["response"],gx(l));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function Cx(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function Ax(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const d=u(i,["filter"]);return t!==void 0&&d!=null&&c(t,["_query","filter"],d),l}function Nx(i){const t={},l=u(i,["config"]);return l!=null&&Cx(l,t),t}function bx(i){const t={},l=u(i,["config"]);return l!=null&&Ax(l,t),t}function Rx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>Ra(p))),c(t,["batchJobs"],d)}return t}function Mx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>xu(p))),c(t,["batchJobs"],d)}return t}function wx(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],fx(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],px(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Qv(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function Ix(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function Dx(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],mx(a)),t}function Ux(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],xx(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],Tx(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(gn||(gn={}));class pi{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,d;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=l.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(d=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kx extends yn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new pi(gn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=rh(this.apiClient,t),a=l._url,r=te("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const _=S.systemInstruction;delete S.systemInstruction;const C=S.request;C.systemInstruction=_,S.request=C}h.push(S)}return g.requests=h,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const d=this.getGcsUri(t),p=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=nx(this.apiClient,t);return g=te("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>xu(v))}else{const h=rh(this.apiClient,t);return g=te("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>Ra(v))}}async createEmbeddingsInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=lx(this.apiClient,t);return d=te("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Ra(y))}}async get(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=vx(this.apiClient,t);return g=te("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>xu(v))}else{const h=yx(this.apiClient,t);return g=te("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>Ra(v))}}async cancel(t){var l,a,r,d;let p="",g={};if(this.apiClient.isVertexAI()){const y=$v(this.apiClient,t);p=te("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=Zv(this.apiClient,t);p=te("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=bx(t);return g=te("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=Mx(v),_=new lh;return Object.assign(_,S),_})}else{const h=Nx(t);return g=te("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=Rx(v),_=new lh;return Object.assign(_,S),_})}}async delete(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ax(this.apiClient,t);return g=te("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>rx(v))}else{const h=ox(this.apiClient,t);return g=te("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>sx(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lx(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function uh(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>lT(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function Gx(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=Ht(p);Array.isArray(v)&&(v=v.map(S=>uh(S))),c(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],uh(st(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>aT(S))),c(t,["tools"],v)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],oT(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function qx(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let S=Ht(p);Array.isArray(S)&&(S=S.map(_=>_)),c(t,["contents"],S)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],st(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(_=>sT(_))),c(t,["tools"],S)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),l}function Hx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Ih(i,a));const r=u(t,["config"]);return r!=null&&Gx(r,l),l}function Vx(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Ih(i,a));const r=u(t,["config"]);return r!=null&&qx(r,l),l}function Px(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],vn(i,a)),l}function zx(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],vn(i,a)),l}function Bx(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function Ox(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function Fx(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Jx(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Yx(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Kx(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Xx(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],vn(i,a)),l}function Qx(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],vn(i,a)),l}function Zx(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function $x(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function Wx(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function jx(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function eT(i){const t={},l=u(i,["config"]);return l!=null&&Wx(l,t),t}function tT(i){const t={},l=u(i,["config"]);return l!=null&&jx(l,t),t}function nT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["cachedContents"],d)}return t}function iT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["cachedContents"],d)}return t}function lT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],Fx(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],Jx(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Lx(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function oT(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],Yx(a)),t}function aT(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],Zx(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],$x(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function sT(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(_=>Kx(_))),c(t,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function rT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function uT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function cT(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],vn(i,a));const r=u(t,["config"]);return r!=null&&rT(r,l),l}function dT(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],vn(i,a));const r=u(t,["config"]);return r!=null&&uT(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fT extends yn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new pi(gn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Vx(this.apiClient,t);return g=te("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=Hx(this.apiClient,t);return g=te("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Qx(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=Xx(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=zx(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=Ox(v),_=new nh;return Object.assign(_,S),_})}else{const h=Px(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=Bx(v),_=new nh;return Object.assign(_,S),_})}}async update(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=dT(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=cT(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=tT(t);return g=te("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=iT(v),_=new ih;return Object.assign(_,S),_})}else{const h=eT(t);return g=te("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=nT(v),_=new ih;return Object.assign(_,S),_})}}}function Ua(i,t){var l={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(l[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(l[a[r]]=i[a[r]]);return l}function ch(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ge(i){return this instanceof ge?(this.v=i,this):new ge(i)}function Ot(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(C){return function(N){return Promise.resolve(N).then(C,S)}}function g(C,N){a[C]&&(r[C]=function(w){return new Promise(function(M,P){d.push([C,w,M,P])>1||y(C,w)})},N&&(r[C]=N(r[C])))}function y(C,N){try{h(a[C](N))}catch(w){_(d[0][3],w)}}function h(C){C.value instanceof ge?Promise.resolve(C.value.v).then(v,S):_(d[0][2],C)}function v(C){y("next",C)}function S(C){y("throw",C)}function _(C,N){C(N),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Ft(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof ch=="function"?ch(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(d){l[d]=i[d]&&function(p){return new Promise(function(g,y){p=i[d](p),r(g,y,p.done,p.value)})}}function r(d,p,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pT(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:Fh(l)}function Fh(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function mT(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function dh(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let d=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),d&&!Fh(i[a])&&(d=!1),a++;d?t.push(...r):t.pop()}return t}class hT{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new gT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class gT{constructor(t,l,a,r={},d=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),mT(d)}async sendMessage(t){var l;await this.sendPromise;const a=st(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var d,p,g;const y=await r,h=(p=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let _=[];v!=null&&(_=(g=v.slice(S))!==null&&g!==void 0?g:[]);const C=h?[h]:[];this.recordHistory(a,C,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=st(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,a)}getHistory(t=!1){const l=t?dh(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return Ot(this,arguments,function*(){var r,d,p,g,y,h;const v=[];try{for(var S=!0,_=Ft(t),C;C=yield ge(_.next()),r=C.done,!r;S=!0){g=C.value,S=!1;const N=g;if(pT(N)){const w=(h=(y=N.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;w!==void 0&&v.push(w)}yield yield ge(N)}}catch(N){d={error:N}}finally{try{!S&&!r&&(p=_.return)&&(yield ge(p.call(_)))}finally{if(d)throw d.error}}this.recordHistory(l,v)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(d=>d.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...dh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class io extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,io.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yT(i){const t={},l=u(i,["file"]);return l!=null&&c(t,["file"],l),t}function vT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function xT(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],qh(l)),t}function TT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function ST(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],qh(l)),t}function _T(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function ET(i){const t={},l=u(i,["config"]);return l!=null&&_T(l,t),t}function CT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AT extends yn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new pi(gn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ET(t);return d=te("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=CT(y),v=new Mv;return Object.assign(v,h),v})}}async createInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=yT(t);return d=te("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=vT(y),v=new wv;return Object.assign(v,h),v})}}async get(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ST(t);return d=te("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xT(t);return d=te("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=TT(y),v=new Iv;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ma(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function NT(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>BT(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function bT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function RT(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function MT(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function wT(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const S=u(i,["presencePenalty"]);S!=null&&c(t,["presencePenalty"],S);const _=u(i,["responseLogprobs"]);_!=null&&c(t,["responseLogprobs"],_);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const N=u(i,["responseModalities"]);N!=null&&c(t,["responseModalities"],N);const w=u(i,["responseSchema"]);w!=null&&c(t,["responseSchema"],w);const M=u(i,["routingConfig"]);M!=null&&c(t,["routingConfig"],M);const P=u(i,["seed"]);P!=null&&c(t,["seed"],P);const H=u(i,["speechConfig"]);H!=null&&c(t,["speechConfig"],H);const F=u(i,["stopSequences"]);F!=null&&c(t,["stopSequences"],F);const W=u(i,["temperature"]);W!=null&&c(t,["temperature"],W);const ne=u(i,["thinkingConfig"]);ne!=null&&c(t,["thinkingConfig"],ne);const q=u(i,["topK"]);q!=null&&c(t,["topK"],q);const Y=u(i,["topP"]);if(Y!=null&&c(t,["topP"],Y),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function IT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function DT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function UT(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],Gu(S));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],NT(st(N)));const w=u(i,["tools"]);if(t!==void 0&&w!=null){let q=ll(w);Array.isArray(q)&&(q=q.map(Y=>FT(il(Y)))),c(t,["setup","tools"],q)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&c(t,["setup","sessionResumption"],OT(M));const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const H=u(i,["outputAudioTranscription"]);t!==void 0&&H!=null&&c(t,["setup","outputAudioTranscription"],H);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const W=u(i,["contextWindowCompression"]);t!==void 0&&W!=null&&c(t,["setup","contextWindowCompression"],W);const ne=u(i,["proactivity"]);if(t!==void 0&&ne!=null&&c(t,["setup","proactivity"],ne),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function kT(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],wT(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],Gu(S));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],st(N));const w=u(i,["tools"]);if(t!==void 0&&w!=null){let Y=ll(w);Array.isArray(Y)&&(Y=Y.map(j=>JT(il(j)))),c(t,["setup","tools"],Y)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&c(t,["setup","sessionResumption"],M);const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const H=u(i,["outputAudioTranscription"]);t!==void 0&&H!=null&&c(t,["setup","outputAudioTranscription"],H);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const W=u(i,["contextWindowCompression"]);t!==void 0&&W!=null&&c(t,["setup","contextWindowCompression"],W);const ne=u(i,["proactivity"]);t!==void 0&&ne!=null&&c(t,["setup","proactivity"],ne);const q=u(i,["explicitVadSignal"]);return t!==void 0&&q!=null&&c(t,["setup","explicitVadSignal"],q),l}function LT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],UT(r,l)),l}function GT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],kT(r,l)),l}function qT(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function HT(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function VT(i){const t={},l=u(i,["media"]);if(l!=null){let h=Dh(l);Array.isArray(h)&&(h=h.map(v=>Ma(v))),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Ma(kh(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],Ma(Uh(d)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function PT(i){const t={},l=u(i,["media"]);if(l!=null){let h=Dh(l);Array.isArray(h)&&(h=h.map(v=>v)),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],kh(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],Uh(d));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function zT(i){const t={},l=u(i,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const d=u(i,["toolCallCancellation"]);d!=null&&c(t,["toolCallCancellation"],d);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],YT(p));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);h!=null&&c(t,["voiceActivityDetectionSignal"],h);const v=u(i,["voiceActivity"]);return v!=null&&c(t,["voiceActivity"],KT(v)),t}function BT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],bT(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],RT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Ma(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function OT(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function FT(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],IT(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],DT(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function JT(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(_=>MT(_))),c(t,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function YT(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const d=u(i,["toolUsePromptTokenCount"]);d!=null&&c(t,["toolUsePromptTokenCount"],d);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(N=>N)),c(t,["promptTokensDetails"],C)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(N=>N)),c(t,["cacheTokensDetails"],C)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(N=>N)),c(t,["responseTokensDetails"],C)}const S=u(i,["toolUsePromptTokensDetails"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(N=>N)),c(t,["toolUsePromptTokensDetails"],C)}const _=u(i,["trafficType"]);return _!=null&&c(t,["trafficType"],_),t}function KT(i){const t={},l=u(i,["type"]);return l!=null&&c(t,["voiceActivityType"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XT(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function QT(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],ZT(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(C=>C)),c(t,["safetyRatings"],_)}const S=u(i,["urlContextMetadata"]);return S!=null&&c(t,["urlContextMetadata"],S),t}function ZT(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function $T(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let d=Ht(r);Array.isArray(d)&&(d=d.map(p=>p)),c(l,["contents"],d)}return l}function WT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["tokensInfo"],r)}return t}function jT(i){const t={},l=u(i,["values"]);l!=null&&c(t,["values"],l);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],eS(a)),t}function eS(i){const t={},l=u(i,["truncated"]);l!=null&&c(t,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Ga(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>u_(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function tS(i){const t={},l=u(i,["controlType"]);l!=null&&c(t,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function nS(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function iS(i,t){const l={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],st(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>Xh(g))),c(t,["tools"],p)}const d=u(i,["generationConfig"]);return t!==void 0&&d!=null&&c(t,["generationConfig"],XS(d)),l}function lS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let p=Ht(r);Array.isArray(p)&&(p=p.map(g=>Ga(g))),c(l,["contents"],p)}const d=u(t,["config"]);return d!=null&&nS(d),l}function oS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let p=Ht(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const d=u(t,["config"]);return d!=null&&iS(d,l),l}function aS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function sS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function rS(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Me(i,a)),l}function uS(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Me(i,a)),l}function cS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function dS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function fS(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&c(t,["parameters","includeSafetyAttributes"],S);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&c(t,["parameters","includeRaiReason"],_);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const N=u(i,["outputMimeType"]);t!==void 0&&N!=null&&c(t,["parameters","outputOptions","mimeType"],N);const w=u(i,["outputCompressionQuality"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","compressionQuality"],w);const M=u(i,["addWatermark"]);t!==void 0&&M!=null&&c(t,["parameters","addWatermark"],M);const P=u(i,["labels"]);t!==void 0&&P!=null&&c(t,["labels"],P);const H=u(i,["editMode"]);t!==void 0&&H!=null&&c(t,["parameters","editMode"],H);const F=u(i,["baseSteps"]);return t!==void 0&&F!=null&&c(t,["parameters","editConfig","baseSteps"],F),l}function pS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>h_(y))),c(l,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&fS(p,l),l}function mS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>qa(d))),c(t,["generatedImages"],r)}return t}function hS(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function gS(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const d=u(i,["outputDimensionality"]);t!==void 0&&d!=null&&c(t,["parameters","outputDimensionality"],d);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),l}function yS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let g=Uu(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(l,["requests[]","content"],g)}const d=u(t,["config"]);d!=null&&hS(d,l);const p=u(t,["model"]);return p!==void 0&&c(l,["requests[]","model"],Me(i,p)),l}function vS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let p=Uu(i,r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["instances[]","content"],p)}const d=u(t,["config"]);return d!=null&&gS(d,l),l}function xS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function TS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>jT(p))),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function SS(i){const t={},l=u(i,["endpoint"]);l!=null&&c(t,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function _S(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function ES(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function CS(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function AS(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function NS(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Ga(st(r)));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const N=u(t,["frequencyPenalty"]);N!=null&&c(a,["frequencyPenalty"],N);const w=u(t,["seed"]);w!=null&&c(a,["seed"],w);const M=u(t,["responseMimeType"]);M!=null&&c(a,["responseMimeType"],M);const P=u(t,["responseSchema"]);P!=null&&c(a,["responseSchema"],ku(P));const H=u(t,["responseJsonSchema"]);if(H!=null&&c(a,["responseJsonSchema"],H),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(l!==void 0&&F!=null){let pe=F;Array.isArray(pe)&&(pe=pe.map(B=>g_(B))),c(l,["safetySettings"],pe)}const W=u(t,["tools"]);if(l!==void 0&&W!=null){let pe=ll(W);Array.isArray(pe)&&(pe=pe.map(B=>E_(il(B)))),c(l,["tools"],pe)}const ne=u(t,["toolConfig"]);if(l!==void 0&&ne!=null&&c(l,["toolConfig"],__(ne)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=u(t,["cachedContent"]);l!==void 0&&q!=null&&c(l,["cachedContent"],vn(i,q));const Y=u(t,["responseModalities"]);Y!=null&&c(a,["responseModalities"],Y);const j=u(t,["mediaResolution"]);j!=null&&c(a,["mediaResolution"],j);const Z=u(t,["speechConfig"]);if(Z!=null&&c(a,["speechConfig"],Lu(Z)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=u(t,["thinkingConfig"]);ie!=null&&c(a,["thinkingConfig"],ie);const fe=u(t,["imageConfig"]);fe!=null&&c(a,["imageConfig"],jS(fe));const oe=u(t,["enableEnhancedCivicAnswers"]);if(oe!=null&&c(a,["enableEnhancedCivicAnswers"],oe),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function bS(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],st(r));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const N=u(t,["frequencyPenalty"]);N!=null&&c(a,["frequencyPenalty"],N);const w=u(t,["seed"]);w!=null&&c(a,["seed"],w);const M=u(t,["responseMimeType"]);M!=null&&c(a,["responseMimeType"],M);const P=u(t,["responseSchema"]);P!=null&&c(a,["responseSchema"],ku(P));const H=u(t,["responseJsonSchema"]);H!=null&&c(a,["responseJsonSchema"],H);const F=u(t,["routingConfig"]);F!=null&&c(a,["routingConfig"],F);const W=u(t,["modelSelectionConfig"]);W!=null&&c(a,["modelConfig"],W);const ne=u(t,["safetySettings"]);if(l!==void 0&&ne!=null){let $=ne;Array.isArray($)&&($=$.map(ue=>ue)),c(l,["safetySettings"],$)}const q=u(t,["tools"]);if(l!==void 0&&q!=null){let $=ll(q);Array.isArray($)&&($=$.map(ue=>Xh(il(ue)))),c(l,["tools"],$)}const Y=u(t,["toolConfig"]);l!==void 0&&Y!=null&&c(l,["toolConfig"],Y);const j=u(t,["labels"]);l!==void 0&&j!=null&&c(l,["labels"],j);const Z=u(t,["cachedContent"]);l!==void 0&&Z!=null&&c(l,["cachedContent"],vn(i,Z));const ie=u(t,["responseModalities"]);ie!=null&&c(a,["responseModalities"],ie);const fe=u(t,["mediaResolution"]);fe!=null&&c(a,["mediaResolution"],fe);const oe=u(t,["speechConfig"]);oe!=null&&c(a,["speechConfig"],Lu(oe));const pe=u(t,["audioTimestamp"]);pe!=null&&c(a,["audioTimestamp"],pe);const B=u(t,["thinkingConfig"]);B!=null&&c(a,["thinkingConfig"],B);const re=u(t,["imageConfig"]);if(re!=null&&c(a,["imageConfig"],e_(re)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const k=u(t,["modelArmorConfig"]);return l!==void 0&&k!=null&&c(l,["modelArmorConfig"],k),a}function fh(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let p=Ht(r);Array.isArray(p)&&(p=p.map(g=>Ga(g))),c(l,["contents"],p)}const d=u(t,["config"]);return d!=null&&c(l,["generationConfig"],NS(i,d,l)),l}function ph(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let p=Ht(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const d=u(t,["config"]);return d!=null&&c(l,["generationConfig"],bS(i,d,l)),l}function mh(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>QT(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function hh(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const d=u(i,["modelVersion"]);d!=null&&c(t,["modelVersion"],d);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function RS(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const d=u(i,["guidanceScale"]);if(t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const S=u(i,["outputMimeType"]);t!==void 0&&S!=null&&c(t,["parameters","outputOptions","mimeType"],S);const _=u(i,["outputCompressionQuality"]);if(t!==void 0&&_!=null&&c(t,["parameters","outputOptions","compressionQuality"],_),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(i,["imageSize"]);if(t!==void 0&&C!=null&&c(t,["parameters","sampleImageSize"],C),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function MS(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&c(t,["parameters","includeSafetyAttributes"],S);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&c(t,["parameters","includeRaiReason"],_);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const N=u(i,["outputMimeType"]);t!==void 0&&N!=null&&c(t,["parameters","outputOptions","mimeType"],N);const w=u(i,["outputCompressionQuality"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","compressionQuality"],w);const M=u(i,["addWatermark"]);t!==void 0&&M!=null&&c(t,["parameters","addWatermark"],M);const P=u(i,["labels"]);t!==void 0&&P!=null&&c(t,["labels"],P);const H=u(i,["imageSize"]);t!==void 0&&H!=null&&c(t,["parameters","sampleImageSize"],H);const F=u(i,["enhancePrompt"]);return t!==void 0&&F!=null&&c(t,["parameters","enhancePrompt"],F),l}function wS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&RS(d,l),l}function IS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&MS(d,l),l}function DS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>FS(p))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Yh(r)),t}function US(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>qa(p))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Kh(r)),t}function kS(i,t){const l={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],Ha(v));const S=u(i,["referenceImages"]);if(t!==void 0&&S!=null){let _=S;Array.isArray(_)&&(_=_.map(C=>G_(C))),c(t,["instances[0]","referenceImages"],_)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function LS(i,t){const l={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const d=u(i,["fps"]);t!==void 0&&d!=null&&c(t,["parameters","fps"],d);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const S=u(i,["pubsubTopic"]);t!==void 0&&S!=null&&c(t,["parameters","pubsubTopic"],S);const _=u(i,["negativePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","negativePrompt"],_);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const N=u(i,["generateAudio"]);t!==void 0&&N!=null&&c(t,["parameters","generateAudio"],N);const w=u(i,["lastFrame"]);t!==void 0&&w!=null&&c(t,["instances[0]","lastFrame"],Jt(w));const M=u(i,["referenceImages"]);if(t!==void 0&&M!=null){let F=M;Array.isArray(F)&&(F=F.map(W=>q_(W))),c(t,["instances[0]","referenceImages"],F)}const P=u(i,["mask"]);t!==void 0&&P!=null&&c(t,["instances[0]","mask"],L_(P));const H=u(i,["compressionQuality"]);return t!==void 0&&H!=null&&c(t,["parameters","compressionQuality"],H),l}function GS(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],PS(p)),t}function qS(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],zS(p)),t}function HS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(l,["instances[0]","image"],Ha(d));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],Qh(p));const g=u(t,["source"]);g!=null&&BS(g,l);const y=u(t,["config"]);return y!=null&&kS(y,l),l}function VS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(l,["instances[0]","image"],Jt(d));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],Zh(p));const g=u(t,["source"]);g!=null&&OS(g,l);const y=u(t,["config"]);return y!=null&&LS(y,l),l}function PS(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>YS(p))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function zS(i){const t={},l=u(i,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>KS(p))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function BS(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Ha(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],Qh(d)),l}function OS(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Jt(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],Zh(d)),l}function FS(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],t_(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],Yh(r)),t}function qa(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],Jh(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],Kh(r));const d=u(i,["prompt"]);return d!=null&&c(t,["enhancedPrompt"],d),t}function JS(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["mask"],Jh(l));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["labels"],r)}return t}function YS(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],U_(l)),t}function KS(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],k_(l)),t}function XS(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const S=u(i,["presencePenalty"]);S!=null&&c(t,["presencePenalty"],S);const _=u(i,["responseLogprobs"]);_!=null&&c(t,["responseLogprobs"],_);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const N=u(i,["responseModalities"]);N!=null&&c(t,["responseModalities"],N);const w=u(i,["responseSchema"]);w!=null&&c(t,["responseSchema"],w);const M=u(i,["routingConfig"]);M!=null&&c(t,["routingConfig"],M);const P=u(i,["seed"]);P!=null&&c(t,["seed"],P);const H=u(i,["speechConfig"]);H!=null&&c(t,["speechConfig"],H);const F=u(i,["stopSequences"]);F!=null&&c(t,["stopSequences"],F);const W=u(i,["temperature"]);W!=null&&c(t,["temperature"],W);const ne=u(i,["thinkingConfig"]);ne!=null&&c(t,["thinkingConfig"],ne);const q=u(i,["topK"]);q!=null&&c(t,["topK"],q);const Y=u(i,["topP"]);if(Y!=null&&c(t,["topP"],Y),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function QS(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Me(i,a)),l}function ZS(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Me(i,a)),l}function $S(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function WS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function jS(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function e_(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["personGeneration"]);r!=null&&c(t,["personGeneration"],r);const d=u(i,["outputMimeType"]);d!=null&&c(t,["imageOutputOptions","mimeType"],d);const p=u(i,["outputCompressionQuality"]);return p!=null&&c(t,["imageOutputOptions","compressionQuality"],p),t}function t_(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],Jn(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Jh(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Ha(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],Jn(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Jt(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function n_(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const d=u(t,["pageToken"]);l!==void 0&&d!=null&&c(l,["_query","pageToken"],d);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],Hh(i,g)),a}function i_(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const d=u(t,["pageToken"]);l!==void 0&&d!=null&&c(l,["_query","pageToken"],d);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],Hh(i,g)),a}function l_(i,t){const l={},a=u(t,["config"]);return a!=null&&n_(i,a,l),l}function o_(i,t){const l={},a=u(t,["config"]);return a!=null&&i_(i,a,l),l}function a_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let d=Vh(r);Array.isArray(d)&&(d=d.map(p=>Tu(p))),c(t,["models"],d)}return t}function s_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let d=Vh(r);Array.isArray(d)&&(d=d.map(p=>Su(p))),c(t,["models"],d)}return t}function r_(i){const t={},l=u(i,["maskMode"]);l!=null&&c(t,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Tu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["version"]);d!=null&&c(t,["version"],d);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],C_(p));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const S=u(i,["maxTemperature"]);S!=null&&c(t,["maxTemperature"],S);const _=u(i,["topP"]);_!=null&&c(t,["topP"],_);const C=u(i,["topK"]);C!=null&&c(t,["topK"],C);const N=u(i,["thinking"]);return N!=null&&c(t,["thinking"],N),t}function Su(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["versionId"]);d!=null&&c(t,["version"],d);const p=u(i,["deployedModels"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(_=>SS(_))),c(t,["endpoints"],S)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],A_(y));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const v=u(i,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(_=>_)),c(t,["checkpoints"],S)}return t}function u_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],_S(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],ES(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],XT(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function c_(i){const t={},l=u(i,["productImage"]);return l!=null&&c(t,["image"],Jt(l)),t}function d_(i,t){const l={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const d=u(i,["outputGcsUri"]);t!==void 0&&d!=null&&c(t,["parameters","storageUri"],d);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const S=u(i,["outputCompressionQuality"]);t!==void 0&&S!=null&&c(t,["parameters","outputOptions","compressionQuality"],S);const _=u(i,["enhancePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","enhancePrompt"],_);const C=u(i,["labels"]);return t!==void 0&&C!=null&&c(t,["labels"],C),l}function f_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["source"]);r!=null&&m_(r,l);const d=u(t,["config"]);return d!=null&&d_(d,l),l}function p_(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>qa(r))),c(t,["generatedImages"],a)}return t}function m_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Jt(r));const d=u(i,["productImages"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>c_(g))),c(t,["instances[0]","productImages"],p)}return l}function h_(i){const t={},l=u(i,["referenceImage"]);l!=null&&c(t,["referenceImage"],Jt(l));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const d=u(i,["maskImageConfig"]);d!=null&&c(t,["maskImageConfig"],r_(d));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],tS(p));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function Yh(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function Kh(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function g_(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function y_(i){const t={},l=u(i,["image"]);return l!=null&&c(t,["image"],Jt(l)),t}function v_(i,t){const l={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const d=u(i,["confidenceThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","confidenceThreshold"],d);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),l}function x_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["source"]);r!=null&&S_(r,l);const d=u(t,["config"]);return d!=null&&v_(d,l),l}function T_(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>JS(r))),c(t,["generatedMasks"],a)}return t}function S_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Jt(r));const d=u(i,["scribbleImage"]);return t!==void 0&&d!=null&&c(t,["instances[0]","scribble"],y_(d)),l}function __(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],CS(a)),t}function E_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],$S(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],WS(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function Xh(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(t,["enterpriseWebSearch"],d);const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(_=>AS(_))),c(t,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function C_(i){const t={},l=u(i,["baseModel"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function A_(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function N_(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),l}function b_(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),l}function R_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","name"],Me(i,a));const r=u(t,["config"]);return r!=null&&N_(r,l),l}function M_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&b_(r,l),l}function w_(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const d=u(i,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const S=u(i,["labels"]);t!==void 0&&S!=null&&c(t,["labels"],S);const _=u(i,["numberOfImages"]);t!==void 0&&_!=null&&c(t,["parameters","sampleCount"],_);const C=u(i,["mode"]);return t!==void 0&&C!=null&&c(t,["parameters","mode"],C),l}function I_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["image"]);r!=null&&c(l,["instances[0]","image"],Jt(r));const d=u(t,["upscaleFactor"]);d!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],d);const p=u(t,["config"]);return p!=null&&w_(p,l),l}function D_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>qa(d))),c(t,["generatedImages"],r)}return t}function U_(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Jn(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function k_(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function L_(i){const t={},l=u(i,["image"]);l!=null&&c(t,["_self"],Jt(l));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function G_(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],Ha(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function q_(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],Jt(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function Qh(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function Zh(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H_(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),l}function V_(i){const t={},l=u(i,["config"]);return l!=null&&H_(l,t),t}function P_(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function z_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&P_(a,t),t}function B_(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function O_(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["customMetadata"],d)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),l}function F_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const p=u(i,["response"]);return p!=null&&c(t,["response"],Y_(p)),t}function J_(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&O_(r,t),t}function Y_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function K_(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function X_(i){const t={},l=u(i,["config"]);return l!=null&&K_(l,t),t}function Q_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["fileSearchStores"],d)}return t}function $h(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const d=u(i,["customMetadata"]);if(t!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),l}function Z_(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&$h(a,t),t}function $_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W_="Content-Type",j_="X-Server-Timeout",eE="User-Agent",_u="x-goog-api-client",tE="1.38.0",nE=`google-genai-sdk/${tE}`,iE="v1beta1",lE="v1beta";class oE{constructor(t){var l,a,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(l=t.httpOptions)===null||l===void 0?void 0:l.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const d={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const g=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!g?(d.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?d.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(d.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),d.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:iE}else{if(!this.clientOptions.apiKey)throw new io({message:"API key must be set when using the Gemini API.",status:403});d.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:lE,d.baseUrl="https://generativelanguage.googleapis.com/"}d.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=d,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(d,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,l){return!(l.baseUrl&&l.baseUrlResourceScope===gu.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,l),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,l,r.toString(),t.abortSignal),this.unaryApiCall(r,d,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,d]of Object.entries(l))typeof d=="object"?a[r]=Object.assign(Object.assign({},a[r]),d):d!==void 0&&(a[r]=d);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,l),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,l,r.toString(),t.abortSignal),this.streamApiCall(r,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const d=new AbortController,p=d.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>d.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),t.signal=p}return l&&l.extraBody!==null&&aE(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await gh(r),new yu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await gh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Ot(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield ge(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=d.decode(v,{stream:!0});try{const N=JSON.parse(S);if("error"in N){const w=JSON.parse(JSON.stringify(N.error)),M=w.status,P=w.code,H=`got status: ${M}. ${JSON.stringify(N)}`;if(P>=400&&P<600)throw new io({message:H,status:P})}}catch(N){if(N.name==="ApiError")throw N}p+=S;let _=-1,C=0;for(;;){_=-1,C=0;for(const M of y){const P=p.indexOf(M);P!==-1&&(_===-1||P<_)&&(_=P,C=M.length)}if(_===-1)break;const N=p.substring(0,_);p=p.substring(_+C);const w=N.trim();if(w.startsWith(g)){const M=w.substring(g.length).trim();try{const P=new Response(M,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ge(new yu(P))}catch(P){throw new Error(`exception parsing stream chunk ${M}. ${P}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=nE+" "+this.clientOptions.userAgentExtra;return t[eE]=l,t[_u]=l,t[W_]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,d]of Object.entries(t.headers))a.append(r,d);t.timeout&&t.timeout>0&&a.append(j_,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,p=await d.stat(t);r.sizeBytes=String(p.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),v=te("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,l==null?void 0:l.httpOptions);return d.upload(t,S,this)}async uploadFileToFileSearchStore(t,l,a){var r;const d=this.clientOptions.uploader,p=await d.stat(l),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),S={};a!=null&&$h(a,S);const _=await this.fetchUploadUrl(h,g,y,v,S,a==null?void 0:a.httpOptions);return d.uploadToFileSearchStore(l,_,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,d,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function gh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new io({message:r,status:l}):new Error(r)}}function aE(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))l=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,p){const g=Object.assign({},d);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sE="mcp_used/unknown";let rE=!1;function Wh(i){for(const t of i)if(uE(t)||typeof t=="object"&&"inputSchema"in t)return!0;return rE}function jh(i){var t;const l=(t=i[_u])!==null&&t!==void 0?t:"";i[_u]=(l+` ${sE}`).trimStart()}function uE(i){return i!==null&&typeof i=="object"&&i instanceof qu}function cE(i){return Ot(this,arguments,function*(l,a=100){let r,d=0;for(;d<a;){const p=yield ge(l.listTools({cursor:r}));for(const g of p.tools)yield yield ge(g),d++;if(!p.nextCursor)break;r=p.nextCursor}})}class qu{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new qu(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const d={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,Ft(cE(v))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const S=r;p.push(S);const _=S.name;if(d[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);d[_]=v}}catch(S){l={error:S}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=p,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),zv(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,d);l.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function dE(i,t,l){const a=new Uv;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class fE{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),p=hE(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(F=>{h=F}),S=t.callbacks,_=function(){h({})},C=this.apiClient,N={onopen:_,onmessage:F=>{dE(C,S.onmessage,F)},onerror:(l=S==null?void 0:S.onerror)!==null&&l!==void 0?l:function(F){},onclose:(a=S==null?void 0:S.onclose)!==null&&a!==void 0?a:function(F){}},w=this.webSocketFactory.create(y,mE(p),N);w.connect(),await v;const H={setup:{model:Me(this.apiClient,t.model)}};return w.send(JSON.stringify(H)),new pE(w,this.apiClient)}}class pE{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=HT(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=qT(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(ji.PLAY)}pause(){this.sendPlaybackControl(ji.PAUSE)}stop(){this.sendPlaybackControl(ji.STOP)}resetContext(){this.sendPlaybackControl(ji.RESET_CONTEXT)}close(){this.conn.close()}}function mE(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function hE(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function yE(i,t,l){const a=new Dv;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const d=JSON.parse(r);if(i.isVertexAI()){const p=zT(d);Object.assign(a,p)}else Object.assign(a,d);t(a)}class vE{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new fE(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,d,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&Wh(t.config.tools)&&jh(S);const _=_E(S);if(this.apiClient.isVertexAI()){const Z=this.apiClient.getProject(),ie=this.apiClient.getLocation(),fe=this.apiClient.getApiKey(),oe=!!Z&&!!ie||!!fe;this.apiClient.getCustomBaseUrl()&&!oe?v=y:(v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,v))}else{const Z=this.apiClient.getApiKey();let ie="BidiGenerateContent",fe="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ie="BidiGenerateContentConstrained",fe="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ie}?${fe}=${Z}`}let C=()=>{};const N=new Promise(Z=>{C=Z}),w=t.callbacks,M=function(){var Z;(Z=w==null?void 0:w.onopen)===null||Z===void 0||Z.call(w),C({})},P=this.apiClient,H={onopen:M,onmessage:Z=>{yE(P,w.onmessage,Z)},onerror:(l=w==null?void 0:w.onerror)!==null&&l!==void 0?l:function(Z){},onclose:(a=w==null?void 0:w.onclose)!==null&&a!==void 0?a:function(Z){}},F=this.webSocketFactory.create(v,SE(_),H);F.connect(),await N;let W=Me(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&W.startsWith("publishers/")){const Z=this.apiClient.getProject(),ie=this.apiClient.getLocation();Z&&ie&&(W=`projects/${Z}/locations/${ie}/`+W)}let ne={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[wa.AUDIO]}:t.config.responseModalities=[wa.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const q=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],Y=[];for(const Z of q)if(this.isCallableTool(Z)){const ie=Z;Y.push(await ie.tool())}else Y.push(Z);Y.length>0&&(t.config.tools=Y);const j={model:W,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?ne=GT(this.apiClient,j):ne=LT(this.apiClient,j),delete ne.config,F.send(JSON.stringify(ne)),new TE(F,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const xE={turnComplete:!0};class TE{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=Ht(l.turns),t.isVertexAI()||(a=a.map(r=>Ga(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(gE)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},xE),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:PT(t)}:l={realtimeInput:VT(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function SE(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function _E(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yh=10;function vh(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(nl(p)){r=!0;break}if(!r)return!0;const d=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function nl(i){return"callTool"in i&&typeof i.callTool=="function"}function EE(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>nl(r)))!==null&&a!==void 0?a:!1}function xh(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(nl(a))return;const d=a;d.functionDeclarations&&d.functionDeclarations.length>0&&l.push(r)}),l}function Th(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CE extends yn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,d,p,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!EE(l)||vh(l.config))return await this.generateContentInternal(y);const h=xh(l);if(h.length>0){const w=h.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let v,S;const _=Ht(y.contents),C=(d=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:yh;let N=0;for(;N<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const w=v.candidates[0].content,M=[];for(const P of(g=(p=l.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(nl(P)){const F=await P.callTool(v.functionCalls);M.push(...F)}N++,S={role:"user",parts:M},y.contents=Ht(y.contents),y.contents.push(w),y.contents.push(S),Th(y.config)&&(_.push(w),_.push(S))}return Th(y.config)&&(v.automaticFunctionCallingHistory=_),v},this.generateContentStream=async l=>{var a,r,d,p,g;if(this.maybeMoveToResponseJsonSchem(l),vh(l.config)){const S=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(S)}const y=xh(l);if(y.length>0){const S=y.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(d=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,v=(g=(p=l==null?void 0:l.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let d;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:p.push(y);let g;return d?g={generatedImages:p,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new pi(gn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,d,p,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((p=(d=l.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const d=(l=t.config)===null||l===void 0?void 0:l.tools;if(!d)return t;const p=await Promise.all(d.map(async y=>nl(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&Wh(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),jh(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var l,a,r;const d=new Map;for(const p of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(nl(p)){const g=p,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(t){var l,a,r;const d=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:yh;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,S){return Ot(this,arguments,function*(){for(var _,C,N,w,M,P;g<d;){p&&(g++,p=!1);const ne=yield ge(h.processParamsMaybeAddMcpUsage(S)),q=yield ge(h.generateContentStreamInternal(ne)),Y=[],j=[];try{for(var H=!0,F=(C=void 0,Ft(q)),W;W=yield ge(F.next()),_=W.done,!_;H=!0){w=W.value,H=!1;const Z=w;if(yield yield ge(Z),Z.candidates&&(!((M=Z.candidates[0])===null||M===void 0)&&M.content)){j.push(Z.candidates[0].content);for(const ie of(P=Z.candidates[0].content.parts)!==null&&P!==void 0?P:[])if(g<d&&ie.functionCall){if(!ie.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ie.functionCall.name)){const fe=yield ge(v.get(ie.functionCall.name).callTool([ie.functionCall]));Y.push(...fe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ie.functionCall.name}`)}}}}catch(Z){C={error:Z}}finally{try{!H&&!_&&(N=F.return)&&(yield ge(N.call(F)))}finally{if(C)throw C.error}}if(Y.length>0){p=!0;const Z=new eo;Z.candidates=[{content:{role:"user",parts:Y}}],yield yield ge(Z);const ie=[];ie.push(...j),ie.push({role:"user",parts:Y});const fe=Ht(S.contents).concat(ie);S.contents=fe}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ph(this.apiClient,t);return g=te("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=hh(v),_=new eo;return Object.assign(_,S),_})}else{const h=fh(this.apiClient,t);return g=te("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=mh(v),_=new eo;return Object.assign(_,S),_})}}async generateContentStreamInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ph(this.apiClient,t);return g=te("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(S){return Ot(this,arguments,function*(){var _,C,N,w;try{for(var M=!0,P=Ft(S),H;H=yield ge(P.next()),_=H.done,!_;M=!0){w=H.value,M=!1;const F=w,W=hh(yield ge(F.json()));W.sdkHttpResponse={headers:F.headers};const ne=new eo;Object.assign(ne,W),yield yield ge(ne)}}catch(F){C={error:F}}finally{try{!M&&!_&&(N=P.return)&&(yield ge(N.call(P)))}finally{if(C)throw C.error}}})})}else{const h=fh(this.apiClient,t);return g=te("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),p.then(function(S){return Ot(this,arguments,function*(){var _,C,N,w;try{for(var M=!0,P=Ft(S),H;H=yield ge(P.next()),_=H.done,!_;M=!0){w=H.value,M=!1;const F=w,W=mh(yield ge(F.json()));W.sdkHttpResponse={headers:F.headers};const ne=new eo;Object.assign(ne,W),yield yield ge(ne)}}catch(F){C={error:F}}finally{try{!M&&!_&&(N=P.return)&&(yield ge(N.call(P)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=vS(this.apiClient,t);return g=te("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=TS(v),_=new Qm;return Object.assign(_,S),_})}else{const h=yS(this.apiClient,t);return g=te("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=xS(v),_=new Qm;return Object.assign(_,S),_})}}async generateImagesInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=IS(this.apiClient,t);return g=te("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=US(v),_=new Zm;return Object.assign(_,S),_})}else{const h=wS(this.apiClient,t);return g=te("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=DS(v),_=new Zm;return Object.assign(_,S),_})}}async editImageInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=pS(this.apiClient,t);return d=te("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=mS(y),v=new Sv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=I_(this.apiClient,t);return d=te("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=D_(y),v=new _v;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=f_(this.apiClient,t);return d=te("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=p_(y),v=new Ev;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=x_(this.apiClient,t);return d=te("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=T_(y),v=new Cv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ZS(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Su(v))}else{const h=QS(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>Tu(v))}}async listInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=o_(this.apiClient,t);return g=te("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=s_(v),_=new $m;return Object.assign(_,S),_})}else{const h=l_(this.apiClient,t);return g=te("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=a_(v),_=new $m;return Object.assign(_,S),_})}}async update(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=M_(this.apiClient,t);return g=te("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Su(v))}else{const h=R_(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>Tu(v))}}async delete(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=uS(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=dS(v),_=new Wm;return Object.assign(_,S),_})}else{const h=rS(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=cS(v),_=new Wm;return Object.assign(_,S),_})}}async countTokens(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=oS(this.apiClient,t);return g=te("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=sS(v),_=new jm;return Object.assign(_,S),_})}else{const h=lS(this.apiClient,t);return g=te("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=aS(v),_=new jm;return Object.assign(_,S),_})}}async computeTokens(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=$T(this.apiClient,t);return d=te("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=WT(y),v=new Av;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=VS(this.apiClient,t);return g=te("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const S=qS(v),_=new Ia;return Object.assign(_,S),_})}else{const h=HS(this.apiClient,t);return g=te("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p.then(v=>{const S=GS(v),_=new Ia;return Object.assign(_,S),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AE extends yn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=hv(t);return g=te("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const h=mv(t);return g=te("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=sv(t);return d=te("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NE(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function bE(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>GE(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function RE(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const d=u(t,["newSessionExpireTime"]);l!==void 0&&d!=null&&c(l,["newSessionExpireTime"],d);const p=u(t,["uses"]);l!==void 0&&p!=null&&c(l,["uses"],p);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],LE(i,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),a}function ME(i,t){const l={},a=u(t,["config"]);return a!=null&&c(l,["config"],RE(i,a,l)),l}function wE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function IE(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function DE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function UE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function kE(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],Gu(S));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],bE(st(N)));const w=u(i,["tools"]);if(t!==void 0&&w!=null){let q=ll(w);Array.isArray(q)&&(q=q.map(Y=>HE(il(Y)))),c(t,["setup","tools"],q)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&c(t,["setup","sessionResumption"],qE(M));const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const H=u(i,["outputAudioTranscription"]);t!==void 0&&H!=null&&c(t,["setup","outputAudioTranscription"],H);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const W=u(i,["contextWindowCompression"]);t!==void 0&&W!=null&&c(t,["setup","contextWindowCompression"],W);const ne=u(i,["proactivity"]);if(t!==void 0&&ne!=null&&c(t,["setup","proactivity"],ne),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function LE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],kE(r,l)),l}function GE(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],wE(d));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],IE(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],NE(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function qE(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function HE(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],DE(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],UE(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VE(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(d=>`${l}.${d}`);t.push(...r)}else t.push(l)}return t.join(",")}function PE(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,l=d):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const d=VE(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class zE extends yn{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=ME(this.apiClient,t);d=te("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=PE(g,t.config);return r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BE(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function OE(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&BE(a,t),t}function FE(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function JE(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function YE(i){const t={},l=u(i,["parent"]);l!=null&&c(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&JE(a,t),t}function KE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(t,["documents"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XE extends yn{constructor(t){super(),this.apiClient=t,this.list=async l=>new pi(gn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=FE(t);return d=te("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=OE(t);r=te("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=YE(t);return d=te("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=KE(y),v=new Nv;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QE extends yn{constructor(t,l=new XE(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new pi(gn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=V_(t);return d=te("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=B_(t);return d=te("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=z_(t);r=te("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=X_(t);return d=te("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=Q_(y),v=new bv;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Z_(t);return d=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=$_(y),v=new Rv;return Object.assign(v,h),v})}}async importFile(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=J_(t);return d=te("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=F_(y),v=new Iu;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let eg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return eg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const ZE=()=>eg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Eu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Cu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vt extends Error{}class ct extends Vt{constructor(t,l,a,r){super(`${ct.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new Va({message:a,cause:Cu(l)});const d=l;return t===400?new ng(t,d,a,r):t===401?new ig(t,d,a,r):t===403?new lg(t,d,a,r):t===404?new og(t,d,a,r):t===409?new ag(t,d,a,r):t===422?new sg(t,d,a,r):t===429?new rg(t,d,a,r):t>=500?new ug(t,d,a,r):new ct(t,d,a,r)}}class Au extends ct{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Va extends ct{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class tg extends Va{constructor({message:t}={}){super({message:t??"Request timed out."})}}class ng extends ct{}class ig extends ct{}class lg extends ct{}class og extends ct{}class ag extends ct{}class sg extends ct{}class rg extends ct{}class ug extends ct{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $E=/^[a-z][a-z0-9+.-]*:/i,WE=i=>$E.test(i);let Nu=i=>(Nu=Array.isArray,Nu(i));const jE=Nu;let eC=jE;const Sh=eC;function tC(i){if(!i)return!0;for(const t in i)return!1;return!0}function nC(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const iC=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Vt(`${i} must be an integer`);if(t<0)throw new Vt(`${i} must be a positive integer`);return t},lC=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oC=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wi="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const sC=()=>{var i,t,l,a,r;const d=aC();if(d==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wi,"X-Stainless-OS":Eh(Deno.build.os),"X-Stainless-Arch":_h(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(d==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wi,"X-Stainless-OS":Eh((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":_h((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=rC();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function rC(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,d=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${d}.${p}`}}}return null}const _h=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Eh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let _a;const uC=()=>_a??(_a=sC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function cg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function dC(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return cg({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function dg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function fC(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pC=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function du(i,t,l){return fg(),new File(i,t??"unknown_file",l)}function mC(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const hC=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",gC=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&pg(i),yC=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function vC(i,t,l){if(fg(),i=await i,gC(i))return i instanceof File?i:du([await i.arrayBuffer()],i.name);if(yC(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),du(await bu(r),t,l)}const a=await bu(i);if(t||(t=mC(i)),!(l!=null&&l.type)){const r=a.find(d=>typeof d=="object"&&"type"in d&&d.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return du(a,t,l)}async function bu(i){var t,l,a,r,d;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(pg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(hC(i))try{for(var g=!0,y=Ft(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const v=r;p.push(...await bu(v))}}catch(v){l={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}else{const v=(d=i==null?void 0:i.constructor)===null||d===void 0?void 0:d.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${xC(i)}`)}return p}function xC(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mg{constructor(t){this._client=t}}mg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Ch=Object.freeze(Object.create(null)),TC=(i=hg)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const d=[],p=l.reduce((v,S,_)=>{var C,N,w;/[?#]/.test(S)&&(r=!0);const M=a[_];let P=(r?encodeURIComponent:i)(""+M);return _!==a.length&&(M==null||typeof M=="object"&&M.toString===((w=Object.getPrototypeOf((N=Object.getPrototypeOf((C=M.hasOwnProperty)!==null&&C!==void 0?C:Ch))!==null&&N!==void 0?N:Ch))===null||w===void 0?void 0:w.toString))&&(P=M+"",d.push({start:v.length+S.length,length:P.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),v+S+(_===a.length?"":P)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)d.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(d.sort((v,S)=>v.start-S.start),d.length>0){let v=0;const S=d.reduce((_,C)=>{const N=" ".repeat(C.start-v),w="^".repeat(C.length);return v=C.start+C.length,_+N+w},"");throw new Vt(`Path parameters result in path with invalid segments:
${d.map(_=>_.error).join(`
`)}
${p}
${S}`)}return p}),Ea=TC(hg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gg extends mg{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,d=Ua(t,["api_version"]);if("model"in d&&"agent_config"in d)throw new Vt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in d&&"generation_config"in d)throw new Vt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ea`/${r}/interactions`,Object.assign(Object.assign({body:d},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(Ea`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(Ea`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const d=l??{},{api_version:p=this._client.apiVersion}=d,g=Ua(d,["api_version"]);return this._client.get(Ea`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}gg._key=Object.freeze(["interactions"]);class yg extends gg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SC(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of i)l.set(r,a),a+=r.length;return l}let Ca;function Hu(i){let t;return(Ca??(t=new globalThis.TextEncoder,Ca=t.encode.bind(t)))(i)}let Aa;function Ah(i){let t;return(Aa??(t=new globalThis.TextDecoder,Aa=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pa{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Hu(t):t;this.buffer=SC([this.buffer,l]);const a=[];let r;for(;(r=_C(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Ah(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const d=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Ah(this.buffer.subarray(0,d));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Pa.NEWLINE_CHARS=new Set([`
`,"\r"]);Pa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function _C(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function EC(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ka={off:0,error:200,warn:300,info:400,debug:500},Nh=(i,t,l)=>{if(i){if(nC(ka,i))return i;ut(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(ka))}`)}};function no(){}function Na(i,t,l){return!t||ka[i]>ka[l]?no:t[i].bind(t)}const CC={error:no,warn:no,info:no,debug:no};let bh=new WeakMap;function ut(i){var t;const l=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return CC;const r=bh.get(l);if(r&&r[0]===a)return r[1];const d={error:Na("error",l,a),warn:Na("warn",l,a),info:Na("info",l,a),debug:Na("debug",l,a)};return bh.set(l,[a,d]),d}const fi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class el{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const d=a?ut(a):console;function p(){return Ot(this,arguments,function*(){var y,h,v,S;if(r)throw new Vt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var C=!0,N=Ft(AC(t,l)),w;w=yield ge(N.next()),y=w.done,!y;C=!0){S=w.value,C=!1;const M=S;if(!_)if(M.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield ge(JSON.parse(M.data))}catch(P){throw d.error("Could not parse message into JSON:",M.data),d.error("From chunk:",M.raw),P}}}catch(M){h={error:M}}finally{try{!C&&!y&&(v=N.return)&&(yield ge(v.call(N)))}finally{if(h)throw h.error}}_=!0}catch(M){if(Eu(M))return yield ge(void 0);throw M}finally{_||l.abort()}})}return new el(p,l,a)}static fromReadableStream(t,l,a){let r=!1;function d(){return Ot(this,arguments,function*(){var y,h,v,S;const _=new Pa,C=dg(t);try{for(var N=!0,w=Ft(C),M;M=yield ge(w.next()),y=M.done,!y;N=!0){S=M.value,N=!1;const P=S;for(const H of _.decode(P))yield yield ge(H)}}catch(P){h={error:P}}finally{try{!N&&!y&&(v=w.return)&&(yield ge(v.call(w)))}finally{if(h)throw h.error}}for(const P of _.flush())yield yield ge(P)})}function p(){return Ot(this,arguments,function*(){var y,h,v,S;if(r)throw new Vt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var C=!0,N=Ft(d()),w;w=yield ge(N.next()),y=w.done,!y;C=!0){S=w.value,C=!1;const M=S;_||M&&(yield yield ge(JSON.parse(M)))}}catch(M){h={error:M}}finally{try{!C&&!y&&(v=N.return)&&(yield ge(v.call(N)))}finally{if(h)throw h.error}}_=!0}catch(M){if(Eu(M))return yield ge(void 0);throw M}finally{_||l.abort()}})}return new el(p,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=d=>({next:()=>{if(d.length===0){const p=a.next();t.push(p),l.push(p)}return d.shift()}});return[new el(()=>r(t),this.controller,this.client),new el(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return cg({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:d}=await l.next();if(d)return a.close();const p=Hu(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function AC(i,t){return Ot(this,arguments,function*(){var a,r,d,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Vt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Vt("Attempted to iterate over a response with no body");const g=new bC,y=new Pa,h=dg(i.body);try{for(var v=!0,S=Ft(NC(h)),_;_=yield ge(S.next()),a=_.done,!a;v=!0){p=_.value,v=!1;const C=p;for(const N of y.decode(C)){const w=g.decode(N);w&&(yield yield ge(w))}}}catch(C){r={error:C}}finally{try{!v&&!a&&(d=S.return)&&(yield ge(d.call(S)))}finally{if(r)throw r.error}}for(const C of y.flush()){const N=g.decode(C);N&&(yield yield ge(N))}})}function NC(i){return Ot(this,arguments,function*(){var l,a,r,d;let p=new Uint8Array;try{for(var g=!0,y=Ft(i),h;h=yield ge(y.next()),l=h.done,!l;g=!0){d=h.value,g=!1;const v=d;if(v==null)continue;const S=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Hu(v):v;let _=new Uint8Array(p.length+S.length);_.set(p),_.set(S,p.length),p=_;let C;for(;(C=EC(p))!==-1;)yield yield ge(p.slice(0,C)),p=p.slice(C)}}catch(v){a={error:v}}finally{try{!g&&!l&&(r=y.return)&&(yield ge(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield ge(p))})}class bC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=RC(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function RC(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function MC(i,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:d}=t,p=await(async()=>{var g;if(t.options.stream)return ut(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):el.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await l.json():await l.text()})();return ut(i).debug(`[${a}] response parsed`,fi({retryOfRequestLogID:r,url:l.url,status:l.status,body:p,durationMs:Date.now()-d})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vu extends Promise{constructor(t,l,a=MC){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Vu(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vg=Symbol("brand.privateNullableHeaders");function*wC(i){if(!i)return;if(vg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const d of r)yield[d,null];return}let t=!1,l;i instanceof Headers?l=i.entries():Sh(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const d=Sh(a[1])?a[1]:[a[1]];let p=!1;for(const g of d)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const to=i=>{const t=new Headers,l=new Set;for(const a of i){const r=new Set;for(const[d,p]of wC(a)){const g=d.toLowerCase();r.has(g)||(t.delete(d),r.add(g)),p===null?(t.delete(d),l.add(g)):(t.append(d,p),l.delete(g))}}return{[vg]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fu=i=>{var t,l,a,r,d,p;if(typeof globalThis.process<"u")return(a=(l=(t=tv)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(d=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||d===void 0?void 0:d.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xg;class za{constructor(t){var l,a,r,d,p,g,y,{baseURL:h=fu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(l=fu("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:S="v1beta"}=t,_=Ua(t,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:S},_),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(a=C.timeout)!==null&&a!==void 0?a:za.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const N="warn";this.logLevel=N,this.logLevel=(p=(d=Nh(C.logLevel,"ClientOptions.logLevel",this))!==null&&d!==void 0?d:Nh(fu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:N,this.fetchOptions=C.fetchOptions,this.maxRetries=(g=C.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:cC(),this.encoder=pC,this._options=C,this.apiKey=v,this.apiVersion=S,this.clientAdapter=C.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=to([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return to([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return to([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new Vt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Wi}`}defaultIdempotencyKey(){return`stainless-node-retry-${ZE()}`}makeStatusError(t,l,a,r){return ct.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,d=WE(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return tC(p)||(l=Object.assign(Object.assign({},p),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(d.search=this.stringifyQuery(l)),d.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new Vu(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,d,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(g);const{req:h,url:v,timeout:S}=await this.buildRequest(g,{retryCount:y-l});await this.prepareRequest(h,{url:v,options:g});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=a===void 0?"":`, retryOf: ${a}`,N=Date.now();if(ut(this).debug(`[${_}] sending request`,fi({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:h.headers})),!((d=g.signal)===null||d===void 0)&&d.aborted)throw new Au;const w=new AbortController,M=await this.fetchWithTimeout(v,h,S,w).catch(Cu),P=Date.now();if(M instanceof globalThis.Error){const F=`retrying, ${l} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Au;const W=Eu(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(l)return ut(this).info(`[${_}] connection ${W?"timed out":"failed"} - ${F}`),ut(this).debug(`[${_}] connection ${W?"timed out":"failed"} (${F})`,fi({retryOfRequestLogID:a,url:v,durationMs:P-N,message:M.message})),this.retryRequest(g,l,a??_);throw ut(this).info(`[${_}] connection ${W?"timed out":"failed"} - error; no more retries left`),ut(this).debug(`[${_}] connection ${W?"timed out":"failed"} (error; no more retries left)`,fi({retryOfRequestLogID:a,url:v,durationMs:P-N,message:M.message})),W?new tg:new Va({cause:M})}const H=`[${_}${C}] ${h.method} ${v} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${P-N}ms`;if(!M.ok){const F=await this.shouldRetry(M);if(l&&F){const Z=`retrying, ${l} attempts remaining`;return await fC(M.body),ut(this).info(`${H} - ${Z}`),ut(this).debug(`[${_}] response error (${Z})`,fi({retryOfRequestLogID:a,url:M.url,status:M.status,headers:M.headers,durationMs:P-N})),this.retryRequest(g,l,a??_,M.headers)}const W=F?"error; no more retries left":"error; not retryable";ut(this).info(`${H} - ${W}`);const ne=await M.text().catch(Z=>Cu(Z).message),q=lC(ne),Y=q?void 0:ne;throw ut(this).debug(`[${_}] response error (${W})`,fi({retryOfRequestLogID:a,url:M.url,status:M.status,headers:M.headers,message:Y,durationMs:Date.now()-N})),this.makeStatusError(M.status,q,Y,M.headers)}return ut(this).info(H),ut(this).debug(`[${_}] response start`,fi({retryOfRequestLogID:a,url:M.url,status:M.status,headers:M.headers,durationMs:P-N})),{response:M,options:g,controller:w,requestLogID:_,retryOfRequestLogID:a,startTime:N}}async fetchWithTimeout(t,l,a,r){const d=l||{},{signal:p,method:g}=d,y=Ua(d,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,S=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(S.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,S)}finally{clearTimeout(h)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var d;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const h=parseFloat(y);Number.isNaN(h)?p=Date.parse(y)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(d=t.maxRetries)!==null&&d!==void 0?d:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(l,h)}return await oC(p),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const d=l-t,p=Math.min(.5*Math.pow(2,d),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,d;const p=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:v}=p,S=this.buildURL(y,h,v);"timeout"in p&&iC("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:_,body:C}=this.buildBody({options:p}),N=await this.buildHeaders({options:t,method:g,bodyHeaders:_,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:N},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(d=p.fetchOptions)!==null&&d!==void 0?d:{}),url:S,timeout:p.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let d={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=to([d,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),uC()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=to([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:dC(t)}:this.encoder({body:t,headers:a})}}za.DEFAULT_TIMEOUT=6e4;class et extends za{constructor(){super(...arguments),this.interactions=new yg(this)}}xg=et;et.GeminiNextGenAPIClient=xg;et.GeminiNextGenAPIClientError=Vt;et.APIError=ct;et.APIConnectionError=Va;et.APIConnectionTimeoutError=tg;et.APIUserAbortError=Au;et.NotFoundError=og;et.ConflictError=ag;et.RateLimitError=rg;et.BadRequestError=ng;et.AuthenticationError=ig;et.InternalServerError=ug;et.PermissionDeniedError=lg;et.UnprocessableEntityError=sg;et.toFile=vC;et.Interactions=yg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IC(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function DC(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function UC(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function kC(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function LC(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(i,["epochCount"]);t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","epochCount"],d);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function GC(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec"],Rh(C))}else if(r==="PREFERENCE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec"],Rh(C))}const d=u(i,["tunedModelDisplayName"]);t!==void 0&&d!=null&&c(t,["tunedModelDisplayName"],d);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let h=u(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(h==="PREFERENCE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=u(i,["labels"]);t!==void 0&&S!=null&&c(t,["labels"],S);const _=u(i,["beta"]);return t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],_),a}function qC(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&XC(d);const p=u(i,["config"]);return p!=null&&LC(p,l),l}function HC(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&QC(d,l,t);const p=u(i,["config"]);return p!=null&&GC(p,l,t),l}function VC(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function PC(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function zC(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function BC(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function OC(i,t){const l={},a=u(i,["config"]);return a!=null&&zC(a,l),l}function FC(i,t){const l={},a=u(i,["config"]);return a!=null&&BC(a,l),l}function JC(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const d=u(i,["tunedModels"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>Tg(g))),c(l,["tuningJobs"],p)}return l}function YC(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const d=u(i,["tuningJobs"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>Ru(g))),c(l,["tuningJobs"],p)}return l}function KC(i,t){const l={},a=u(i,["name"]);a!=null&&c(l,["model"],a);const r=u(i,["name"]);return r!=null&&c(l,["endpoint"],r),l}function XC(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(l,["examples","examples"],r)}return l}function QC(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let d=u(l,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(d==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Tg(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const d=u(i,["state"]);d!=null&&c(l,["state"],Gh(d));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const v=u(i,["description"]);v!=null&&c(l,["description"],v);const S=u(i,["baseModel"]);S!=null&&c(l,["baseModel"],S);const _=u(i,["_self"]);return _!=null&&c(l,["tunedModel"],KC(_)),l}function Ru(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const d=u(i,["state"]);d!=null&&c(l,["state"],Gh(d));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const v=u(i,["error"]);v!=null&&c(l,["error"],v);const S=u(i,["description"]);S!=null&&c(l,["description"],S);const _=u(i,["baseModel"]);_!=null&&c(l,["baseModel"],_);const C=u(i,["tunedModel"]);C!=null&&c(l,["tunedModel"],C);const N=u(i,["preTunedModel"]);N!=null&&c(l,["preTunedModel"],N);const w=u(i,["supervisedTuningSpec"]);w!=null&&c(l,["supervisedTuningSpec"],w);const M=u(i,["preferenceOptimizationSpec"]);M!=null&&c(l,["preferenceOptimizationSpec"],M);const P=u(i,["tuningDataStats"]);P!=null&&c(l,["tuningDataStats"],P);const H=u(i,["encryptionSpec"]);H!=null&&c(l,["encryptionSpec"],H);const F=u(i,["partnerModelTuningSpec"]);F!=null&&c(l,["partnerModelTuningSpec"],F);const W=u(i,["customBaseModel"]);W!=null&&c(l,["customBaseModel"],W);const ne=u(i,["experiment"]);ne!=null&&c(l,["experiment"],ne);const q=u(i,["labels"]);q!=null&&c(l,["labels"],q);const Y=u(i,["outputUri"]);Y!=null&&c(l,["outputUri"],Y);const j=u(i,["pipelineJob"]);j!=null&&c(l,["pipelineJob"],j);const Z=u(i,["serviceAccount"]);Z!=null&&c(l,["serviceAccount"],Z);const ie=u(i,["tunedModelDisplayName"]);ie!=null&&c(l,["tunedModelDisplayName"],ie);const fe=u(i,["veoTuningSpec"]);return fe!=null&&c(l,["veoTuningSpec"],fe),l}function ZC(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const d=u(i,["metadata"]);d!=null&&c(l,["metadata"],d);const p=u(i,["done"]);p!=null&&c(l,["done"],p);const g=u(i,["error"]);return g!=null&&c(l,["error"],g),l}function Rh(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $C extends yn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new pi(gn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},l),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),d=await this.tuneMldevInternal(r);let p="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?p=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(p=d.name.split("/operations/")[0]),{name:p,state:hu.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=PC(t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>Ru(v))}else{const h=VC(t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>Tg(v))}}async listInternal(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=FC(t);return g=te("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=YC(v),_=new eh;return Object.assign(_,S),_})}else{const h=OC(t);return g=te("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=JC(v),_=new eh;return Object.assign(_,S),_})}}async cancel(t){var l,a,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=DC(t);return g=te("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=kC(v),_=new th;return Object.assign(_,S),_})}else{const h=IC(t);return g=te("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const S=UC(v),_=new th;return Object.assign(_,S),_})}}async tuneInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=HC(t,t);return d=te("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Ru(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qC(t);return d=te("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>ZC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WC{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const jC=1024*1024*8,eA=3,tA=1e3,nA=2,La="x-goog-upload-status";async function iA(i,t,l){var a;const r=await Sg(i,t,l),d=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[La])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function lA(i,t,l){var a;const r=await Sg(i,t,l),d=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[La])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=wh(d),g=new Du;return Object.assign(g,p),g}async function Sg(i,t,l){var a,r;let d=0,p=0,g=new yu(new Response),y="upload";for(d=i.size;p<d;){const h=Math.min(jC,d-p),v=i.slice(p,p+h);p+h>=d&&(y+=", finalize");let S=0,_=tA;for(;S<eA&&(g=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[La]));)S++,await aA(_),_=_*nA;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[La])!=="active")break;if(d<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function oA(i){return{size:i.size,type:i.type}}function aA(i){return new Promise(t=>setTimeout(t,i))}class sA{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await iA(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await lA(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await oA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rA{create(t,l,a){return new uA(t,l,a)}}class uA{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mh="x-goog-api-key";class cA{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(Mh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Mh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dA="gl-node/";class fA{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new et({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=ov(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new cA(this.apiKey);this.apiClient=new oE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:dA+"web",uploader:new sA,downloader:new WC}),this.models=new CE(this.apiClient),this.live=new vE(this.apiClient,r,new rA),this.batches=new kx(this.apiClient),this.chats=new hT(this.models,this.apiClient),this.caches=new fT(this.apiClient),this.files=new AT(this.apiClient),this.operations=new AE(this.apiClient),this.authTokens=new zE(this.apiClient),this.tunings=new $C(this.apiClient),this.fileSearchStores=new QE(this.apiClient)}}const ba=i=>{const[t,l]=i.split(":").map(Number);return t*60+l},pA=(i,t)=>{if(i.participants.length===0)return[];const a=[...t.filter(y=>!i.disabledGlobalRuleIds.includes(y.id)),...i.eventRules],r=i.totalCost/i.participants.length,p=i.participants.map(y=>{let h=0,v=1;return y.infractions.forEach(S=>{const _=a.find(C=>C.id===S.ruleId);_&&(_.action==="multiply_quota"?v*=_.actionValue:_.action==="half_field_penalty"?h+=_.actionValue+i.totalCost*.5:h+=S.calculatedAmount)}),a.forEach(S=>{let _=!1,C=1;switch(S.variable){case"arrival_time":const N=ba(y.arrivalTime),w=ba(S.value);S.operator===">"&&N>w&&(_=!0,C=N-w);break;case"ritardo_pesante":const M=ba(y.arrivalTime),P=ba("20:00");M>P+15&&(_=!0);break;case"forgot_kit":y.forgotKit&&S.operator==="=="&&(_=!0);break;case"yellow_cards":y.yellowCards>Number(S.value)&&(_=!0);break;case"is_mvp":y.isMvp&&S.operator==="=="&&(_=!0);break;case"nutmegs":y.nutmegs>Number(S.value)&&(_=!0);break}_&&(S.action==="add_fixed"?h+=S.actionValue*C:S.action==="multiply_quota"?v*=S.actionValue:S.action==="half_field_penalty"&&(h+=S.actionValue+i.totalCost*.5))}),{...y,totalFine:h,baseQuota:r,currentMultiplier:v}}).map(y=>{const v=r*y.currentMultiplier-r;return{...y,totalFine:y.totalFine+Math.max(0,v),baseQuota:r}}),g=p.reduce((y,h)=>y+h.totalFine,0);if(i.fineAllocation==="split"){const y=p.filter(v=>v.totalFine===0),h=y.length>0?g/y.length:0;return p.map(v=>{const S=v.totalFine===0?h:0;let _=r+v.totalFine-S;return{...v,finalAmount:Math.max(0,_)}})}else return p.map(y=>({...y,finalAmount:r+y.totalFine}))},mA=(i,t,l)=>{const a=t.length;return i.map(r=>{const d=t.filter(M=>M.participants.some(P=>P.name===r)),p=d.length;let g=0,y=0,h=0,v=0,S=0,_=0;d.forEach(M=>{var W,ne;const P=M.participants.find(q=>q.name===r);P&&(g+=P.finalAmount,y+=P.totalFine,S+=P.goals||0,M.scoreA!==void 0&&M.scoreB!==void 0&&P.team&&(P.team==="A"&&M.scoreA>M.scoreB||P.team==="B"&&M.scoreB>M.scoreA)&&_++);const H=((W=M.votes)==null?void 0:W.filter(q=>q.mvpId===r).length)||0,F=((ne=M.votes)==null?void 0:ne.filter(q=>q.lvpId===r).length)||0;H>F&&H>0&&h++,F>H&&F>0&&v++});const C=l.filter(M=>!M.isPaid&&(M.from===r||M.to===r));let N=0;C.forEach(M=>{M.from===r&&(N-=M.amount),M.to===r&&(N+=M.amount)});let w="Novizio";return h>5?w="Il Fuoriclasse":v>5?w="Il Bidone d'Oro":S>20?w="Il Bomber":y>100?w="Il Bancomat":p>10&&y===0&&(w="Il Professionista"),{name:r,nickname:r,appearances:p,totalPaid:g,totalFines:y,attendanceRate:a>0?p/a*100:0,weightedFineAverage:p>0?y/p:0,reliabilityScore:100-(p>0?Math.min(100,y/(p*5)*100):0),netBalance:N,bidoneCount:0,mvpCount:h,lvpCount:v,totalGoals:S,winRate:p>0?_/p*100:0,title:w}})},hA=({currentView:i,setView:t,onCreateMatch:l,profile:a,onLogout:r,notificationCount:d=0})=>x.jsxs("aside",{className:"w-72 glass border-r border-white/5 flex flex-col p-8 space-y-10 sticky top-0 h-screen z-40",children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsx("div",{className:"w-12 h-12 bg-emerald-500 rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-500/20",children:x.jsx("i",{className:"fas fa-trophy text-slate-900 text-xl"})}),x.jsxs("div",{children:[x.jsxs("h1",{className:"text-xl font-black italic tracking-tighter uppercase leading-none",children:["Penalty",x.jsx("span",{className:"text-emerald-400",children:"Hub"})]}),x.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest mt-1",children:"Locker Manager Elite"})]})]}),x.jsx("nav",{className:"flex-1 space-y-1 overflow-y-auto pr-2 scrollbar-hide",children:[{id:"dashboard",icon:"fa-house-chimney",label:"Home Pro"},{id:"events",icon:"fa-futbol",label:"Match Log"},{id:"ledger",icon:"fa-wallet",label:"P2P Ledger"},{id:"fund",icon:"fa-piggy-bank",label:"Fondo Cassa"},{id:"bets",icon:"fa-fire-alt",label:"Scommesse"},{id:"rules",icon:"fa-scroll",label:"Il Codice"},{id:"notifications",icon:"fa-bell",label:"Notifiche",badge:d},{id:"friends",icon:"fa-users",label:"Gruppi",badge:0}].map(p=>x.jsxs("button",{onClick:()=>t(p.id),className:`w-full flex items-center justify-between px-5 py-3.5 rounded-2xl transition-all ${i===p.id?"bg-emerald-500 text-slate-950 font-bold shadow-lg shadow-emerald-500/20":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsx("i",{className:`fas ${p.icon} text-lg w-6`}),x.jsx("span",{className:"text-xs uppercase font-black tracking-widest",children:p.label})]}),p.badge&&p.badge>0&&x.jsx("span",{className:"bg-red-500 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full",children:p.badge})]},p.id))}),x.jsxs("div",{className:"pt-4 border-t border-white/5 space-y-4",children:[x.jsxs("button",{onClick:()=>t("profile"),className:`w-full flex items-center space-x-4 p-3 rounded-2xl transition-all border ${i==="profile"?"bg-white/10 border-emerald-500/50":"border-transparent hover:bg-white/5"}`,children:[x.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden bg-slate-800 flex items-center justify-center border border-white/10",children:a.avatar?x.jsx("img",{src:a.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):x.jsx("span",{className:"font-black text-emerald-400 uppercase",children:a.nickname[0]})}),x.jsxs("div",{className:"text-left overflow-hidden",children:[x.jsxs("p",{className:"text-[10px] font-black uppercase text-white truncate",children:["@",a.nickname]}),x.jsx("p",{className:"text-[8px] font-bold text-slate-500 truncate",children:a.idCode})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsx("button",{onClick:r,className:"bg-red-500/10 text-red-500 py-3 rounded-xl font-black uppercase text-[8px] tracking-widest hover:bg-red-500 hover:text-white transition-all",children:"Esci"}),x.jsx("button",{onClick:l,className:"bg-white text-slate-950 py-3 rounded-xl font-black uppercase text-[8px] tracking-widest hover:bg-emerald-400 transition-all shadow-xl",children:"Match"})]})]})]}),gA=({stats:i,fullStats:t,lastEvent:l,aiReport:a,isGenerating:r,onGenerateRoast:d})=>{var p,g,y,h,v,S,_,C;return x.jsxs("div",{className:"space-y-12 animate-in fade-in duration-700",children:[x.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-6xl font-black tracking-tighter uppercase italic leading-none",children:["Calcetto ",x.jsx("span",{className:"text-emerald-500",children:"Pro Hub"})]}),x.jsx("p",{className:"text-slate-500 font-medium text-lg mt-2",children:"Dati, gol e umiliazioni in tempo reale."})]}),x.jsxs("div",{className:"flex space-x-4 w-full md:w-auto",children:[x.jsxs("div",{className:"flex-1 md:flex-none text-right glass p-6 rounded-3xl border-l-4 border-cyan-500 min-w-[160px] shadow-2xl",children:[x.jsx("p",{className:"text-[10px] text-slate-500 font-black uppercase tracking-widest mb-1",children:"Tesoro di Lega"}),x.jsxs("p",{className:"text-3xl font-black text-cyan-400",children:["",i.fundBalance.toFixed(2)]})]}),x.jsxs("div",{className:"flex-1 md:flex-none text-right glass p-6 rounded-3xl border-l-4 border-emerald-500 min-w-[160px] shadow-2xl",children:[x.jsx("p",{className:"text-[10px] text-slate-500 font-black uppercase tracking-widest mb-1",children:"Match Giocati"}),x.jsx("p",{className:"text-3xl font-black text-white",children:i.matchCount})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsxs("div",{className:"bg-white/5 border border-white/10 p-8 rounded-[2.5rem] text-center group hover:border-emerald-500 transition-all",children:[x.jsx("p",{className:"text-[9px] font-black uppercase text-slate-500 mb-2 tracking-widest",children:"Capocannoniere"}),x.jsx("h4",{className:"text-2xl font-black uppercase italic truncate",children:((p=[...t].sort((N,w)=>w.totalGoals-N.totalGoals)[0])==null?void 0:p.name)||"---"}),x.jsxs("p",{className:"text-emerald-500 font-black text-lg",children:[((g=[...t].sort((N,w)=>w.totalGoals-N.totalGoals)[0])==null?void 0:g.totalGoals)||0," GOL"]})]}),x.jsxs("div",{className:"bg-white/5 border border-white/10 p-8 rounded-[2.5rem] text-center group hover:border-purple-500 transition-all",children:[x.jsx("p",{className:"text-[9px] font-black uppercase text-slate-500 mb-2 tracking-widest",children:"Most MVP"}),x.jsx("h4",{className:"text-2xl font-black uppercase italic truncate",children:((y=[...t].sort((N,w)=>w.mvpCount-N.mvpCount)[0])==null?void 0:y.name)||"---"}),x.jsxs("p",{className:"text-purple-500 font-black text-lg",children:[((h=[...t].sort((N,w)=>w.mvpCount-N.mvpCount)[0])==null?void 0:h.mvpCount)||0," TITOLI"]})]}),x.jsxs("div",{className:"bg-white/5 border border-white/10 p-8 rounded-[2.5rem] text-center group hover:border-cyan-500 transition-all",children:[x.jsx("p",{className:"text-[9px] font-black uppercase text-slate-500 mb-2 tracking-widest",children:"Win Rate Top"}),x.jsx("h4",{className:"text-2xl font-black uppercase italic truncate",children:((v=[...t].sort((N,w)=>w.winRate-N.winRate)[0])==null?void 0:v.name)||"---"}),x.jsxs("p",{className:"text-cyan-400 font-black text-lg",children:[((S=[...t].sort((N,w)=>w.winRate-N.winRate)[0])==null?void 0:S.winRate.toFixed(0))||0,"%"]})]}),x.jsxs("div",{className:"bg-white/5 border border-white/10 p-8 rounded-[2.5rem] text-center group hover:border-red-500 transition-all",children:[x.jsx("p",{className:"text-[9px] font-black uppercase text-slate-500 mb-2 tracking-widest",children:"Il Pi Multato"}),x.jsx("h4",{className:"text-2xl font-black uppercase italic truncate",children:((_=[...t].sort((N,w)=>w.totalFines-N.totalFines)[0])==null?void 0:_.name)||"---"}),x.jsxs("p",{className:"text-red-500 font-black text-lg",children:["",((C=[...t].sort((N,w)=>w.totalFines-N.totalFines)[0])==null?void 0:C.totalFines.toFixed(2))||0]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[x.jsxs("div",{className:"bg-white/5 border border-white/5 p-10 rounded-[3.5rem] shadow-inner",children:[x.jsxs("div",{className:"flex justify-between items-center mb-10 border-b border-white/5 pb-6",children:[x.jsx("h3",{className:"text-xl font-black uppercase italic tracking-tighter",children:"Ranking Affidabilit"}),x.jsx("i",{className:"fas fa-shield-halved text-emerald-500 text-xl opacity-50"})]}),x.jsx("div",{className:"space-y-8",children:[...t].sort((N,w)=>w.reliabilityScore-N.reliabilityScore).slice(0,5).map((N,w)=>x.jsxs("div",{className:"space-y-3 group",children:[x.jsxs("div",{className:"flex justify-between items-end",children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs("span",{className:"text-slate-600 font-black text-xs",children:["0",w+1]}),x.jsxs("span",{className:"font-black text-xl italic uppercase",children:["@",N.name]})]}),x.jsxs("p",{className:"text-emerald-400 font-black text-lg",children:[N.reliabilityScore.toFixed(0),"%"]})]}),x.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${N.reliabilityScore}%`}})})]},N.name))})]}),l&&x.jsx("div",{className:"bg-[#121a2b] border border-white/5 rounded-[4rem] p-12 shadow-2xl relative overflow-hidden group",children:x.jsxs("div",{className:"flex flex-col justify-between h-full",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[x.jsx("span",{className:"bg-emerald-500 text-slate-950 text-[10px] font-black px-3 py-1 rounded-full uppercase tracking-widest",children:"Ultimo Risultato"}),x.jsx("span",{className:"text-slate-500 text-xs font-bold uppercase",children:l.date})]}),x.jsxs("div",{className:"flex justify-center items-center space-x-12 my-10",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-5xl font-black italic",children:l.scoreA||0}),x.jsx("p",{className:"text-[10px] font-black text-slate-600 uppercase mt-2",children:"Team A"})]}),x.jsx("div",{className:"text-3xl font-black opacity-10",children:"VS"}),x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-5xl font-black italic",children:l.scoreB||0}),x.jsx("p",{className:"text-[10px] font-black text-slate-600 uppercase mt-2",children:"Team B"})]})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("button",{onClick:()=>d(l),disabled:r,className:"w-full px-10 py-5 bg-white/5 border border-white/10 text-white rounded-3xl text-xs font-black uppercase tracking-widest hover:bg-emerald-500 hover:text-slate-900 transition-all flex items-center justify-center space-x-3",children:[r?x.jsx("i",{className:"fas fa-spinner fa-spin"}):x.jsx("i",{className:"fas fa-ghost"}),x.jsx("span",{children:"Genera Analisi Match AI"})]}),a&&x.jsxs("p",{className:"text-sm text-slate-400 italic bg-slate-950/50 p-6 rounded-2xl border border-white/5 leading-relaxed",children:['"',a,'"']})]})]})})]}),x.jsxs("div",{className:"bg-white/5 border border-white/10 p-10 rounded-[3.5rem]",children:[x.jsxs("h3",{className:"text-xl font-black uppercase italic mb-8 flex items-center",children:[x.jsx("i",{className:"fas fa-ghost text-red-500 mr-4"})," Hall of Bidoni"]}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6",children:[...t].sort((N,w)=>w.bidoneCount-N.bidoneCount).slice(0,6).map(N=>x.jsxs("div",{className:"text-center p-6 bg-slate-950/50 rounded-3xl border border-white/5",children:[x.jsx("p",{className:"font-black italic uppercase text-xs truncate",children:N.name}),x.jsx("p",{className:"text-2xl font-black text-red-500 mt-2",children:N.bidoneCount}),x.jsx("p",{className:"text-[8px] font-black text-slate-600 uppercase tracking-widest mt-1",children:"BIDONI"})]},N.name))})]})]})},yA=({currentUser:i,events:t,setEvents:l,rules:a,friends:r,setTransactions:d,transactions:p,templates:g,onPanicBidone:y,onCastVote:h,onSuggestTeams:v,groups:S})=>{const[_,C]=he.useState(null),[N,w]=he.useState(null),M=(q,Y)=>{l(j=>j.map(Z=>{if(Z.id===q){const ie=Z.registrations.findIndex(oe=>oe.userId===i.id);if(ie!==-1){const oe=[...Z.registrations];return oe[ie]={...oe[ie],guests:Y},{...Z,registrations:oe}}const fe={userId:i.id,name:i.name,nickname:i.nickname,timestamp:Date.now(),guests:Y};return{...Z,registrations:[...Z.registrations,fe]}}return Z}))},P=q=>{l(Y=>Y.map(j=>{if(j.id===q){let Z=[],ie=0;const fe=j.matchType*2;for(const pe of j.registrations)if(ie<fe){Z.push({id:pe.userId,userId:pe.userId,name:pe.name,arrivalTime:j.time,goals:0,nutmegs:0,postHits:0,yellowCards:0,ownGoals:0,forgotKit:!1,isMvp:!1,baseQuota:0,totalFine:0,finalAmount:0,infractions:[],team:"A"}),ie++;for(let B=0;B<pe.guests;B++)ie<fe&&(Z.push({id:`guest-${pe.userId}-${B}`,name:`Ospite di ${pe.nickname}`,arrivalTime:j.time,goals:0,nutmegs:0,postHits:0,yellowCards:0,ownGoals:0,forgotKit:!1,isMvp:!1,baseQuota:0,totalFine:0,finalAmount:0,infractions:[],team:"B"}),ie++)}const oe={...j,status:"open",participants:Z,scoreA:0,scoreB:0};return{...oe,participants:pA(oe,a)}}return j}))},H=(q,Y,j)=>{l(Z=>Z.map(ie=>{if(ie.id===q){const fe={...ie,[Y]:j};return Y==="matchType"&&(fe.maxParticipants=j*2),fe}return ie}))},F=(q,Y)=>{l(j=>j.map(Z=>{if(Z.id===q){const ie=[...Z.disabledGlobalRuleIds],fe=ie.indexOf(Y);return fe===-1?ie.push(Y):ie.splice(fe,1),{...Z,disabledGlobalRuleIds:ie}}return Z}))},W=q=>{l(Y=>Y.map(j=>j.id===q?j.confirmedResult.includes(i.id)?j:{...j,confirmedResult:[...j.confirmedResult,i.id]}:j))},ne=q=>{const Y=t.find(oe=>oe.id===q);if(!Y)return;const j=Y.participants.map(oe=>oe.userId).filter(oe=>oe&&!oe.startsWith("guest-")),Z=j.every(oe=>Y.confirmedResult.includes(oe)),ie=j.every(oe=>Y.votes.some(pe=>pe.voterId===oe));if(!Z||!ie){alert("Attenzione: Non tutti i partecipanti hanno votato o confermato il risultato!");return}const fe=[];if(Y.participants.filter(oe=>oe.name!==Y.organizer).forEach(oe=>{fe.push({id:`m-${Y.id}-${oe.id}`,ownerId:i.id,from:oe.name,to:Y.organizer,amount:oe.finalAmount,reason:`Match Pro: ${Y.matchName}`,date:Y.date,isPaid:!1})}),Y.fineAllocation==="fund"){const oe=Y.participants.reduce((pe,B)=>pe+B.totalFine,0);oe>0&&fe.push({id:`fund-${Y.id}`,ownerId:i.id,from:Y.organizer,to:"FUND",amount:oe,reason:`Multe Match: ${Y.matchName}`,date:Y.date,isPaid:!1})}d([...p,...fe]),l(oe=>oe.map(pe=>pe.id===q?{...pe,status:"closed"}:pe)),w(null)};return x.jsxs("div",{className:"space-y-12 animate-in slide-in-from-bottom-8 duration-500",children:[x.jsx("header",{className:"flex justify-between items-center",children:x.jsxs("div",{children:[x.jsxs("h2",{className:"text-5xl font-black uppercase italic tracking-tighter",children:["Match ",x.jsx("span",{className:"text-emerald-500",children:"Pro Log"})]}),x.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-widest mt-2 italic",children:"Dettagli match, squadre e statistiche gol."})]})}),x.jsx("div",{className:"space-y-16",children:t.map(q=>{const Y=q.registrations.some(B=>B.userId===i.id),j=q.votes.some(B=>B.voterId===i.id),Z=q.confirmedResult.includes(i.id),ie=q.registrations.reduce((B,re)=>B+1+re.guests,0),fe=S.find(B=>B.id===q.groupId),oe=(q.matchType||5)*2,pe=q.participants.some(B=>B.userId===i.id);return x.jsxs("div",{className:`bg-[#0c1220] border p-10 rounded-[3rem] relative overflow-hidden transition-all ${q.status==="closed"?"opacity-60 border-white/5":"border-emerald-500/20 shadow-2xl"}`,children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start mb-10 relative z-10",children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[x.jsxs("span",{className:"text-[9px] font-black uppercase bg-emerald-500/20 text-emerald-400 px-3 py-1 rounded-full italic",children:["PRO_MATCH_",q.id.slice(-4)]}),x.jsx("span",{className:`text-[9px] font-black uppercase px-3 py-1 rounded-full italic ${q.status==="registration"?"bg-cyan-500/20 text-cyan-400":q.status==="open"?"bg-orange-500/20 text-orange-400":q.status==="voting"?"bg-purple-500/20 text-purple-400":"bg-slate-500/20 text-slate-400"}`,children:q.status==="registration"?"ISCRIZIONI":q.status==="open"?"MATCH LIVE":q.status==="voting"?"CONFERME E VOTI":"MATCH CHIUSO"})]}),q.status==="registration"?x.jsxs("div",{className:"space-y-4 mb-6",children:[x.jsx("input",{value:q.matchName,onChange:B=>H(q.id,"matchName",B.target.value),className:"bg-transparent text-4xl font-black uppercase italic tracking-tighter outline-none focus:text-emerald-500 w-full",placeholder:"Nome Match"}),x.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[x.jsx("input",{type:"date",value:q.date,onChange:B=>H(q.id,"date",B.target.value),className:"bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-xs font-black uppercase tracking-widest text-slate-400 outline-none"}),x.jsx("input",{type:"time",value:q.time,onChange:B=>H(q.id,"time",B.target.value),className:"bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-xs font-black uppercase tracking-widest text-slate-400 outline-none"}),x.jsxs("select",{value:q.matchType,onChange:B=>H(q.id,"matchType",parseInt(B.target.value)),className:"bg-emerald-500 text-slate-900 border-none rounded-xl px-4 py-2 text-xs font-black uppercase tracking-widest outline-none shadow-lg",children:[x.jsx("option",{value:5,children:"5 vs 5 (10p)"}),x.jsx("option",{value:6,children:"6 vs 6 (12p)"}),x.jsx("option",{value:7,children:"7 vs 7 (14p)"}),x.jsx("option",{value:8,children:"8 vs 8 (16p)"}),x.jsx("option",{value:11,children:"11 vs 11 (22p)"})]}),x.jsxs("select",{value:q.groupId,onChange:B=>H(q.id,"groupId",B.target.value),className:"bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-xs font-black uppercase tracking-widest text-slate-400 outline-none",children:[x.jsx("option",{value:"",children:"Scegli Gruppo..."}),S.map(B=>x.jsx("option",{value:B.id,children:B.name},B.id))]})]}),x.jsxs("div",{className:"mt-6 pt-6 border-t border-white/5",children:[x.jsx("h5",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-4 italic",children:"Regole Attive in questo Match"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(B=>{const re=q.disabledGlobalRuleIds.includes(B.id);return x.jsx("button",{onClick:()=>F(q.id,B.id),className:`px-4 py-2 rounded-xl text-[9px] font-black uppercase border transition-all ${re?"bg-slate-900 text-slate-600 border-white/5":"bg-emerald-500/10 text-emerald-400 border-emerald-500/20"}`,children:B.description},B.id)})})]})]}):x.jsx("div",{className:"mb-6",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:q.matchName}),x.jsxs("p",{className:"text-slate-500 text-xs font-bold italic mt-1",children:[(fe==null?void 0:fe.name)||"Gruppo Pro"," @ ",q.location,"  ",q.date," ore ",q.time,"  Formato ",q.matchType,"vs",q.matchType]})]}),(q.status==="open"||q.status==="voting")&&x.jsxs("div",{className:"bg-slate-950/50 p-6 rounded-[2rem] border border-white/5 flex items-center space-x-6",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-[8px] font-black text-slate-600 uppercase mb-1",children:"TEAM A"}),x.jsx("input",{type:"number",className:"bg-transparent text-4xl font-black text-emerald-500 w-12 text-center outline-none",value:q.scoreA,onChange:B=>H(q.id,"scoreA",parseInt(B.target.value)||0)})]}),x.jsx("div",{className:"text-2xl font-black italic text-slate-800",children:":"}),x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-[8px] font-black text-slate-600 uppercase mb-1",children:"TEAM B"}),x.jsx("input",{type:"number",className:"bg-transparent text-4xl font-black text-emerald-500 w-12 text-center outline-none",value:q.scoreB,onChange:B=>H(q.id,"scoreB",parseInt(B.target.value)||0)})]})]})]})})]}),q.status==="registration"&&x.jsxs("div",{className:"flex flex-col items-end space-y-4",children:[x.jsxs("div",{className:"flex space-x-3",children:[x.jsx("div",{className:"flex bg-slate-900 rounded-2xl p-1 border border-white/5",children:[0,1,2,3].map(B=>x.jsx("button",{onClick:()=>M(q.id,B),className:"px-4 py-2 hover:bg-emerald-500 hover:text-slate-950 rounded-xl text-[9px] font-black uppercase transition-all",children:B===0?"IO":`+${B}`},B))}),Y&&x.jsxs("button",{onClick:()=>y(q.id),className:"bg-red-500/20 text-red-500 border border-red-500/30 px-6 py-3 rounded-2xl text-[9px] font-black uppercase tracking-widest hover:bg-red-500 hover:text-white transition-all",children:[x.jsx("i",{className:"fas fa-times mr-2"})," BIDONE"]}),q.ownerId===i.id&&x.jsx("button",{onClick:()=>P(q.id),className:"bg-emerald-500 text-slate-950 px-6 py-3 rounded-2xl text-[9px] font-black uppercase tracking-widest shadow-xl",children:"Inizia Ora"})]}),x.jsx("p",{className:"text-[8px] font-black text-slate-600 uppercase italic",children:"Il match inizier automaticamente al raggiungimento dell'orario."})]})]}),q.status==="registration"&&x.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 border-t border-white/5 pt-8",children:x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsxs("h4",{className:"text-[10px] font-black uppercase text-emerald-500 flex items-center",children:[x.jsx("i",{className:"fas fa-list-ol mr-2"})," Coda Registrazioni"]}),x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsxs("span",{className:"text-[10px] font-black text-slate-500 uppercase",children:["Totale: ",ie]}),x.jsxs("span",{className:"text-[10px] font-black text-emerald-500 uppercase",children:["Richiesti: ",oe]})]})]}),x.jsx("div",{className:"space-y-2",children:(()=>{let B=0;return q.registrations.map((re,k)=>{const $=1+re.guests,ue=B;B+=$;const Ce=ue<oe;return x.jsxs("div",{className:`flex justify-between items-center bg-white/5 p-4 rounded-2xl border border-white/5 group ${Ce?"border-emerald-500/20 shadow-[0_0_15px_rgba(16,185,129,0.05)]":"opacity-40"}`,children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsxs("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-black text-[10px] uppercase ${Ce?"bg-emerald-500/20 text-emerald-400":"bg-slate-800 text-slate-500"}`,children:["#",k+1]}),x.jsxs("div",{children:[x.jsxs("span",{className:"text-xs font-black uppercase block",children:["@",re.nickname]}),re.guests>0&&x.jsxs("span",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest",children:["Porta +",re.guests," Ospiti"]})]})]}),x.jsx("div",{className:"flex items-center space-x-2",children:Ce?x.jsx("span",{className:"bg-emerald-500/10 text-emerald-400 px-2 py-1 rounded-lg text-[7px] font-black uppercase italic",children:"Titolare"}):x.jsx("span",{className:"bg-orange-500/10 text-orange-400 px-2 py-1 rounded-lg text-[7px] font-black uppercase italic",children:"Riserva"})})]},re.userId)})})()})]})}),q.status==="open"&&x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"flex space-x-4",children:[x.jsxs("button",{onClick:()=>v(q.id),className:"bg-emerald-500 text-slate-950 px-6 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl flex items-center",children:[x.jsx("i",{className:"fas fa-balance-scale mr-2"})," Suggerisci Squadre Bilanciate"]}),q.ownerId===i.id&&x.jsx("button",{onClick:()=>H(q.id,"status","voting"),className:"bg-purple-500 text-white px-6 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl",children:"Fine Partita"})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:q.participants.map(B=>x.jsxs("div",{className:"bg-slate-950/50 p-6 rounded-[2rem] border border-white/5 relative group",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("span",{className:"font-black italic text-sm uppercase truncate",children:B.name}),x.jsxs("select",{value:B.team,onChange:re=>l(t.map(k=>k.id===q.id?{...k,participants:k.participants.map($=>$.id===B.id?{...$,team:re.target.value}:$)}:k)),className:`text-[8px] font-black px-2 py-1 rounded outline-none border-none bg-slate-900 ${B.team==="A"?"text-emerald-400":"text-cyan-400"}`,children:[x.jsx("option",{value:"A",children:"TEAM A"}),x.jsx("option",{value:"B",children:"TEAM B"})]})]}),x.jsxs("div",{className:"flex justify-between items-center mb-3",children:[x.jsx("span",{className:"text-[9px] font-black text-slate-600 uppercase",children:"GOL"}),x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("button",{onClick:()=>l(t.map(re=>re.id===q.id?{...re,participants:re.participants.map(k=>k.id===B.id?{...k,goals:Math.max(0,k.goals-1)}:k)}:re)),className:"text-slate-500",children:x.jsx("i",{className:"fas fa-minus"})}),x.jsx("span",{className:"text-xl font-black text-emerald-400",children:B.goals}),x.jsx("button",{onClick:()=>l(t.map(re=>re.id===q.id?{...re,participants:re.participants.map(k=>k.id===B.id?{...k,goals:k.goals+1}:k)}:re)),className:"text-slate-500",children:x.jsx("i",{className:"fas fa-plus"})})]})]})]},B.id))})]}),q.status==="voting"&&x.jsxs("div",{className:"bg-purple-500/5 border border-purple-500/20 p-10 rounded-[3.5rem] animate-in zoom-in duration-300",children:[x.jsx("h4",{className:"text-3xl font-black uppercase italic mb-8 text-center text-purple-400",children:"Verifica Risultato e Voti"}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[x.jsxs("div",{className:"space-y-6",children:[x.jsx("h5",{className:"text-xs font-black uppercase tracking-widest text-slate-500 text-center",children:"Conferma Risultato"}),pe&&x.jsx("button",{onClick:()=>W(q.id),disabled:Z,className:`w-full py-6 rounded-3xl font-black uppercase text-xs tracking-widest transition-all ${Z?"bg-emerald-500/20 text-emerald-400":"bg-emerald-500 text-slate-950 hover:scale-105"}`,children:Z?"RISULTATO CONFERMATO":"CONFERMA RISULTATO FINALE"}),x.jsxs("div",{className:"bg-slate-950/50 p-6 rounded-2xl border border-white/5",children:[x.jsx("p",{className:"text-[10px] font-black text-slate-600 uppercase mb-4",children:"CONFERME RICEVUTE"}),x.jsxs("div",{className:"flex -space-x-2",children:[q.confirmedResult.map(B=>x.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500 text-slate-950 flex items-center justify-center text-[8px] font-black border-2 border-slate-950",children:""},B)),q.confirmedResult.length===0&&x.jsx("span",{className:"text-[10px] text-slate-700 italic",children:"In attesa di conferme..."})]}),x.jsxs("p",{className:"text-[9px] font-bold text-slate-500 mt-4 uppercase",children:[q.confirmedResult.length," di ",q.participants.filter(B=>B.userId&&!B.userId.startsWith("guest-")).length," conferme"]})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsx("h5",{className:"text-xs font-black uppercase tracking-widest text-slate-500 text-center",children:"Le Tue Pagelle"}),!j&&pe?x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex flex-col space-y-2",children:[x.jsx("p",{className:"text-[10px] font-black uppercase text-slate-600",children:"Migliore (MVP)"}),x.jsx("div",{className:"flex flex-wrap gap-1",children:q.participants.map(B=>x.jsx("button",{onClick:()=>w(re=>({...re,mvpId:B.name,eventId:q.id})),className:`px-3 py-2 rounded-xl text-[9px] font-black border transition-all ${(N==null?void 0:N.mvpId)===B.name?"bg-emerald-500 text-slate-900 border-emerald-500":"bg-white/5 border-white/10 text-slate-400"}`,children:B.name.split(" ")[0]},B.id))})]}),x.jsxs("div",{className:"flex flex-col space-y-2",children:[x.jsx("p",{className:"text-[10px] font-black uppercase text-slate-600",children:"Peggiore (LVP)"}),x.jsx("div",{className:"flex flex-wrap gap-1",children:q.participants.map(B=>x.jsx("button",{onClick:()=>w(re=>({...re,lvpId:B.name,eventId:q.id})),className:`px-3 py-2 rounded-xl text-[9px] font-black border transition-all ${(N==null?void 0:N.lvpId)===B.name?"bg-red-500 text-slate-900 border-red-500":"bg-white/5 border-white/10 text-slate-400"}`,children:B.name.split(" ")[0]},B.id))})]}),x.jsx("button",{disabled:!(N!=null&&N.mvpId)||!(N!=null&&N.lvpId),onClick:()=>{h(q.id,{voterId:i.id,mvpId:N.mvpId,lvpId:N.lvpId}),w(null)},className:"w-full bg-purple-500 py-4 rounded-2xl font-black uppercase text-[10px] disabled:opacity-20",children:"Invia Voti"})]}):j?x.jsx("div",{className:"p-10 bg-purple-500/10 rounded-3xl border border-purple-500/20 text-center italic text-xs text-purple-400",children:"Voti Inviati! "}):x.jsx("div",{className:"text-center italic text-slate-600",children:"Solo i partecipanti possono votare."})]})]}),q.ownerId===i.id&&x.jsxs("div",{className:"mt-12 text-center border-t border-white/5 pt-10",children:[x.jsx("button",{onClick:()=>ne(q.id),className:"bg-emerald-500 text-slate-950 px-12 py-4 rounded-full font-black uppercase text-xs shadow-xl hover:scale-105 transition-all",children:"Chiudi Match e Salva Statistiche"}),x.jsx("p",{className:"text-[9px] font-black text-slate-600 uppercase mt-4 italic",children:"Puoi chiudere il match solo dopo che TUTTI hanno confermato e votato."})]})]})]},q.id)})})]})},vA=({friends:i,transactions:t,setTransactions:l})=>{const[a,r]=he.useState(null),d=p=>{const g=t.filter(v=>!v.isPaid&&(v.from===p||v.to===p));let y=0,h=0;return g.forEach(v=>{v.from===p&&(y+=v.amount),v.to===p&&(h+=v.amount)}),{debt:y,credit:h}};return x.jsxs("div",{className:"space-y-12 animate-in slide-in-from-right-8 duration-500",children:[x.jsxs("header",{children:[x.jsxs("h2",{className:"text-5xl font-black uppercase italic tracking-tighter",children:["La ",x.jsx("span",{className:"text-emerald-500",children:"Cassa"})]}),x.jsx("p",{className:"text-slate-500 font-medium",children:"Controlla chi deve quanto. Nessun debito dimenticato."})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-10",children:[x.jsx("div",{className:"lg:col-span-1 space-y-3",children:i.map(p=>{const{debt:g,credit:y}=d(p);return x.jsxs("button",{onClick:()=>r(p),className:`w-full p-6 rounded-[2rem] flex justify-between items-center transition-all ${a===p?"bg-emerald-500 text-slate-950 scale-105 shadow-2xl":"bg-white/5 hover:bg-white/10"}`,children:[x.jsx("span",{className:"font-black uppercase tracking-widest text-xs",children:p}),x.jsxs("span",{className:`text-sm font-black ${a===p?"text-slate-950":y>=g?"text-emerald-400":"text-red-400"}`,children:["",(y-g).toFixed(2)]})]},p)})}),x.jsx("div",{className:"lg:col-span-3",children:a?x.jsxs("div",{className:"bg-white/5 border p-12 rounded-[4rem] min-h-[500px]",children:[x.jsxs("div",{className:"flex justify-between items-end mb-10 border-b border-white/5 pb-8",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-emerald-400 text-[10px] font-black uppercase tracking-widest mb-2",children:"Ledger Privato"}),x.jsx("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:a})]}),x.jsxs("div",{className:"flex space-x-8",children:[x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-[10px] uppercase font-black text-red-500 mb-1",children:"Deve Dare"}),x.jsxs("p",{className:"text-2xl font-black",children:["",d(a).debt.toFixed(2)]})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-[10px] uppercase font-black text-emerald-500 mb-1",children:"A Credito"}),x.jsxs("p",{className:"text-2xl font-black",children:["",d(a).credit.toFixed(2)]})]})]})]}),x.jsx("div",{className:"space-y-4",children:t.filter(p=>!p.isPaid&&(p.from===a||p.to===a)).map(p=>x.jsxs("div",{className:`p-8 rounded-[2.5rem] border flex justify-between items-center ${p.from===a?"bg-red-500/5 border-red-500/10":"bg-emerald-500/5 border-emerald-500/10"}`,children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-lg",children:p.reason}),x.jsxs("p",{className:"text-[10px] text-slate-500 font-bold uppercase mt-1 tracking-widest",children:[p.from===a?`A: ${p.to}`:`Da: ${p.from}`,"  ",p.date]})]}),x.jsxs("div",{className:"flex items-center space-x-6",children:[x.jsxs("span",{className:`text-2xl font-black ${p.from===a?"text-red-400":"text-emerald-400"}`,children:["",p.amount.toFixed(2)]}),x.jsx("button",{onClick:()=>l(t.map(g=>g.id===p.id?{...g,isPaid:!0}:g)),className:"bg-white text-slate-950 px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-emerald-400 transition-all",children:"Salda"})]})]},p.id))})]}):x.jsx("div",{className:"h-full flex items-center justify-center border-4 border-dashed border-white/5 rounded-[4rem] opacity-30 text-slate-400 italic",children:x.jsx("p",{className:"uppercase tracking-[0.3em] font-black",children:"Seleziona un membro della squadra"})})})]})]})},xA=({currentUser:i,bets:t,setBets:l,friends:a,setTransactions:r,transactions:d})=>{const[p,g]=he.useState(!1),[y,h]=he.useState({participants:[],spiciness:1}),v=(S,_)=>{const C=[S.proposer,...S.participants].filter(N=>N!==_);if(S.monetaryValue){const N=S.monetaryValue/C.length,w=C.map(M=>({id:`b-${S.id}-${M}`,ownerId:i.id,from:M,to:_,amount:N,reason:`Scommessa: ${S.description}`,date:new Date().toLocaleDateString(),isPaid:!1}));r([...d,...w])}l(t.map(N=>N.id===S.id?{...N,status:"won",winner:_}:N))};return x.jsxs("div",{className:"space-y-12 animate-in slide-in-from-left-8 duration-500",children:[x.jsxs("header",{className:"flex justify-between items-center",children:[x.jsxs("h2",{className:"text-5xl font-black uppercase italic tracking-tighter",children:["Sfide ",x.jsx("span",{className:"text-emerald-500",children:"Pazzoidi"})]}),x.jsx("button",{onClick:()=>g(!0),className:"px-10 py-5 bg-emerald-500 text-slate-950 rounded-3xl font-black uppercase text-xs tracking-widest hover:scale-105 transition-all shadow-2xl shadow-emerald-500/20",children:"Nuova Scommessa"})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.map(S=>x.jsxs("div",{className:`bg-white/5 border p-12 rounded-[4rem] relative overflow-hidden transition-all ${S.status==="won"?"border-emerald-500/30":"border-white/5"}`,children:[x.jsxs("div",{className:"flex justify-between items-start mb-10",children:[x.jsx("div",{className:"flex space-x-1",children:[...Array(S.spiciness)].map((_,C)=>x.jsx("i",{className:"fas fa-pepper-hot text-red-500 text-xs"},C))}),x.jsxs("span",{className:"text-3xl font-black text-emerald-400",children:["",S.monetaryValue||0]})]}),x.jsx("h4",{className:"text-2xl font-black italic uppercase tracking-tighter mb-8 leading-tight",children:S.description}),x.jsxs("div",{className:"bg-slate-950/40 p-6 rounded-[2rem] border border-white/5 flex justify-between items-center mb-8 text-[10px] font-black uppercase tracking-widest",children:[x.jsxs("div",{className:"text-center flex-1 border-r border-white/5",children:[x.jsx("p",{className:"text-slate-500 mb-1",children:"Promoter"}),x.jsx("p",{children:S.proposer})]}),x.jsxs("div",{className:"text-center flex-1",children:[x.jsx("p",{className:"text-slate-500 mb-1",children:"Premio"}),x.jsx("p",{className:"text-emerald-400",children:S.stake})]})]}),S.status==="open"?x.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:[S.proposer,...S.participants].map(_=>x.jsxs("button",{onClick:()=>v(S,_),className:"px-4 py-2 bg-white/5 hover:bg-emerald-500 hover:text-slate-950 rounded-xl text-[9px] font-black uppercase transition-all",children:["Winner: ",_]},_))}):x.jsxs("div",{className:"text-center py-4 bg-slate-950/50 rounded-3xl border border-white/5",children:[x.jsx("p",{className:"text-[9px] font-black uppercase text-slate-500 mb-1 tracking-widest",children:"Vincitore Supremo"}),x.jsx("p",{className:"text-xl font-black uppercase text-emerald-400 italic",children:S.winner})]})]},S.id))}),p&&x.jsx("div",{className:"fixed inset-0 bg-slate-950/90 backdrop-blur-2xl z-50 flex items-center justify-center p-6",children:x.jsxs("div",{className:"bg-[#0c1220] border border-white/10 w-full max-w-xl p-16 rounded-[4rem] shadow-2xl relative",children:[x.jsx("button",{onClick:()=>g(!1),className:"absolute top-10 right-10 text-slate-500 hover:text-white",children:x.jsx("i",{className:"fas fa-times text-2xl"})}),x.jsx("div",{className:"text-center mb-10",children:x.jsxs("h3",{className:"text-4xl font-black uppercase italic tracking-tighter",children:["Crea ",x.jsx("span",{className:"text-emerald-500",children:"Sfida"})]})}),x.jsxs("div",{className:"space-y-6",children:[x.jsx("input",{placeholder:"Descrizione (es: Chi fa meno tunnel...)",className:"w-full bg-slate-950/50 border border-white/10 rounded-[2.5rem] px-10 py-6 font-black outline-none focus:border-emerald-500",onChange:S=>h({...y,description:S.target.value})}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("select",{className:"bg-slate-950/50 border border-white/10 rounded-3xl px-6 py-4 font-bold outline-none",onChange:S=>h({...y,proposer:S.target.value}),children:[x.jsx("option",{value:"",children:"Proponente..."}),a.map(S=>x.jsx("option",{value:S,children:S},S))]}),x.jsx("input",{type:"number",placeholder:"Valore ",className:"bg-slate-950/50 border border-white/10 rounded-3xl px-6 py-4 font-black text-emerald-400",onChange:S=>h({...y,monetaryValue:parseFloat(S.target.value)})})]})]}),x.jsx("button",{className:"w-full bg-emerald-500 text-slate-950 py-8 rounded-[3rem] font-black uppercase tracking-widest text-xs mt-10 hover:scale-105 transition-all shadow-xl",onClick:()=>{if(!y.description||!y.proposer)return;const S={id:Date.now().toString(),ownerId:i.id,description:y.description,proposer:y.proposer,participants:a.filter(_=>_!==y.proposer),stake:(y.monetaryValue||0)+"",stakeCategory:"money",monetaryValue:y.monetaryValue||0,spiciness:1,status:"open"};l([S,...t]),g(!1)},children:"Lancia Sfida"})]})})]})},TA=({rules:i,setRules:t})=>{const[l,a]=he.useState(!1),[r,d]=he.useState({variable:"arrival_time",operator:">",action:"add_fixed",actionValue:0}),p=()=>{if(!r.description||!r.value)return;const g={id:Date.now().toString(),variable:r.variable,operator:r.operator,value:r.value,action:r.action,actionValue:r.actionValue||0,description:r.description};t([...i,g]),a(!1)};return x.jsxs("div",{className:"space-y-12 animate-in fade-in duration-500",children:[x.jsxs("header",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-5xl font-black uppercase italic tracking-tighter",children:["Codice ",x.jsx("span",{className:"text-emerald-500",children:"Penale"})]}),x.jsx("p",{className:"text-slate-500 font-bold uppercase tracking-widest text-xs mt-2 italic",children:'"Le regole non si discutono, si pagano."'})]}),x.jsx("button",{onClick:()=>a(!0),className:"px-8 py-4 bg-emerald-500 text-slate-950 rounded-2xl font-black uppercase text-xs tracking-widest hover:scale-105 transition-all shadow-lg shadow-emerald-500/20",children:"Nuova Regola"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[i.map(g=>x.jsxs("div",{className:"bg-white/5 border border-white/5 p-10 rounded-[3rem] group hover:border-emerald-500/30 transition-all relative overflow-hidden flex flex-col justify-between",children:[x.jsx("button",{onClick:()=>t(i.filter(y=>y.id!==g.id)),className:"absolute top-8 right-8 text-slate-700 hover:text-red-500 transition-colors",children:x.jsx("i",{className:"fas fa-trash-alt"})}),x.jsxs("div",{children:[x.jsx("div",{className:"w-12 h-12 bg-slate-950 rounded-2xl flex items-center justify-center border border-white/10 group-hover:bg-emerald-500 group-hover:text-slate-950 transition-all mb-6 shadow-xl",children:x.jsx("i",{className:"fas fa-gavel"})}),x.jsx("h4",{className:"text-lg font-black uppercase tracking-tighter mb-4 italic leading-tight",children:g.description})]}),x.jsxs("div",{className:"space-y-3 mt-4",children:[x.jsxs("div",{className:"p-3 bg-slate-950/50 rounded-xl border border-white/5 font-mono text-[9px] text-emerald-400",children:[x.jsx("span",{className:"text-slate-600",children:"CONDIZIONE: "}),g.variable," ",g.operator," ",g.value]}),x.jsxs("div",{className:"p-3 bg-slate-950/50 rounded-xl border border-white/5 font-mono text-[9px] text-cyan-400",children:[x.jsx("span",{className:"text-slate-600",children:"AZIONE: "}),g.action.replace("_"," ")," (",g.actionValue,")"]})]})]},g.id)),x.jsxs("div",{onClick:()=>a(!0),className:"border-4 border-dashed border-white/5 rounded-[3.5rem] flex flex-col items-center justify-center p-12 opacity-30 hover:opacity-100 transition-all cursor-pointer group",children:[x.jsx("i",{className:"fas fa-plus text-3xl mb-4 group-hover:scale-125 transition-transform text-emerald-500"}),x.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Aggiungi Regola"})]})]}),l&&x.jsx("div",{className:"fixed inset-0 bg-slate-950/90 backdrop-blur-2xl z-50 flex items-center justify-center p-6",children:x.jsxs("div",{className:"bg-[#0c1220] border border-white/10 w-full max-w-xl p-12 rounded-[3.5rem] shadow-2xl relative animate-in zoom-in duration-300",children:[x.jsx("button",{onClick:()=>a(!1),className:"absolute top-8 right-8 text-slate-500 hover:text-white",children:x.jsx("i",{className:"fas fa-times text-xl"})}),x.jsxs("h3",{className:"text-3xl font-black uppercase italic tracking-tighter mb-8 text-center",children:["Nuova ",x.jsx("span",{className:"text-emerald-500",children:"Regola"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("input",{placeholder:"Descrizione (es: Tunnel subito...)",className:"w-full bg-slate-950/50 border border-white/10 rounded-2xl px-6 py-4 font-bold outline-none focus:border-emerald-500",onChange:g=>d({...r,description:g.target.value})}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("select",{className:"bg-slate-950/50 border border-white/10 rounded-2xl px-6 py-4 font-bold outline-none",onChange:g=>d({...r,variable:g.target.value}),children:[x.jsx("option",{value:"arrival_time",children:"Orario Arrivo"}),x.jsx("option",{value:"nutmegs",children:"Tunnel Subiti"}),x.jsx("option",{value:"is_mvp",children:"Uomo Partita"}),x.jsx("option",{value:"forgot_kit",children:"Kit Dimenticato"}),x.jsx("option",{value:"yellow_cards",children:"Gialli"}),x.jsx("option",{value:"own_goals",children:"Autogol"})]}),x.jsx("input",{placeholder:"Valore soglia (es: 20:00 o 2)",className:"bg-slate-950/50 border border-white/10 rounded-2xl px-6 py-4 font-bold outline-none",onChange:g=>d({...r,value:g.target.value})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("select",{className:"bg-slate-950/50 border border-white/10 rounded-2xl px-6 py-4 font-bold outline-none",onChange:g=>d({...r,action:g.target.value}),children:[x.jsx("option",{value:"add_fixed",children:"Aggiungi Importo Fisso"}),x.jsx("option",{value:"multiply_quota",children:"Moltiplica Quota (es: 2x)"}),x.jsx("option",{value:"percent_total",children:"% del Totale Campo"})]}),x.jsx("input",{type:"number",placeholder:"Valore azione ( o moltiplicatore)",className:"bg-slate-950/50 border border-white/10 rounded-2xl px-6 py-4 font-bold outline-none text-emerald-400",onChange:g=>d({...r,actionValue:parseFloat(g.target.value)})})]})]}),x.jsx("button",{onClick:p,className:"w-full bg-emerald-500 text-slate-950 py-6 rounded-[2rem] font-black uppercase tracking-widest text-xs mt-10 hover:scale-105 transition-all",children:"Salva nel Codice"})]})})]})},SA=({friends:i,currentUser:t,groups:l,onAddGroup:a,onRenameGroup:r,onDeleteGroup:d,onAddMemberToGroup:p,onJoinGroup:g})=>{const[y,h]=he.useState(!1),[v,S]=he.useState(""),[_,C]=he.useState(""),[N,w]=he.useState(null),[M,P]=he.useState({}),H=()=>{N?(r(N,v),w(null)):a(v,_),h(!1),S(""),C("")},F=W=>{const ne=M[W];ne&&(p(W,ne.replace("@","")),P(q=>({...q,[W]:""})))};return x.jsxs("div",{className:"space-y-12 animate-in fade-in duration-500",children:[x.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-5xl font-black uppercase italic tracking-tighter",children:["I Tuoi ",x.jsx("span",{className:"text-emerald-500",children:"Gruppi"})]}),x.jsx("p",{className:"text-slate-500 font-bold uppercase tracking-widest text-[10px] mt-2 italic",children:"Solo i membri possono vedere match e dettagli interni."})]}),x.jsx("button",{onClick:()=>{w(null),S(""),C(""),h(!0)},className:"bg-emerald-500 text-slate-950 px-8 py-4 rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-emerald-500/20 hover:scale-105 transition-all",children:"Nuovo Gruppo"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.map(W=>{const ne=W.ownerId===(t==null?void 0:t.id),q=t?W.members.includes(t.nickname):!1,Y=t?W.pendingInvites.includes(t.nickname):!1;return x.jsxs("div",{className:`bg-[#0c1220] border p-8 rounded-[3rem] relative group/card hover:border-emerald-500/30 transition-all flex flex-col justify-between h-full shadow-lg ${q?"border-white/10":"border-cyan-500/30 bg-cyan-500/5"}`,children:[x.jsxs("div",{children:[ne&&x.jsxs("div",{className:"absolute top-6 right-6 flex space-x-4 z-10",children:[x.jsx("button",{onClick:j=>{j.stopPropagation(),w(W.id),S(W.name),C(W.description),h(!0)},className:"text-slate-500 hover:text-emerald-400 transition-colors",children:x.jsx("i",{className:"fas fa-edit"})}),x.jsx("button",{onClick:j=>{j.stopPropagation(),window.confirm("Sei sicuro di voler eliminare questo gruppo definitivamente? Verranno rimossi anche tutti i match associati.")&&d(W.id)},className:"text-slate-500 hover:text-red-500 transition-colors",children:x.jsx("i",{className:"fas fa-trash"})})]}),x.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[x.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-3xl flex items-center justify-center text-emerald-400 text-2xl font-black italic shadow-inner",children:W.name[0].toUpperCase()}),x.jsxs("div",{children:[x.jsx("h4",{className:"text-2xl font-black uppercase italic tracking-tighter",children:W.name}),x.jsxs("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:[W.members.length," Membri"]})]})]}),x.jsx("p",{className:"text-slate-400 text-sm font-medium italic mb-6 line-clamp-2",children:W.description}),q?x.jsxs("div",{className:"space-y-4 mb-8",children:[x.jsx("h5",{className:"text-[8px] font-black uppercase tracking-widest text-slate-600",children:"Invita Membro"}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("input",{placeholder:"@nick...",className:"flex-1 bg-slate-950/50 border border-white/5 rounded-xl px-4 py-2 text-[10px] outline-none focus:border-emerald-500 text-white font-bold",value:M[W.id]||"",onChange:j=>P(Z=>({...Z,[W.id]:j.target.value}))}),x.jsx("button",{onClick:()=>F(W.id),className:"bg-white/5 text-emerald-500 w-8 h-8 rounded-xl hover:bg-emerald-500 hover:text-slate-950 transition-all flex items-center justify-center",children:x.jsx("i",{className:"fas fa-paper-plane"})})]})]}):Y?x.jsxs("div",{className:"bg-cyan-500/10 border border-cyan-500/20 p-6 rounded-2xl mb-8 text-center animate-pulse-subtle",children:[x.jsx("p",{className:"text-[10px] font-black uppercase text-cyan-400 mb-4 italic",children:"Sei stato invitato!"}),x.jsx("button",{onClick:()=>g&&g(W.id),className:"bg-cyan-500 text-slate-900 px-6 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest shadow-lg shadow-cyan-500/20",children:"Unisciti Ora"})]}):null]}),x.jsxs("div",{className:"mt-auto pt-6 border-t border-white/5 flex flex-col space-y-4",children:[x.jsx("div",{className:"flex -space-x-3 overflow-hidden",children:W.members.map((j,Z)=>x.jsx("div",{className:"inline-block h-8 w-8 rounded-full ring-2 ring-[#070b14] bg-slate-800 flex items-center justify-center text-[8px] font-black uppercase text-white shadow-xl",title:j,children:j[0]},Z))}),W.pendingInvites.length>0&&q&&x.jsxs("p",{className:"text-[8px] font-black text-slate-600 uppercase italic",children:["Pendenti: ",W.pendingInvites.join(", ")]})]})]},W.id)}),l.length===0&&x.jsx("div",{className:"col-span-full border-2 border-dashed border-white/5 rounded-[3.5rem] p-16 text-center opacity-30",children:x.jsx("p",{className:"font-black uppercase tracking-[0.3em] text-slate-500",children:"Nessun gruppo visibile."})})]}),y&&x.jsx("div",{className:"fixed inset-0 bg-slate-950/90 backdrop-blur-2xl z-50 flex items-center justify-center p-6",children:x.jsxs("div",{className:"bg-[#0c1220] border border-white/10 w-full max-w-lg p-12 rounded-[3.5rem] shadow-2xl relative animate-in zoom-in duration-300",children:[x.jsx("button",{onClick:()=>{h(!1),w(null)},className:"absolute top-8 right-8 text-slate-500 hover:text-white",children:x.jsx("i",{className:"fas fa-times text-xl"})}),x.jsxs("h3",{className:"text-3xl font-black uppercase italic tracking-tighter mb-8 text-center",children:[N?"Modifica":"Nuovo"," ",x.jsx("span",{className:"text-emerald-500",children:"Gruppo"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("input",{placeholder:"Nome Gruppo (es: Calcetto Luned)",className:"w-full bg-slate-950/50 border border-white/10 rounded-2xl px-6 py-4 font-bold outline-none focus:border-emerald-500 text-white",value:v,onChange:W=>S(W.target.value)}),x.jsx("textarea",{placeholder:"Descrizione del gruppo...",className:"w-full bg-slate-950/50 border border-white/10 rounded-2xl px-6 py-4 font-bold outline-none focus:border-emerald-500 min-h-[120px] text-white",value:_,onChange:W=>C(W.target.value)})]}),x.jsx("button",{onClick:H,className:"w-full bg-emerald-500 text-slate-950 py-6 rounded-[2rem] font-black uppercase tracking-widest text-xs mt-10 hover:scale-105 transition-all",children:N?"Aggiorna Gruppo":"Crea la Squadra"})]})})]})},_A=({transactions:i,setTransactions:t,friends:l})=>{const a=i.filter(d=>d.to==="FUND"),r=a.filter(d=>!d.isPaid).reduce((d,p)=>d+p.amount,0);return x.jsxs("div",{className:"space-y-12 animate-in fade-in duration-500",children:[x.jsxs("header",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-5xl font-black uppercase italic tracking-tighter",children:["Fondo ",x.jsx("span",{className:"text-emerald-500",children:"Cassa"})]}),x.jsx("p",{className:"text-slate-500 font-medium",children:"Il tesoro del gruppo per cene, palloni e gloria."})]}),x.jsxs("div",{className:"bg-emerald-500 text-slate-950 px-10 py-6 rounded-3xl shadow-xl shadow-emerald-500/20",children:[x.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest mb-1",children:"Saldo Attuale"}),x.jsxs("p",{className:"text-4xl font-black",children:["",r.toFixed(2)]})]})]}),x.jsxs("div",{className:"bg-white/5 border border-white/5 p-12 rounded-[4rem]",children:[x.jsx("h3",{className:"text-2xl font-black uppercase italic mb-10 border-b border-white/5 pb-6",children:"Ultimi Contributi"}),x.jsx("div",{className:"space-y-4",children:a.length===0?x.jsx("p",{className:"text-slate-600 italic font-medium",children:"Nessun contributo al momento. Inizia a multare!"}):a.map(d=>x.jsxs("div",{className:"flex justify-between items-center p-8 bg-slate-950/50 border border-white/5 rounded-[2.5rem]",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-lg font-bold",children:d.reason}),x.jsxs("p",{className:"text-xs text-slate-500 font-bold uppercase mt-1 tracking-widest",children:["Da: ",d.from,"  ",d.date]})]}),x.jsxs("div",{className:"flex items-center space-x-10",children:[x.jsxs("span",{className:"text-2xl font-black text-emerald-400",children:["",d.amount.toFixed(2)]}),!d.isPaid&&x.jsx("button",{onClick:()=>t(i.map(p=>p.id===d.id?{...p,isPaid:!0}:p)),className:"bg-white text-slate-950 px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-emerald-400 transition-all",children:"Saldato"})]})]},d.id))})]})]})},EA=["Portiere","Difensore","Centrocampista","Attaccante","Universale"],CA=({profile:i,setProfile:t,stats:l})=>{var _;const a=he.useRef(null),r=C=>{const N=i.preferredRoles.includes(C)?i.preferredRoles.filter(w=>w!==C):[...i.preferredRoles,C];t(w=>({...w,preferredRoles:N}))},d=l?Math.max(30,Math.min(99,l.reliabilityScore)):50,p=l?Math.max(30,Math.min(99,40+l.mvpCount*10)):50,g=l?Math.max(30,Math.min(99,100-l.weightedFineAverage*10)):50,y=l?Math.max(30,Math.min(99,40+l.appearances*2)):50,h=l?Math.max(30,Math.min(99,99-l.bidoneCount*15)):50,v=85,S=Math.round((d+p+g+y+h+v)/6);return x.jsx("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-10 duration-700 max-w-6xl mx-auto",children:x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[x.jsxs("div",{className:"lg:col-span-4 flex flex-col items-center",children:[x.jsxs("div",{className:"relative w-80 h-[480px] bg-gradient-to-b from-[#f0d87e] via-[#c0a040] to-[#806020] rounded-[2rem] p-1 shadow-2xl overflow-hidden group border border-yellow-400/50",children:[x.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20"}),x.jsxs("div",{className:"relative h-full bg-[#1a1a1a] rounded-[1.8rem] flex flex-col items-center py-8 px-6 text-white border border-yellow-500/30",children:[x.jsxs("div",{className:"absolute top-10 left-8 text-center",children:[x.jsx("p",{className:"text-5xl font-black italic leading-none",children:S}),x.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-yellow-500",children:((_=i.preferredRoles[0])==null?void 0:_.slice(0,3).toUpperCase())||"PRO"})]}),x.jsx("div",{className:"w-44 h-44 mt-4 bg-slate-800 rounded-full border-4 border-yellow-500/50 overflow-hidden shadow-2xl",children:i.avatar?x.jsx("img",{src:i.avatar,className:"w-full h-full object-cover"}):x.jsx("div",{className:"w-full h-full flex items-center justify-center text-6xl font-black text-yellow-500 bg-slate-900",children:i.name[0]})}),x.jsx("h3",{className:"mt-6 text-2xl font-black italic uppercase tracking-tighter text-yellow-500",children:i.name.split(" ")[0]}),x.jsx("div",{className:"w-full h-[2px] bg-yellow-500/30 my-6"}),x.jsxs("div",{className:"grid grid-cols-2 w-full gap-x-8 gap-y-3 font-mono",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-[10px] text-slate-500",children:"PAC"}),x.jsx("span",{className:"font-black",children:d})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-[10px] text-slate-500",children:"DRI"}),x.jsx("span",{className:"font-black",children:y})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-[10px] text-slate-500",children:"SHO"}),x.jsx("span",{className:"font-black",children:p})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-[10px] text-slate-500",children:"DEF"}),x.jsx("span",{className:"font-black",children:h})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-[10px] text-slate-500",children:"PAS"}),x.jsx("span",{className:"font-black",children:g})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-[10px] text-slate-500",children:"PHY"}),x.jsx("span",{className:"font-black",children:v})]})]}),x.jsxs("div",{className:"mt-auto w-full flex justify-center space-x-2",children:[x.jsx("span",{className:"bg-yellow-500/20 text-yellow-500 text-[8px] font-black px-2 py-1 rounded border border-yellow-500/20",children:"ELITE PLAYER"}),x.jsx("span",{className:"bg-emerald-500/20 text-emerald-500 text-[8px] font-black px-2 py-1 rounded border border-emerald-500/20",children:"LOYALTY 100"})]})]})]}),x.jsx("button",{onClick:()=>{var C;return(C=a.current)==null?void 0:C.click()},className:"mt-6 text-[10px] font-black uppercase text-slate-500 hover:text-emerald-500 transition-colors",children:"Cambia Foto Card"}),x.jsx("input",{type:"file",ref:a,className:"hidden",accept:"image/*",onChange:C=>{var w;const N=(w=C.target.files)==null?void 0:w[0];if(N){const M=new FileReader;M.onloadend=()=>t(P=>({...P,avatar:M.result})),M.readAsDataURL(N)}}})]}),x.jsxs("div",{className:"lg:col-span-8 space-y-10",children:[x.jsxs("section",{className:"bg-white/5 border border-white/10 rounded-[3.5rem] p-10 relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-10 right-10",children:x.jsx("span",{className:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 px-6 py-2 rounded-full text-xs font-black italic uppercase tracking-widest",children:(l==null?void 0:l.title)||"Recluta"})}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("h2",{className:"text-5xl font-black italic uppercase tracking-tighter",children:i.name}),x.jsxs("p",{className:"text-emerald-400 font-black italic text-xl",children:["@",i.nickname," ",x.jsxs("span",{className:"text-slate-600 font-mono text-sm ml-4",children:["#",i.idCode]})]})]}),x.jsx("textarea",{value:i.bio,onChange:C=>t(N=>({...N,bio:C.target.value})),className:"w-full mt-8 bg-slate-950/30 border border-white/5 rounded-2xl p-6 text-slate-400 font-medium italic focus:border-emerald-500 outline-none min-h-[100px]",placeholder:"Inserisci un motto..."})]}),x.jsxs("section",{className:"grid md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-[3.5rem] p-10",children:[x.jsx("h3",{className:"text-sm font-black uppercase text-slate-500 tracking-widest mb-8",children:"Achievements & Badges"}),x.jsxs("div",{className:"flex flex-wrap gap-4",children:[x.jsxs("div",{className:"w-16 h-16 bg-yellow-500/10 border border-yellow-500/20 rounded-2xl flex items-center justify-center text-yellow-500 relative group",children:[x.jsx("i",{className:"fas fa-medal text-2xl"}),x.jsx("span",{className:"absolute -top-10 left-1/2 -translate-x-1/2 bg-slate-900 text-[8px] p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Socio Onorario Pizzeria"})]}),x.jsxs("div",{className:"w-16 h-16 bg-cyan-500/10 border border-cyan-500/20 rounded-2xl flex items-center justify-center text-cyan-500 relative group",children:[x.jsx("i",{className:"fas fa-clock text-2xl"}),x.jsx("span",{className:"absolute -top-10 left-1/2 -translate-x-1/2 bg-slate-900 text-[8px] p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Puntuale come un orologio"})]}),x.jsx("div",{className:"w-16 h-16 bg-slate-800 border border-white/5 rounded-2xl flex items-center justify-center text-slate-600",children:x.jsx("i",{className:"fas fa-lock text-xl"})})]})]}),x.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-[3.5rem] p-10",children:[x.jsx("h3",{className:"text-sm font-black uppercase text-slate-500 tracking-widest mb-8",children:"Voti della Lega"}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"p-4 bg-emerald-500/10 rounded-2xl text-center border border-emerald-500/20",children:[x.jsx("p",{className:"text-[8px] font-black uppercase text-emerald-500 mb-1",children:"MVP TOT."}),x.jsx("p",{className:"text-3xl font-black italic",children:(l==null?void 0:l.mvpCount)||0})]}),x.jsxs("div",{className:"p-4 bg-red-500/10 rounded-2xl text-center border border-red-500/20",children:[x.jsx("p",{className:"text-[8px] font-black uppercase text-red-500 mb-1",children:"LVP TOT."}),x.jsx("p",{className:"text-3xl font-black italic",children:(l==null?void 0:l.lvpCount)||0})]})]})]})]}),x.jsxs("section",{className:"bg-white/5 border border-white/10 rounded-[3.5rem] p-10",children:[x.jsx("h3",{className:"text-sm font-black uppercase text-slate-500 tracking-widest mb-8",children:"Ruoli Preferiti"}),x.jsx("div",{className:"flex flex-wrap gap-3",children:EA.map(C=>x.jsx("button",{onClick:()=>r(C),className:`px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border ${i.preferredRoles.includes(C)?"bg-emerald-500 text-slate-950 border-emerald-500 shadow-xl shadow-emerald-500/20":"bg-white/5 text-slate-500 border-white/5 hover:border-white/20"}`,children:C},C))})]})]})]})})},AA=({onNavigate:i})=>x.jsxs("div",{className:"min-h-screen bg-[#070b14] flex flex-col items-center justify-center p-6 text-center overflow-hidden",children:[x.jsxs("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none opacity-20",children:[x.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-emerald-500 rounded-full blur-[150px]"}),x.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-cyan-500 rounded-full blur-[150px]"})]}),x.jsxs("div",{className:"relative z-10 max-w-4xl space-y-10 animate-in fade-in zoom-in duration-1000",children:[x.jsx("div",{className:"inline-block px-4 py-1.5 bg-emerald-500/10 border border-emerald-500/20 rounded-full text-emerald-400 text-[10px] font-black uppercase tracking-[0.3em] mb-6",children:"The Ultimate Locker Room Manager"}),x.jsxs("h1",{className:"text-7xl md:text-9xl font-black italic uppercase tracking-tighter leading-none",children:["Penalty",x.jsx("span",{className:"text-emerald-500",children:"Hub"})]}),x.jsx("p",{className:"text-xl md:text-2xl text-slate-400 font-medium max-w-2xl mx-auto italic leading-relaxed",children:"Gestisci multe, scommesse e debiti del tuo gruppo con precisione chirurgica. Smetti di rincorrere i debitori, lascia che lo faccia la nostra AI."}),x.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-6 pt-10",children:[x.jsx("button",{onClick:()=>i("auth_signup"),className:"w-full md:w-auto px-12 py-6 bg-emerald-500 text-slate-900 rounded-[2rem] font-black uppercase text-xs tracking-widest hover:scale-105 transition-all shadow-2xl shadow-emerald-500/20",children:"Crea Profilo Pro"}),x.jsx("button",{onClick:()=>i("auth_login"),className:"w-full md:w-auto px-12 py-6 glass text-white rounded-[2rem] font-black uppercase text-xs tracking-widest hover:bg-white/10 transition-all border border-white/10",children:"Accedi Pro"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 pt-24 border-t border-white/5",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx("i",{className:"fas fa-gavel text-3xl text-emerald-500"}),x.jsx("h3",{className:"font-black uppercase tracking-widest text-xs",children:"Codice Penale"}),x.jsx("p",{className:"text-[10px] text-slate-500 leading-loose",children:"Applica sanzioni istantanee per ritardi, kit dimenticati o tunnel subiti."})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("i",{className:"fas fa-wallet text-3xl text-cyan-500"}),x.jsx("h3",{className:"font-black uppercase tracking-widest text-xs",children:"P2P Ledger"}),x.jsx("p",{className:"text-[10px] text-slate-500 leading-loose",children:"Traccia ogni centesimo. Bilanci trasparenti tra amici per cene e partite."})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("i",{className:"fas fa-ghost text-3xl text-emerald-500"}),x.jsx("h3",{className:"font-black uppercase tracking-widest text-xs",children:"AI Roasting"}),x.jsx("p",{className:"text-[10px] text-slate-500 leading-loose",children:"L'intelligenza artificiale analizza il match e sbeffeggia i debitori cronici."})]})]})]})]}),NA=({onAuthSuccess:i})=>{const[t,l]=he.useState("register"),[a,r]=he.useState(!1),[d,p]=he.useState(null),[g,y]=he.useState(""),[h,v]=he.useState(""),[S,_]=he.useState(""),[C,N]=he.useState(""),[w,M]=he.useState(""),[P,H]=he.useState(""),[F,W]=he.useState(""),[ne,q]=he.useState(""),Y=window.location.hostname==="localhost"?"http://localhost:8000":"",j=()=>Math.floor(1e3+Math.random()*9e3).toString(),Z=B=>!B||B.trim().length===0?(p("Il nickname non pu essere vuoto"),!1):B.length<3?(p("Il nickname deve essere almeno 3 caratteri"),!1):B.length>20?(p("Il nickname non pu superare 20 caratteri"),!1):/^[a-zA-Z0-9_]+$/.test(B)?!0:(p("Il nickname pu contenere solo lettere, numeri e underscore"),!1),ie=B=>!B||B.trim().length===0||/^\d{4}$/.test(B)?!0:(p("Il codice deve essere esattamente 4 cifre"),!1),fe=async B=>{if(B.preventDefault(),p(null),r(!0),!g||!h){p("Compila tutti i campi"),r(!1);return}try{const re=await fetch(`${Y}/auth/login/email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:g,password:h})});if(!re.ok){const $=await re.json();throw new Error($.detail||"Login fallito")}const k=await re.json();i(k)}catch(re){p(re.message||"Errore di connessione")}finally{r(!1)}},oe=async B=>{if(B.preventDefault(),p(null),r(!0),!S||!C){p("Compila nickname e codice"),r(!1);return}if(!ie(C)){r(!1);return}try{const re=await fetch(`${Y}/auth/login/nickname`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nickname:S,tag:C})});if(!re.ok){const $=await re.json();throw new Error($.detail||"Nickname/Tag non trovati")}const k=await re.json();i(k)}catch(re){p(re.message||"Errore di connessione")}finally{r(!1)}},pe=async B=>{if(B.preventDefault(),p(null),r(!0),!w||!P||!F){p("Compila tutti i campi obbligatori"),r(!1);return}if(!Z(F)){r(!1);return}if(P.length<6){p("La password deve essere almeno 6 caratteri"),r(!1);return}const re=ne.trim()||j();if(!ie(re)){r(!1);return}try{const k=await fetch(`${Y}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:w,password:P,nickname:F,tag:re})});if(!k.ok){const ue=await k.json();throw new Error(ue.detail||"Registrazione fallita")}const $=await k.json();i($)}catch(k){if(k.message.includes("fetch")){console.warn("Backend non disponibile, simulazione registrazione...");const $={uid:"mock_"+Date.now(),email:w,nickname:F,tag:re};i($)}else p(k.message||"Errore di connessione")}finally{r(!1)}};return x.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-xl border border-slate-700 rounded-2xl p-8 max-w-md w-full space-y-6",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("h1",{className:"text-3xl font-black text-emerald-400 mb-2",children:"PenaltyHub"}),x.jsx("p",{className:"text-slate-400 text-sm",children:"Locker Room Elite"})]}),x.jsxs("div",{className:"flex gap-2 bg-slate-800/50 rounded-lg p-1",children:[x.jsx("button",{onClick:()=>{l("login-email"),p(null)},className:`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition ${t==="login-email"?"bg-emerald-500 text-white":"text-slate-400 hover:text-white"}`,children:"Email"}),x.jsx("button",{onClick:()=>{l("login-nickname"),p(null)},className:`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition ${t==="login-nickname"?"bg-emerald-500 text-white":"text-slate-400 hover:text-white"}`,children:"Nickname"}),x.jsx("button",{onClick:()=>{l("register"),p(null)},className:`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition ${t==="register"?"bg-emerald-500 text-white":"text-slate-400 hover:text-white"}`,children:"Registrati"})]}),d&&x.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 text-red-400 px-4 py-3 rounded-lg text-sm",children:[x.jsx("i",{className:"fas fa-exclamation-circle mr-2"}),d]}),t==="login-email"&&x.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),x.jsx("input",{type:"email",value:g,onChange:B=>y(B.target.value),required:!0,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg focus:outline-none focus:border-emerald-500 text-white",placeholder:"tua@email.com"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Password"}),x.jsx("input",{type:"password",value:h,onChange:B=>v(B.target.value),required:!0,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg focus:outline-none focus:border-emerald-500 text-white",placeholder:""})]}),x.jsx("button",{type:"submit",disabled:a,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 rounded-lg transition disabled:opacity-50",children:a?"Accesso...":"Accedi"})]}),t==="login-nickname"&&x.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Nickname"}),x.jsx("input",{type:"text",value:S,onChange:B=>_(B.target.value),required:!0,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg focus:outline-none focus:border-emerald-500 text-white",placeholder:"IlTuoNickname"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Codice #"}),x.jsx("input",{type:"text",value:C,onChange:B=>N(B.target.value.replace(/\D/g,"").slice(0,4)),required:!0,maxLength:4,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg focus:outline-none focus:border-emerald-500 text-white",placeholder:"1234"})]}),x.jsx("button",{type:"submit",disabled:a,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 rounded-lg transition disabled:opacity-50",children:a?"Accesso...":"Accedi"})]}),t==="register"&&x.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email *"}),x.jsx("input",{type:"email",value:w,onChange:B=>M(B.target.value),required:!0,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg focus:outline-none focus:border-emerald-500 text-white",placeholder:"tua@email.com"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Password * (min 6 caratteri)"}),x.jsx("input",{type:"password",value:P,onChange:B=>H(B.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg focus:outline-none focus:border-emerald-500 text-white",placeholder:""})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Nickname * (3-20 caratteri)"}),x.jsx("input",{type:"text",value:F,onChange:B=>W(B.target.value),required:!0,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg focus:outline-none focus:border-emerald-500 text-white",placeholder:"IlTuoNickname"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Codice # (opzionale, 4 cifre)"}),x.jsx("input",{type:"text",value:ne,onChange:B=>q(B.target.value.replace(/\D/g,"").slice(0,4)),maxLength:4,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg focus:outline-none focus:border-emerald-500 text-white",placeholder:"1234 (lascia vuoto per generarlo)"}),x.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Se vuoto, verr generato automaticamente"})]}),x.jsx("button",{type:"submit",disabled:a,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 rounded-lg transition disabled:opacity-50",children:a?"Registrazione...":"Inizia la Carriera"})]})]})})},bA=({notifications:i,setNotifications:t,currentUser:l,onAcceptRequest:a,onRejectRequest:r,onCancelRequest:d,onRemoveFriend:p,onSendRequest:g,onJoinGroup:y})=>{var M,P;const[h,v]=he.useState(""),[S,_]=he.useState([]),[C,N]=he.useState([]);he.useEffect(()=>{if(i.some(H=>!H.read)&&t(H=>H.map(F=>({...F,read:!0}))),l){const H=`penaltyhub_data_${l.id}`,F=JSON.parse(localStorage.getItem(H)||"{}");_(F.friendRequests||[]),N(F.sentRequests||[])}},[l==null?void 0:l.id,i.length,(M=l==null?void 0:l.friendRequests)==null?void 0:M.length,(P=l==null?void 0:l.sentRequests)==null?void 0:P.length]);const w=()=>{if(t([]),l){const H=`penaltyhub_data_${l.id}`,F=JSON.parse(localStorage.getItem(H)||"{}");F.notifications=[],localStorage.setItem(H,JSON.stringify(F))}};return x.jsxs("div",{className:"space-y-12 animate-in fade-in duration-500",children:[x.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-5xl font-black uppercase italic tracking-tighter",children:["Social & ",x.jsx("span",{className:"text-emerald-500",children:"Alerts"})]}),x.jsxs("p",{className:"text-slate-500 font-medium italic",children:["Area privata di @",l==null?void 0:l.nickname,"."]})]}),x.jsxs("div",{className:"flex space-x-3 w-full md:w-auto",children:[x.jsxs("div",{className:"flex bg-white/5 p-3 rounded-2xl border border-white/10 flex-1 md:flex-none md:w-80",children:[x.jsx("input",{placeholder:"Cerca Nickname o #Codice...",value:h,onChange:H=>v(H.target.value),className:"bg-transparent px-3 py-1 text-xs font-bold outline-none italic placeholder:text-slate-700 w-full text-white"}),x.jsx("button",{onClick:()=>{g(h),v("")},className:"ml-2 bg-emerald-500 text-slate-950 px-4 py-1.5 rounded-xl text-xs font-black uppercase shadow-lg active:scale-95 transition-transform",children:"Cerca"})]}),x.jsx("button",{onClick:w,className:"text-[10px] font-black uppercase text-slate-500 hover:text-white transition-colors px-4",children:"Svuota"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[x.jsx("div",{className:"space-y-10",children:x.jsxs("section",{className:"space-y-4",children:[x.jsxs("h3",{className:"text-xs font-black uppercase tracking-[0.2em] text-slate-500 flex items-center",children:[x.jsx("i",{className:"fas fa-bell mr-3"})," Notifiche & Inviti"]}),i.length===0&&x.jsx("p",{className:"text-center py-10 text-slate-700 italic font-black uppercase text-[10px] tracking-widest",children:"Nessuna nuova notifica."}),i.map(H=>x.jsx("div",{className:`p-6 rounded-[2rem] border transition-all ${H.type==="alert"?"bg-red-500/5 border-red-500/20":H.type==="success"?"bg-emerald-500/5 border-emerald-500/20":H.type==="group_invite"?"bg-cyan-500/5 border-cyan-500/20":H.type==="friend_request"?"bg-emerald-500/5 border-emerald-500/20 shadow-[0_0_20px_rgba(16,185,129,0.05)]":H.type==="friend_request_sent"?"bg-cyan-500/5 border-cyan-500/20":"bg-white/5 border-white/5"}`,children:x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{className:"flex items-start space-x-4",children:[x.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-lg shrink-0 ${H.type==="alert"?"bg-red-500 text-slate-900":H.type==="success"?"bg-emerald-500 text-slate-900":H.type==="group_invite"?"bg-cyan-500 text-slate-900":H.type==="friend_request"?"bg-emerald-500 text-slate-900":H.type==="friend_request_sent"?"bg-cyan-500 text-slate-900":"bg-white/10 text-white"}`,children:x.jsx("i",{className:`fas ${H.type==="alert"?"fa-triangle-exclamation":H.type==="success"?"fa-check-double":H.type==="group_invite"?"fa-users-rectangle":H.type==="friend_request"?"fa-user-plus":H.type==="friend_request_sent"?"fa-paper-plane":"fa-info-circle"}`})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("h4",{className:"text-sm font-black uppercase italic tracking-tighter mb-1",children:H.title}),x.jsx("p",{className:"text-slate-400 font-medium text-[11px] leading-relaxed",children:H.message}),x.jsx("span",{className:"text-[8px] text-slate-600 font-black uppercase block mt-2",children:H.date})]})]}),x.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[H.type==="group_invite"&&H.targetId&&x.jsx("button",{onClick:()=>y(H.targetId),className:"bg-cyan-500 text-slate-900 px-6 py-2 rounded-xl text-[8px] font-black uppercase shadow-lg whitespace-nowrap",children:"Unisciti"}),H.type==="friend_request"&&H.targetId&&x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{onClick:()=>r(H.targetId),className:"px-4 py-2 border border-red-500/30 text-red-500 rounded-xl text-[8px] font-black uppercase hover:bg-red-500 hover:text-white transition-all whitespace-nowrap",children:"Rifiuta"}),x.jsx("button",{onClick:()=>a(H.targetId),className:"bg-emerald-500 text-slate-900 px-4 py-2 rounded-xl text-[8px] font-black uppercase shadow-lg whitespace-nowrap",children:"Accetta"})]}),H.type==="friend_request_sent"&&H.targetId&&x.jsx("button",{onClick:()=>d(H.targetId),className:"px-4 py-2 border border-slate-700 text-slate-500 rounded-xl text-[8px] font-black uppercase hover:border-red-500 hover:text-red-500 transition-all whitespace-nowrap",children:"Annulla"})]})]})},H.id))]})}),x.jsxs("div",{className:"space-y-10",children:[(S.length>0||C.length>0)&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("h3",{className:"text-xs font-black uppercase tracking-[0.2em] text-slate-500 flex items-center",children:[x.jsx("i",{className:"fas fa-history mr-3"})," Stato Amicizie"]}),x.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-[3rem] p-8 space-y-6",children:[S.map(H=>x.jsxs("div",{className:"flex justify-between items-center border-b border-white/5 pb-4 last:border-0 last:pb-0",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/20 text-emerald-400 flex items-center justify-center font-black text-[10px] uppercase",children:"R"}),x.jsxs("span",{className:"text-xs font-black uppercase italic",children:["@",H.fromNickname]})]}),x.jsx("span",{className:"text-[8px] font-black uppercase text-emerald-500 italic",children:"Ti ha invitato"})]},H.id)),C.map(H=>x.jsxs("div",{className:"flex justify-between items-center border-b border-white/5 pb-4 last:border-0 last:pb-0",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"w-8 h-8 rounded-lg bg-cyan-500/20 text-cyan-400 flex items-center justify-center font-black text-[10px] uppercase",children:"S"}),x.jsxs("span",{className:"text-xs font-black uppercase italic",children:["@",H.toNickname]})]}),x.jsx("span",{className:"text-[8px] font-black uppercase text-cyan-400 italic",children:"In attesa..."})]},H.id))]})]}),x.jsxs("h3",{className:"text-xs font-black uppercase tracking-[0.2em] text-slate-500 flex items-center",children:[x.jsx("i",{className:"fas fa-users mr-3"})," Amici (",(l==null?void 0:l.friends.length)||0,")"]}),x.jsx("div",{className:"bg-white/5 border border-white/5 rounded-[3rem] p-8 min-h-[300px]",children:(l==null?void 0:l.friends.length)===0?x.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-20 py-20",children:[x.jsx("i",{className:"fas fa-user-friends text-4xl mb-4"}),x.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Aggiungi qualcuno!"})]}):x.jsx("div",{className:"grid grid-cols-1 gap-3",children:l==null?void 0:l.friends.map(H=>x.jsx("div",{className:"bg-slate-950/50 p-4 rounded-2xl border border-white/5 flex justify-between items-center group",children:x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-800 flex items-center justify-center font-black text-emerald-400",children:H[0].toUpperCase()}),x.jsxs("span",{className:"font-black italic uppercase text-xs",children:["@",H]})]})},H))})})]})]})]})},pu=[{id:"1",variable:"arrival_time",operator:">",value:"20:00",action:"add_fixed",actionValue:1,description:"+1/min ritardo"},{id:"2",variable:"forgot_kit",operator:"==",value:"true",action:"add_fixed",actionValue:5,description:"Kit dimenticato"},{id:"3",variable:"yellow_cards",operator:">",value:"0",action:"add_fixed",actionValue:2,description:"Proteste arbitro"},{id:"heavy_late",variable:"ritardo_pesante",operator:">",value:"15",action:"half_field_penalty",actionValue:0,description:"Ritardo Pesante (>15m)",message:"Hai pagato mezzo campo, la prossima volta dormi l!"},{id:"paga_doppio_tunnel",variable:"nutmegs",operator:">",value:"0",action:"multiply_quota",actionValue:2,description:"Tunnel Subito: PAGA DOPPIO"}],RA=()=>{const[i,t]=he.useState("landing"),[l,a]=he.useState(null),[r,d]=he.useState([]),[p,g]=he.useState([]),[y,h]=he.useState(pu),[v,S]=he.useState([]),[_,C]=he.useState([]),[N,w]=he.useState([]),[M,P]=he.useState([]),[H,F]=he.useState([]),[W,ne]=he.useState(""),[q,Y]=he.useState(!1);he.useEffect(()=>{const L=localStorage.getItem("penaltyhub_global_groups"),J=localStorage.getItem("penaltyhub_global_events");L&&g(JSON.parse(L)),J&&d(JSON.parse(J))},[]),he.useEffect(()=>{localStorage.setItem("penaltyhub_global_groups",JSON.stringify(p)),localStorage.setItem("penaltyhub_global_events",JSON.stringify(r))},[p,r]),he.useEffect(()=>{const L=localStorage.getItem("penaltyhub_current_session");if(L){const J=JSON.parse(L),ee=JSON.parse(localStorage.getItem("penaltyhub_users")||"[]").find(se=>se.id===J.id);ee?(a(ee),t("dashboard")):localStorage.removeItem("penaltyhub_current_session")}},[]),he.useEffect(()=>{if(l){const L=`penaltyhub_data_${l.id}`,J=localStorage.getItem(L);if(J){const Q=JSON.parse(J);h(Q.rules||pu),C(Q.bets||[]),w(Q.friends||[]),P(Q.transactions||[]),F(Q.notifications||[]),(Q.friendRequests||Q.sentRequests)&&a(ee=>ee?{...ee,friendRequests:Q.friendRequests||ee.friendRequests||[],sentRequests:Q.sentRequests||ee.sentRequests||[]}:null)}}},[l==null?void 0:l.id]),he.useEffect(()=>{if(l){const L=`penaltyhub_data_${l.id}`;localStorage.setItem(L,JSON.stringify({rules:y,bets:_,friends:N,transactions:M,notifications:H,friendRequests:l.friendRequests||[],sentRequests:l.sentRequests||[]})),localStorage.setItem("penaltyhub_current_session",JSON.stringify(l));const Q=JSON.parse(localStorage.getItem("penaltyhub_users")||"[]").map(ee=>ee.id===l.id?l:ee);localStorage.setItem("penaltyhub_users",JSON.stringify(Q))}},[y,_,N,M,H,l]);const j=()=>{localStorage.removeItem("penaltyhub_current_session"),a(null),h(pu),C([]),w([]),P([]),F([]),ne(""),t("landing")},Z=(L,J,Q,ee="info",se)=>{const Ne={id:Date.now().toString(),userId:L,title:J,message:Q,type:ee,targetId:se,date:new Date().toLocaleString(),read:!1};if(l&&L===l.id)F(ce=>[Ne,...ce]);else{const ce=`penaltyhub_data_${L}`,He=JSON.parse(localStorage.getItem(ce)||"{}"),Yt=He.notifications||[];He.notifications=[Ne,...Yt],localStorage.setItem(ce,JSON.stringify(He))}},ie=L=>{if(!l)return;const J=JSON.parse(localStorage.getItem("penaltyhub_users")||"[]");let Q;const ee=L.toLowerCase().trim();if(ee.startsWith("#")?Q=J.find(se=>se.idCode.toLowerCase()===ee):Q=J.find(se=>se.nickname.toLowerCase()===ee.replace("@","")),Q){if(Q.id===l.id){Z(l.id,"Ricerca Errata","Non puoi inviare una richiesta a te stesso.","alert");return}if(l.friends.includes(Q.nickname)){Z(l.id,"Gi Amici",`${Q.nickname}  gi nella tua lista amici.`,"info");return}const se={id:Date.now().toString(),fromUserId:l.id,fromNickname:l.nickname,toUserId:Q.id,toNickname:Q.nickname,status:"pending",date:new Date().toLocaleDateString()},Ne=`penaltyhub_data_${Q.id}`,ce=JSON.parse(localStorage.getItem(Ne)||"{}"),He=ce.friendRequests||[];ce.friendRequests=[se,...He],localStorage.setItem(Ne,JSON.stringify(ce));const Yt=[se,...l.sentRequests||[]];a({...l,sentRequests:Yt}),Z(l.id,"Richiesta Inviata",`Richiesta di amicizia inviata a @${Q.nickname}.`,"friend_request_sent",se.id),Z(Q.id,"Nuova Richiesta",`@${l.nickname} vorrebbe aggiungerti agli amici.`,"friend_request",se.id)}else Z(l.id,"Utente non trovato",`Nessun utente corrisponde alla ricerca "${L}"`,"alert")},fe=L=>{if(!l)return;const J=(l.friendRequests||[]).find(Q=>Q.id===L);if(J){const Q=`penaltyhub_data_${J.fromUserId}`,ee=JSON.parse(localStorage.getItem(Q)||"{}");ee.friends=[...ee.friends||[],l.nickname],ee.sentRequests=(ee.sentRequests||[]).filter(Ye=>Ye.id!==L);const se=ee.notifications||[];ee.notifications=se.filter(Ye=>!(Ye.type==="friend_request_sent"&&Ye.targetId===L)),localStorage.setItem(Q,JSON.stringify(ee));const Ne=[...N,J.fromNickname],ce=l.friendRequests.filter(Ye=>Ye.id!==L);w(Ne),F(Ye=>Ye.filter(Yn=>!(Yn.type==="friend_request"&&Yn.targetId===L))),a({...l,friends:Ne,friendRequests:ce});const Yt=JSON.parse(localStorage.getItem("penaltyhub_users")||"[]").map(Ye=>Ye.id===J.fromUserId?{...Ye,friends:[...Ye.friends,l.nickname],sentRequests:(Ye.sentRequests||[]).filter(Yn=>Yn.id!==L)}:Ye.id===l.id?{...Ye,friends:Ne,friendRequests:ce}:Ye);localStorage.setItem("penaltyhub_users",JSON.stringify(Yt)),Z(J.fromUserId,"Richiesta Accettata",`@${l.nickname} ha accettato la tua amicizia!`,"success"),Z(l.id,"Amicizia Accettata",`Ora sei amico di @${J.fromNickname}!`,"success")}},oe=L=>{if(!l)return;const J=(l.friendRequests||[]).find(Q=>Q.id===L);if(J){const Q=l.friendRequests.filter(ce=>ce.id!==L);a({...l,friendRequests:Q}),F(ce=>ce.filter(He=>!(He.type==="friend_request"&&He.targetId===L)));const ee=`penaltyhub_data_${J.fromUserId}`,se=JSON.parse(localStorage.getItem(ee)||"{}");se.sentRequests=(se.sentRequests||[]).filter(ce=>ce.id!==L);const Ne=se.notifications||[];se.notifications=Ne.filter(ce=>!(ce.type==="friend_request_sent"&&ce.targetId===L)),localStorage.setItem(ee,JSON.stringify(se)),Z(l.id,"Richiesta Rifiutata","Hai rifiutato la richiesta di amicizia.","info")}},pe=L=>{if(!l)return;const J=(l.sentRequests||[]).find(Q=>Q.id===L);if(J){const Q=l.sentRequests.filter(ce=>ce.id!==L);a({...l,sentRequests:Q}),F(ce=>ce.filter(He=>!(He.type==="friend_request_sent"&&He.targetId===L)));const ee=`penaltyhub_data_${J.toUserId}`,se=JSON.parse(localStorage.getItem(ee)||"{}");se.friendRequests=(se.friendRequests||[]).filter(ce=>ce.id!==L);const Ne=se.notifications||[];se.notifications=Ne.filter(ce=>!(ce.type==="friend_request"&&ce.targetId===L)),localStorage.setItem(ee,JSON.stringify(se)),Z(l.id,"Richiesta Annullata","Hai annullato la richiesta inviata.","info")}},B=(L,J)=>{var Ne;if(!l)return;const Q=J.replace("@","").trim(),se=JSON.parse(localStorage.getItem("penaltyhub_users")||"[]").find(ce=>ce.nickname.toLowerCase()===Q.toLowerCase());if(!se){Z(l.id,"Errore",`Utente @${Q} non trovato.`,"alert");return}g(ce=>ce.map(He=>He.id===L?He.members.includes(Q)||He.pendingInvites.includes(Q)?He:{...He,pendingInvites:[...He.pendingInvites,Q]}:He)),Z(l.id,"Invito Inviato",`Hai invitato @${Q} nel gruppo.`,"success"),Z(se.id,"Invito Gruppo",`${l.nickname} ti ha invitato ad unirti al gruppo "${(Ne=p.find(ce=>ce.id===L))==null?void 0:Ne.name}"`,"group_invite",L)},re=L=>{l&&(g(J=>J.map(Q=>Q.id===L&&Q.pendingInvites.includes(l.nickname)?{...Q,members:[...Q.members,l.nickname],pendingInvites:Q.pendingInvites.filter(ee=>ee!==l.nickname)}:Q)),F(J=>J.filter(Q=>!(Q.type==="group_invite"&&Q.targetId===L))),Z(l.id,"Benvenuto!","Ora sei un membro ufficiale del gruppo!","success"))},k=he.useMemo(()=>l?p.filter(L=>L.members.includes(l.nickname)||L.pendingInvites.includes(l.nickname)):[],[p,l==null?void 0:l.nickname]),$=he.useMemo(()=>{if(!l)return[];const L=p.filter(J=>J.members.includes(l.nickname)).map(J=>J.id);return r.filter(J=>L.includes(J.groupId))},[r,p,l==null?void 0:l.nickname]),ue=he.useMemo(()=>new fA({apiKey:"PLACEHOLDER_API_KEY"}),[]),Ce=he.useMemo(()=>mA(N,r,M).map(L=>({...L,bidoneCount:(l==null?void 0:l.name)===L.name?l.bidoneCount:0})),[N,r,M,l]),Ie=he.useMemo(()=>({totalCirculating:M.filter(L=>!L.isPaid&&L.to!=="FUND").reduce((L,J)=>L+J.amount,0),fundBalance:M.filter(L=>L.to==="FUND"&&!L.isPaid).reduce((L,J)=>L+J.amount,0),matchCount:$.length}),[M,$]);if(i==="landing")return x.jsx(AA,{onNavigate:t});if(i==="auth_login"||i==="auth_signup")return x.jsx(NA,{mode:i==="auth_login"?"login":"signup",onAuthSuccess:L=>{a(L),t("dashboard")},onBack:()=>t("landing")});const R=l?(l.friendRequests||[]).length:0,X=H.filter(L=>!L.read).length+R;return x.jsxs("div",{className:"flex min-h-screen bg-[#070b14] text-slate-100 overflow-hidden font-inter",children:[l&&x.jsx(hA,{currentView:i,setView:t,onCreateMatch:()=>{const L=p.filter(ee=>ee.members.includes(l.nickname));if(L.length===0){Z(l.id,"Errore","Unisciti a un gruppo prima di creare match.","alert");return}const Q={id:Date.now().toString(),ownerId:l.id,groupId:L[0].id,matchName:"Match della Settimana",date:new Date().toISOString().split("T")[0],time:"20:00",location:"Campo Pro",totalCost:60,maxParticipants:10,matchType:5,participants:[],registrations:[],votes:[],confirmedResult:[],eventRules:[],disabledGlobalRuleIds:[],fineAllocation:"fund",isRecurring:!1,status:"registration",organizer:l.nickname};d([Q,...r]),t("events")},profile:l,onLogout:j,notificationCount:X}),x.jsx("main",{className:"flex-1 p-6 md:p-12 overflow-y-auto h-screen scroll-smooth",children:x.jsxs("div",{className:"max-w-6xl mx-auto pb-24",children:[i==="dashboard"&&x.jsx(gA,{stats:Ie,fullStats:Ce,lastEvent:$[0],aiReport:W,isGenerating:q,onGenerateRoast:async L=>{Y(!0);try{const J=`Sei un arbitro sarcastico. Fai un roast del match a "${L.location}". Sii breve e cattivo in italiano. Parla dei bidoni, dei debiti e di chi ha vinto MVP/LVP.`,Q=await ue.models.generateContent({model:"gemini-3-flash-preview",contents:J});ne(Q.text||"Nessun commento.")}catch{ne("Errore AI.")}finally{Y(!1)}}}),i==="events"&&x.jsx(yA,{currentUser:l,events:$,setEvents:d,rules:y,friends:N,setTransactions:P,transactions:M,templates:v,onPanicBidone:L=>{},onCastVote:(L,J)=>{},onSuggestTeams:L=>{},groups:k}),i==="ledger"&&x.jsx(vA,{friends:N,transactions:M,setTransactions:P}),i==="fund"&&x.jsx(_A,{transactions:M,setTransactions:P,friends:N}),i==="bets"&&x.jsx(xA,{currentUser:l,bets:_,setBets:C,friends:N,setTransactions:P,transactions:M}),i==="rules"&&x.jsx(TA,{rules:y,setRules:h}),i==="friends"&&x.jsx(SA,{friends:N,currentUser:l,groups:k,onAddGroup:(L,J)=>{const Q={id:Date.now().toString(),name:L,ownerId:l.id,members:[l.nickname],pendingInvites:[],description:J};g([Q,...p])},onRenameGroup:(L,J)=>g(p.map(Q=>Q.id===L?{...Q,name:J}:Q)),onDeleteGroup:L=>{g(p.filter(J=>J.id!==L)),d(r.filter(J=>J.groupId!==L))},onAddMemberToGroup:B,onJoinGroup:re}),i==="profile"&&l&&x.jsx(CA,{profile:l,setProfile:a,stats:Ce.find(L=>L.name===l.name)}),i==="notifications"&&x.jsx(bA,{notifications:H,setNotifications:F,currentUser:l,onAcceptRequest:fe,onRejectRequest:oe,onCancelRequest:pe,onRemoveFriend:L=>{},onSendRequest:ie,onJoinGroup:re})]})})]})},MA=ev.createRoot(document.getElementById("root"));MA.render(x.jsx(RA,{}));
